/*! For license information please see main.6852b456.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],w=!1;function b(e,t){var n,r,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),k.length>0)for(n=0;n<k.length;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function _(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,u=[];for(a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])s(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];u.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var E,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(S(t),I[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e){var t,n;for(n in e)s(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=d({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,E=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var P={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},j={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(j[e]=i),t&&(j[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(j[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)j[r[t]]?r[t]=j[r[t]]:r[t]=z(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=N(r[i])?r[i].call(t,e):r[i];return a}}function B(e,t){return e.isValid()?(t=W(t,e.localeData()),F[t]=F[t]||q(t),F[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;n>=0&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function K(){return this._invalidDate}var Q="%d",$=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)s(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return N(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=se(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,we=/\d{4}/,be=/[+-]?\d{6}/,_e=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Te=/\d{1,3}/,Ee=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,Ne=/[+-]?\d+/,Re=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[+-]?\d+(\.\d{1,3})?/,Pe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function De(e,t,n){me[e]=N(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return s(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Fe={};function je(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=le(e)}),n=0;n<e.length;n++)Fe[e[n]]=r}function Ve(e,t){je(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&s(Fe,e)&&Fe[e](t,n._a,n,e)}var qe,Be=0,We=1,He=2,Ye=3,Ge=4,Ke=5,Qe=6,$e=7,Je=8;function Xe(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),De("M",_e),De("MM",_e,ge),De("MMM",(function(e,t){return t.monthsShortRegex(e)})),De("MMMM",(function(e,t){return t.monthsRegex(e)})),je(["M","MM"],(function(e,t){t[We]=le(e)-1})),je(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Pe,it=Pe;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=qe.call(this._shortMonthsParse,o))||-1!==(i=qe.call(this._longMonthsParse,o))?i:null:-1!==(i=qe.call(this._longMonthsParse,o))||-1!==(i=qe.call(this._shortMonthsParse,o))?i:null}function ut(e,t,n){var r,i,a;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Ue(r[t]),i[t]=Ue(i[t]);for(t=0;t<24;t++)a[t]=Ue(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),De("Y",Ne),De("YY",_e,ge),De("YYYY",Ee,we),De("YYYYY",Ie,be),De("YYYYYY",Ie,be),je(["YYYYY","YYYYYY"],Be),je("YYYY",(function(e,t){t[Be]=2===e.length?r.parseTwoDigitYear(e):le(e)})),je("YY",(function(e,t){t[Be]=r.parseTwoDigitYear(e)})),je("Y",(function(e,t){t[Be]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return ue(this.year())}function gt(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function bt(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return s<=0?o=vt(a=e-1)+s:s>vt(e)?(a=e+1,o=s-vt(e)):(a=e,o=s),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=wt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),De("w",_e),De("ww",_e,ge),De("W",_e),De("WW",_e,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Tt={dow:0,doy:6};function Et(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Rt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),De("d",_e),De("e",_e),De("E",_e),De("dd",(function(e,t){return t.weekdaysMinRegex(e)})),De("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),De("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Pe,Ut=Pe,Ft=Pe;function jt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function qt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=qe.call(this._shortWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._minWeekdaysParse,o))?i:null:-1!==(i=qe.call(this._minWeekdaysParse,o))||-1!==(i=qe.call(this._weekdaysParse,o))||-1!==(i=qe.call(this._shortWeekdaysParse,o))?i:null}function Bt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return qt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Rt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Ue(this.weekdaysMin(n,"")),i=Ue(this.weekdaysShort(n,"")),a=Ue(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),s.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Jt),V("k",["kk",2],0,Xt),V("hmm",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),De("a",en),De("A",en),De("H",_e),De("h",_e),De("k",_e),De("HH",_e,ge),De("hh",_e,ge),De("kk",_e,ge),De("hmm",xe),De("hmmss",Se),De("Hmm",xe),De("Hmmss",Se),je(["H","HH"],Ye),je(["k","kk"],(function(e,t,n){var r=le(e);t[Ye]=24===r?0:r})),je(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),je(["h","hh"],(function(e,t,n){t[Ye]=le(e),m(n).bigHour=!0})),je("hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r)),m(n).bigHour=!0})),je("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ke]=le(e.substr(i)),m(n).bigHour=!0})),je("Hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r))})),je("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ke]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:P,longDateFormat:H,invalidDate:G,ordinal:Q,dayOfMonthOrdinalParse:$,relativeTime:X,months:et,monthsShort:tt,week:Tt,weekdays:Pt,weekdaysMin:Mt,weekdaysShort:Dt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=dn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(t){var n=null;if(void 0===un[t]&&e&&e.exports)try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),pn(n)}catch(r){un[t]=null}return un[t]}function pn(e,t){var n;return e&&((n=c(t)?yn(e):vn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function vn(e,t){if(null!==t){var n,r=sn;if(t.abbr=e,null!=un[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=dn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new O(A(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),pn(e),un[e]}return delete un[e],null}function mn(e,t){if(null!=t){var n,r,i=sn;null!=un[e]&&null!=un[e].parentLocale?un[e].set(A(un[e]._config,t)):(null!=(r=dn(e))&&(i=r._config),t=A(i,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=un[e],un[e]=n),pn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===pn()&&pn(e)):null!=un[e]&&delete un[e]);return un[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=dn(e))return t;e=[e]}return hn(e)}function gn(){return E(un)}function kn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[We]<0||n[We]>11?We:n[He]<1||n[He]>Ze(n[Be],n[We])?He:n[Ye]<0||n[Ye]>24||24===n[Ye]&&(0!==n[Ge]||0!==n[Ke]||0!==n[Qe])?Ye:n[Ge]<0||n[Ge]>59?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Qe]<0||n[Qe]>999?Qe:-1,m(e)._overflowDayOfYear&&(t<Be||t>He)&&(t=He),m(e)._overflowWeeks&&-1===t&&(t=$e),m(e)._overflowWeekday&&-1===t&&(t=Je),m(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/Z|[+-]\d\d(?::?\d\d)?/,xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,En=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,In={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Cn(e){var t,n,r,i,a,o,s=e._i,u=wn.exec(s)||bn.exec(s);if(u){for(m(e).iso=!0,t=0,n=xn.length;t<n;t++)if(xn[t][1].exec(u[1])){i=xn[t][0],r=!1!==xn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(u[3])){a=(u[2]||" ")+Sn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!_n.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Vn(e)}else e._isValid=!1}function Nn(e,t,n,r,i,a){var o=[Rn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Rn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function On(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(e,t,n){if(e)return In[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Dn(e){var t,n=En.exec(An(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!On(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Mn(e){var t=Tn.exec(e._i);null===t?(Cn(e),!1===e._isValid&&(delete e._isValid,Dn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Ln(e,t,n){return null!=e?e:null!=t?t:n}function Un(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Un(e),e._w&&null==e._a[He]&&null==e._a[We]&&jn(e),null!=e._dayOfYear&&(a=Ln(e._a[Be],r[Be]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ye]&&0===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function jn(e){var t,n,r,i,a,o,s,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Ln(t.GG,e._a[Be],_t(Kn(),1,4).year),r=Ln(t.W,1),((i=Ln(t.E,1))<1||i>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t(Kn(),a,o),n=Ln(t.gg,e._a[Be],c.year),r=Ln(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a),r<1||r>xt(n,a,o)?m(e)._overflowWeeks=!0:null!=u?m(e)._overflowWeekday=!0:(s=bt(n,r,i,a,o),e._a[Be]=s.year,e._dayOfYear=s.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,s,u=""+e._i,c=u.length,l=0;for(i=W(e._f,e._locale).match(L)||[],t=0;t<i.length;t++)a=i[t],(n=(u.match(Me(a,e))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&m(e).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),l+=n.length),j[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),ze(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-l,u.length>0&&m(e).unusedInput.push(u),e._a[Ye]<=12&&!0===m(e).bigHour&&e._a[Ye]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ye]=zn(e._locale,e._a[Ye],e._meridiem),null!==(s=m(e).era)&&(e._a[Be]=e._locale.erasConvertYear(s,e._a[Be])),Fn(e),kn(e)}else Dn(e);else Cn(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(s=!0));d(e,n||t)}function Bn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function Wn(e){var t=new _(kn(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(kn(t)):(f(t)?e._d=t:a(n)?qn(e):n?Vn(e):Yn(e),y(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Mn(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):o(t)?Bn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Gn(e,t,n,r,i){var s={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&u(e)||a(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,Wn(s)}function Kn(e,t,n,r){return Gn(e,t,n,r,!1)}r.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),$n=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Xn(){return Jn("isBefore",[].slice.call(arguments,0))}function Zn(){return Jn("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(s(e,t)&&(-1===qe.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==le(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Ir(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function or(e){return e instanceof ar}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function cr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),De("Z",Ae),De("ZZ",Ae),je(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Ae,e)}));var lr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(lr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||f(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function dr(e){return-Math.round(e._d.getTimezoneOffset())}function pr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=dr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Or(this,Ir(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:dr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function mr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(dr(this),"m")),this}function gr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Re,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function kr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function br(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Hn(t))._a?(e=t._isUTC?p(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _r(){return!!this.isValid()&&!this._isUTC}function xr(){return!!this.isValid()&&this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Tr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(e,t){var n,r,i,a=e,o=null;return or(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[He])*n,h:le(o[Ye])*n,m:le(o[Ge])*n,s:le(o[Ke])*n,ms:le(sr(1e3*o[Qe]))*n}):(o=Er.exec(e))?(n="-"===o[1]?-1:1,a={y:Cr(o[2],n),M:Cr(o[3],n),w:Cr(o[4],n),d:Cr(o[5],n),h:Cr(o[6],n),m:Cr(o[7],n),s:Cr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Rr(Kn(a.from),Kn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new ar(a),or(e)&&s(e,"_locale")&&(r._locale=e._locale),or(e)&&s(e,"_isValid")&&(r._isValid=e._isValid),r}function Cr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Rr(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Or(this,Ir(n,r),e),this}}function Or(e,t,n,i){var a=t._milliseconds,o=sr(t._days),s=sr(t._months);e.isValid()&&(i=null==i||i,s&&ct(e,he(e,"Month")+s*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||s))}Ir.fn=ar.prototype,Ir.invalid=ir;var Pr=Ar(1,"add"),Dr=Ar(-1,"subtract");function Mr(e){return"string"===typeof e||e instanceof String}function Lr(e){return x(e)||f(e)||Mr(e)||l(e)||Fr(e)||Ur(e)||null===e||void 0===e}function Ur(e){var t,n,r=o(e)&&!u(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Fr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Mr(e)})).length),t&&n}function jr(e){var t,n,r=o(e)&&!u(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||s(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zr(e,t){1===arguments.length&&(arguments[0]?Lr(arguments[0])?(e=arguments[0],t=void 0):jr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Kn(n)))}function qr(){return new _(this)}function Br(e,t){var n=x(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Wr(e,t){var n=x(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Hr(e,t,n,r){var i=x(e)?e:Kn(e),a=x(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yr(e,t){var n,r=x(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=$r(this,r)/12;break;case"month":a=$r(this,r);break;case"quarter":a=$r(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=B(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(x(e)&&e.isValid()||Kn(e).isValid())?Ir({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Kn(),e)}function ri(e,t){return this.isValid()&&(x(e)&&e.isValid()||Kn(e).isValid())?Ir({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Kn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ui=1e3,ci=60*ui,li=60*ci,fi=3506328*li;function hi(e,t){return(e%t+t)%t}function di(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function pi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),li);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,ui)}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?pi:di,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=li-hi(t+(this._isUTC?0:this.utcOffset()*ci),li)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=ui-hi(t,ui)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function gi(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _i(){return this.isValid()?this.toISOString():null}function xi(){return y(this)}function Si(){return d({},m(this))}function Ti(){return m(this).overflow}function Ei(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ii(e,t){var n,i,a,o=this._eras||yn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ci(e,t,n){var r,i,a,o,s,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(a===e)return u[r];break;case"NNNNN":if(s===e)return u[r]}else if([a,o,s].indexOf(e)>=0)return u[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Di(e){return s(this,"_erasNameRegex")||zi.call(this),e?this._erasNameRegex:this._erasRegex}function Mi(e){return s(this,"_erasAbbrRegex")||zi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Li(e){return s(this,"_erasNarrowRegex")||zi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ui(e,t){return t.erasAbbrRegex(e)}function Fi(e,t){return t.erasNameRegex(e)}function ji(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||Ce}function zi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Ue(o[e].name)),n.push(Ue(o[e].abbr)),i.push(Ue(o[e].narrow)),a.push(Ue(o[e].name)),a.push(Ue(o[e].abbr)),a.push(Ue(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Bi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Wi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return xt(this.year(),1,4)}function Yi(){return xt(this.isoWeekYear(),1,4)}function Gi(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var a=bt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),De("N",Ui),De("NN",Ui),De("NNN",Ui),De("NNNN",Fi),De("NNNNN",ji),je(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),De("y",Ce),De("yy",Ce),De("yyy",Ce),De("yyyy",Ce),De("yo",Vi),je(["y","yy","yyy","yyyy"],Be),je(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Be]=n._locale.eraYearOrdinalParse(e,i):t[Be]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),De("G",Ne),De("g",Ne),De("GG",_e,ge),De("gg",_e,ge),De("GGGG",Ee,we),De("gggg",Ee,we),De("GGGGG",Ie,be),De("ggggg",Ie,be),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),De("Q",ye),je("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),De("D",_e),De("DD",_e,ge),De("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),je(["D","DD"],He),je("Do",(function(e,t){t[He]=le(e.match(_e)[0])}));var Xi=fe("Date",!0);function Zi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),De("DDD",Te),De("DDDD",ke),je(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),De("m",_e),De("mm",_e,ge),je(["m","mm"],Ge);var ea=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),De("s",_e),De("ss",_e,ge),je(["s","ss"],Ke);var ta,na,ra=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),De("S",Te,ye),De("SS",Te,ge),De("SSS",Te,ke),ta="SSSS";ta.length<=9;ta+="S")De(ta,Ce);function ia(e,t){t[Qe]=le(1e3*("0."+e))}for(ta="S";ta.length<=9;ta+="S")je(ta,ia);function aa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}na=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var sa=_.prototype;function ua(e){return Kn(1e3*e)}function ca(){return Kn.apply(null,arguments).parseZone()}function la(e){return e}sa.add=Pr,sa.calendar=zr,sa.clone=qr,sa.diff=Qr,sa.endOf=mi,sa.format=ei,sa.from=ti,sa.fromNow=ni,sa.to=ri,sa.toNow=ii,sa.get=pe,sa.invalidAt=Ti,sa.isAfter=Br,sa.isBefore=Wr,sa.isBetween=Hr,sa.isSame=Yr,sa.isSameOrAfter=Gr,sa.isSameOrBefore=Kr,sa.isValid=xi,sa.lang=oi,sa.locale=ai,sa.localeData=si,sa.max=$n,sa.min=Qn,sa.parsingFlags=Si,sa.set=ve,sa.startOf=vi,sa.subtract=Dr,sa.toArray=wi,sa.toObject=bi,sa.toDate=ki,sa.toISOString=Xr,sa.inspect=Zr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=_i,sa.toString=Jr,sa.unix=gi,sa.valueOf=yi,sa.creationData=Ei,sa.eraName=Ri,sa.eraNarrow=Ai,sa.eraAbbr=Oi,sa.eraYear=Pi,sa.year=mt,sa.isLeapYear=yt,sa.weekYear=Bi,sa.isoWeekYear=Wi,sa.quarter=sa.quarters=Ji,sa.month=lt,sa.daysInMonth=ft,sa.week=sa.weeks=Ct,sa.isoWeek=sa.isoWeeks=Nt,sa.weeksInYear=Gi,sa.weeksInWeekYear=Ki,sa.isoWeeksInYear=Hi,sa.isoWeeksInISOWeekYear=Yi,sa.date=Xi,sa.day=sa.days=Wt,sa.weekday=Ht,sa.isoWeekday=Yt,sa.dayOfYear=Zi,sa.hour=sa.hours=rn,sa.minute=sa.minutes=ea,sa.second=sa.seconds=ra,sa.millisecond=sa.milliseconds=na,sa.utcOffset=pr,sa.utc=mr,sa.local=yr,sa.parseZone=gr,sa.hasAlignedHourOffset=kr,sa.isDST=wr,sa.isLocal=_r,sa.isUtcOffset=xr,sa.isUtc=Sr,sa.isUTC=Sr,sa.zoneAbbr=aa,sa.zoneName=oa,sa.dates=T("dates accessor is deprecated. Use date instead.",Xi),sa.months=T("months accessor is deprecated. Use month instead",lt),sa.years=T("years accessor is deprecated. Use year instead",mt),sa.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),sa.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",br);var fa=O.prototype;function ha(e,t,n,r){var i=yn(),a=p().set(r,t);return i[n](a,e)}function da(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function pa(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=yn(),o=e?a._week.dow:0,s=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=ha(t,(i+o)%7,r,"day");return s}function va(e,t){return da(e,t,"months")}function ma(e,t){return da(e,t,"monthsShort")}function ya(e,t,n){return pa(e,t,n,"weekdays")}function ga(e,t,n){return pa(e,t,n,"weekdaysShort")}function ka(e,t,n){return pa(e,t,n,"weekdaysMin")}fa.calendar=D,fa.longDateFormat=Y,fa.invalidDate=K,fa.ordinal=J,fa.preparse=la,fa.postformat=la,fa.relativeTime=Z,fa.pastFuture=ee,fa.set=R,fa.eras=Ii,fa.erasParse=Ci,fa.erasConvertYear=Ni,fa.erasAbbrRegex=Mi,fa.erasNameRegex=Di,fa.erasNarrowRegex=Li,fa.months=at,fa.monthsShort=ot,fa.monthsParse=ut,fa.monthsRegex=dt,fa.monthsShortRegex=ht,fa.week=St,fa.firstDayOfYear=It,fa.firstDayOfWeek=Et,fa.weekdays=jt,fa.weekdaysMin=zt,fa.weekdaysShort=Vt,fa.weekdaysParse=Bt,fa.weekdaysRegex=Gt,fa.weekdaysShortRegex=Kt,fa.weekdaysMinRegex=Qt,fa.isPM=tn,fa.meridiem=an,pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=T("moment.lang is deprecated. Use moment.locale instead.",pn),r.langData=T("moment.langData is deprecated. Use moment.localeData instead.",yn);var wa=Math.abs;function ba(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function _a(e,t,n,r){var i=Ir(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function xa(e,t){return _a(this,e,t,1)}function Sa(e,t){return _a(this,e,t,-1)}function Ta(e){return e<0?Math.floor(e):Math.ceil(e)}function Ea(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ta(Ca(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=ce(a/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,o+=ce(n/24),s+=i=ce(Ia(o)),o-=Ta(Ca(i)),r=ce(s/12),s%=12,u.days=o,u.months=s,u.years=r,this}function Ia(e){return 4800*e/146097}function Ca(e){return 146097*e/4800}function Na(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ia(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ca(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ra(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Aa(e){return function(){return this.as(e)}}var Oa=Aa("ms"),Pa=Aa("s"),Da=Aa("m"),Ma=Aa("h"),La=Aa("d"),Ua=Aa("w"),Fa=Aa("M"),ja=Aa("Q"),Va=Aa("y");function za(){return Ir(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Ba(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wa=Ba("milliseconds"),Ha=Ba("seconds"),Ya=Ba("minutes"),Ga=Ba("hours"),Ka=Ba("days"),Qa=Ba("months"),$a=Ba("years");function Ja(){return ce(this.days()/7)}var Xa=Math.round,Za={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function eo(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function to(e,t,n,r){var i=Ir(e).abs(),a=Xa(i.as("s")),o=Xa(i.as("m")),s=Xa(i.as("h")),u=Xa(i.as("d")),c=Xa(i.as("M")),l=Xa(i.as("w")),f=Xa(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,eo.apply(null,h)}function no(e){return void 0===e?Xa:"function"===typeof e&&(Xa=e,!0)}function ro(e,t){return void 0!==Za[e]&&(void 0===t?Za[e]:(Za[e]=t,"s"===e&&(Za.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=Za;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},Za,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=to(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ao=Math.abs;function oo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,s,u=ao(this._milliseconds)/1e3,c=ao(this._days),l=ao(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=oo(this._months)!==oo(f)?"-":"",o=oo(this._days)!==oo(f)?"-":"",s=oo(this._milliseconds)!==oo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||u?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(u?s+r+"S":"")):"P0D"}var uo=ar.prototype;return uo.isValid=rr,uo.abs=ba,uo.add=xa,uo.subtract=Sa,uo.as=Na,uo.asMilliseconds=Oa,uo.asSeconds=Pa,uo.asMinutes=Da,uo.asHours=Ma,uo.asDays=La,uo.asWeeks=Ua,uo.asMonths=Fa,uo.asQuarters=ja,uo.asYears=Va,uo.valueOf=Ra,uo._bubble=Ea,uo.clone=za,uo.get=qa,uo.milliseconds=Wa,uo.seconds=Ha,uo.minutes=Ya,uo.hours=Ga,uo.days=Ka,uo.weeks=Ja,uo.months=Qa,uo.years=$a,uo.humanize=io,uo.toISOString=so,uo.toString=so,uo.toJSON=so,uo.locale=ai,uo.localeData=si,uo.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),uo.lang=oi,V("X",0,0,"unix"),V("x",0,0,"valueOf"),De("x",Ne),De("X",Oe),je("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),je("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.1",i(Kn),r.fn=sa,r.min=Xn,r.max=Zn,r.now=er,r.utc=p,r.unix=ua,r.months=va,r.isDate=f,r.locale=pn,r.invalid=g,r.duration=Ir,r.isMoment=x,r.weekdays=ya,r.parseZone=ca,r.localeData=yn,r.isDuration=or,r.monthsShort=ma,r.weekdaysMin=ka,r.defineLocale=vn,r.updateLocale=mn,r.locales=gn,r.weekdaysShort=ga,r.normalizeUnits=re,r.relativeTimeRounding=no,r.relativeTimeThreshold=ro,r.calendarFormat=Vr,r.prototype=sa,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,S=60107,T=60108,E=60114,I=60109,C=60110,N=60112,R=60113,A=60120,O=60115,P=60116,D=60121,M=60128,L=60129,U=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;_=j("react.element"),x=j("react.portal"),S=j("react.fragment"),T=j("react.strict_mode"),E=j("react.profiler"),I=j("react.provider"),C=j("react.context"),N=j("react.forward_ref"),R=j("react.suspense"),A=j("react.suspense_list"),O=j("react.memo"),P=j("react.lazy"),D=j("react.block"),j("react.scope"),M=j("react.opaque.id"),L=j("react.debug_trace_mode"),U=j("react.offscreen"),F=j("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var W=!1;function H(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function Y(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function K(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ce(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Ce=null,Ne=null;function Re(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ie(e.stateNode,e.type,t))}}function Ae(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Pe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Pe,Ue=!1,Fe=!1;function je(){null===Ce&&null===Ne||(Me(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){ze=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,He=null,Ye=!1,Ge=null,Ke={onError:function(e){We=!0,He=e}};function Qe(e,t,n,r,i,a,o,s,u){We=!1,He=null,Be.apply(Ke,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,wt)))}function _t(e){function t(t){return bt(t,e)}if(0<ot.length){bt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&bt(st,e),null!==ut&&bt(ut,e),null!==ct&&bt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Tt={},Et={};function It(e){if(Tt[e])return Tt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return Tt[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=It("animationend"),Nt=It("animationiteration"),Rt=It("animationstart"),At=It("transitionend"),Ot=new Map,Pt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Ut(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ut(u),i=Lt):0!==(s&=a)&&(r=Ut(s),i=Lt)}else 0!==(a=n&~o)?(r=Ut(a),i=Lt):0!==s&&(r=Ut(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Yt|0)|0},Ht=Math.log,Yt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Kt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Ue||Me();var i=Xt,a=Ue;Ue=!0;try{De(i,e,t,n,r)}finally{(Ue=a)||je()}}function Jt(e,t,n,r){Kt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),wn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(bn),xn=un(i({},hn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return In}var Nn=i({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=un(Nn),An=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=un(Dn),Ln=[9,13,27,32],Un=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var jn=f&&"TextEvent"in window&&!Fn,Vn=f&&(!Un||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ae(r),0<(t=Ur(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),$n=Qn=null)}function ar(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Kn(t,$n,e,Ee(e)),e=Jn,Ue)e(t);else{Ue=!0;try{Pe(e,t)}finally{Ue=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,wr=null,br=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Ur(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Sr.length;Tr++)Pt.set(Sr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=He;We=!1,He=null,Ye||(Ye=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ye)throw e=Ge,Ye=!1,Ge=null,e}function Rr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Ir.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Rn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Ct:case Nt:case Rt:u=wn;break;case At:u=Pn;break;case"scroll":u=vn;break;case"wheel":u=Mn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&jr(o,s,u,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,wr=r,br=null);break;case"focusout":br=wr=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Un)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Ur(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,zn);case"textInput":return(e=t.data)===zn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Un&&Bn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Yr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Si=null,Ti=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ii=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ri=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Ui={},Fi=void 0!==Ni?Ni:function(){},ji=null,Vi=null,zi=!1,qi=Ri(),Bi=1e4>qi?Ri:function(){return Ri()-qi};function Wi(){switch(Ai()){case Oi:return 99;case Pi:return 98;case Di:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Di;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Yi(e,t){return e=Hi(e),Ti(e,t)}function Gi(e,t,n){return e=Hi(e),Ei(e,t,n)}function Ki(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}Qi()}function Qi(){if(!zi&&null!==ji){zi=!0;var e=0;try{var t=ji;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Ei(Oi,Ki),n}finally{zi=!1}}}var $i=b.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Sa(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ta(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Yu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ku(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Ju(t,e.mode,n)).return=e,t}if(_a(t)||q(t))return(t=Ku(t,e.mode,n,null)).return=e,t;Sa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||q(n))return null!==i?null:f(e,t,n,r,null);Sa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Sa(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Ku(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ju(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(_a(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&Sa(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Ta(!0),Ia=Ta(!1),Ca={},Na=ci(Ca),Ra=ci(Ca),Aa=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Pa(e,t){switch(fi(Aa,t),fi(Ra,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Ra),li(Aa)}function Ma(e){Oa(Aa.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Ra,e),fi(Na,n))}function La(e){Ra.current===e&&(li(Na),li(Ra))}var Ua=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,za=!1;function qa(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=Kr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(ja=e);qa(ja,n)}ja=e,Va=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,ja=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ya(e){if(e!==ja)return!1;if(!za)return Ha(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Kr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Kr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,za=!1}var Ka=[];function Qa(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var $a=b.ReactCurrentDispatcher,Ja=b.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Po:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Mo,e=n(r,i)}while(ro)}if($a.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Uo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ka.push(t))),e)return n(t._source);throw Ka.push(t),Error(o(350))}function po(e,t,n,r){var i=Ps;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ao.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ao.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function wo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function _o(e,t){return wo(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function So(e,t){return bo(4,2,e,t)}function To(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,To.bind(null,t,e),n)}function Io(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ro(e,t){var n=Wi();Yi(98>n?98:n,(function(){e(!0)})),Yi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Ao(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,To.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ro.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:So,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:So,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Io,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=b.ReactCurrentOwner,Uo=!1;function Fo(e,t,n,r){t.child=null===e?Ia(t,null,n,r):Ea(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Yu(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Uo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return Fo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;bi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&wa(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Ji(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&wa(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Yo(e,t,n,r,a,i)}function Yo(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Ko,Qo,$o,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ua.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Ua,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=Ku(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Yu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Yu(o,s),null!==e?r=Yu(e,r):(r=Ku(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Yu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ya(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Oa(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ya(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Rr("cancel",r),Rr("close",r);break;case"iframe":case"object":case"embed":Rr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Rr(Er[e],r);break;case"source":Rr("error",r);break;case"img":case"image":case"link":Rr("error",r),Rr("load",r);break;case"details":Rr("toggle",r);break;case"input":ee(r,s),Rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Rr("invalid",r);break;case"textarea":ue(r,s),Rr("invalid",r)}for(var c in Se(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Rr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Ko(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Rr("cancel",e),Rr("close",e),a=r;break;case"iframe":case"object":case"embed":Rr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Rr(Er[a],e);a=r;break;case"source":Rr("error",e),a=r;break;case"img":case"image":case"link":Rr("error",e),Rr("load",e),a=r;break;case"details":Rr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Rr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Rr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Rr("invalid",e);break;default:a=r}Se(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Rr("scroll",e):null!=f&&w(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Aa.current),Oa(Na.current),Ya(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Ua),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ya(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ps||0===(134217727&zs)&&0===(134217727&qs)||gu(Ps,Ms))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ua),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Ua,1&Ua.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ys&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ys&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Ua.current,fi(Ua,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Ua),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ua),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=Y(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Se(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Rr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Js=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Uu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Uu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Ts(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bs(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(bs(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Ss(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Ts(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):w(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=Bi(),gs(t.child,!0)),void Is(t);case 19:return void Is(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Is(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Rs=b.ReactCurrentDispatcher,As=b.ReactCurrentOwner,Os=0,Ps=null,Ds=null,Ms=0,Ls=0,Us=ci(0),Fs=0,js=null,Vs=0,zs=0,qs=0,Bs=0,Ws=null,Hs=0,Ys=1/0;function Gs(){Ys=Bi()+500}var Ks,Qs=null,$s=!1,Js=null,Xs=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Os)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===Ps&&(qs|=t,4===Fs&&gu(e,Ms));var r=Wi();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(mu(e,n),0===Os&&(Gs(),Ki())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ut(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Ps?Ms:0),t=Lt,0===r)null!==n&&(n!==Ui&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Ii(n)}15===t?(n=ku.bind(null,e),null===ji?(ji=[n],Vi=Ei(Oi,Qi)):ji.push(n),n=Ui):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Mu()&&e.callbackNode!==t)return null;var n=Ft(e,e===Ps?Ms:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=Eu();for(Ps===e&&Ms===r||(Gs(),Su(e,r));;)try{Nu();break}catch(u){Tu(e,u)}if(na(),Rs.current=a,Os=i,null!==Ds?r=0:(Ps=null,Ms=0,r=Fs),0!==(Vs&qs))Su(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Iu(e,n))),1===r)throw t=js,Su(e,0),gu(e,n),mu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return mu(e,Bi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Mu(),e===Ps&&0!==(e.expiredLanes&Ms)){var t=Ms,n=Iu(e,t);0!==(Vs&qs)&&(n=Iu(e,t=Ft(e,t)))}else n=Iu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Iu(e,t))),1===n)throw n=js,Su(e,0),gu(e,t),mu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),mu(e,Bi()),null}function wu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Ki())}}function bu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Ki())}}function _u(e,t){fi(Us,Ls),Ls|=t,Vs|=t}function xu(){Ls=Us.current,li(Us)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Yr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Ua);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Ps=e,Ds=Yu(e.current,null),Ms=Ls=Vs=t,Fs=0,js=null,Bs=qs=zs=0}function Tu(e,t){for(;;){var n=Ds;try{if(na(),$a.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,As.current=null,null===n||null===n.return){Fs=1,js=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ms,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Ua.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var w=zu.bind(null,a,c,s);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var b=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Xs||!Xs.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Eu(){var e=Rs.current;return Rs.current=Oo,null===e?Oo:e}function Iu(e,t){var n=Os;Os|=16;var r=Eu();for(Ps===e&&Ms===t||Su(e,t);;)try{Cu();break}catch(i){Tu(e,i)}if(na(),Os=n,Rs.current=r,null!==Ds)throw Error(o(261));return Ps=null,Ms=0,Fs}function Cu(){for(;null!==Ds;)Ru(Ds)}function Nu(){for(;null!==Ds&&!Ci();)Ru(Ds)}function Ru(e){var t=Ks(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Au(e):Ds=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ou(e){var t=Wi();return Yi(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Mu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(Ds=Ps=null,Ms=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,As.current=null,zr=Qt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(E){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,Qs=r;do{try{Du()}catch(E){if(null===Qs)throw Error(o(330));Vu(Qs,E),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var k=Qs.flags;if(16&k&&ge(Qs.stateNode,""),128&k){var w=Qs.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&k){case 2:_s(Qs),Qs.flags&=-3;break;case 6:_s(Qs),Qs.flags&=-3,Es(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Es(Qs.alternate,Qs);break;case 4:Es(Qs.alternate,Qs);break;case 8:Ts(s,u=Qs);var _=u.alternate;ws(u),null!==_&&ws(_)}Qs=Qs.nextEffect}}catch(E){if(null===Qs)throw Error(o(330));Vu(Qs,E),Qs=Qs.nextEffect}}while(null!==Qs);if(b=qr,w=mr(),k=b.focusedElem,s=b.selectionRange,w!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&yr(k)&&(w=s.start,void 0===(b=s.end)&&(b=w),"selectionStart"in k?(k.selectionStart=w,k.selectionEnd=Math.min(b,k.value.length)):(b=(w=k.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),u=k.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!b.extend&&_>s&&(u=s,s=_,_=u),u=pr(k,_),a=pr(k,s),u&&a&&(1!==b.rangeCount||b.anchorNode!==u.node||b.anchorOffset!==u.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(u.node,u.offset),b.removeAllRanges(),_>s?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=k;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<w.length;k++)(b=w[k]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Qt=!!zr,qr=zr=null,e.current=n,Qs=r;do{try{for(k=e;null!==Qs;){var x=Qs.flags;if(36&x&&ys(k,Qs.alternate,Qs),128&x){w=void 0;var S=Qs.ref;if(null!==S){var T=Qs.stateNode;Qs.tag,w=T,"function"===typeof S?S(w):S.current=w}}Qs=Qs.nextEffect}}catch(E){if(null===Qs)throw Error(o(330));Vu(Qs,E),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Fi(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((x=Qs).sibling=null,x.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(E){}if(mu(e,Bi()),$s)throw $s=!1,e=Js,Js=null,e;return 0!==(8&Os)||Ki(),null}function Du(){for(;null!==Qs;){var e=Qs.alternate;fu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(fu=!0):13===Qs.tag&&Cs(e,Qs)&&et(Qs,lu)&&(fu=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Mu(),null}))),Qs=Qs.nextEffect}}function Mu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Yi(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Mu(),null})))}function Uu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Mu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Ki(),!0}function ju(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)ju(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){ju(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ms&n)===n&&(4===Fs||3===Fs&&(62914560&Ms)===Ms&&500>Bi()-Hs?Su(e,0):Bs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Vs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),mu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Bu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Ku(n.children,i,a,t);case L:s=8,i|=16;break;case T:s=8,i|=1;break;case E:return(e=Wu(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case R:return(e=Wu(13,n,t,i)).type=R,e.elementType=R,e.lanes=a,e;case A:return(e=Wu(19,n,t,i)).elementType=A,e.lanes=a,e;case U:return Qu(n,i,a,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case C:s=9;break e;case N:s=11;break e;case O:s=14;break e;case P:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ku(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=U,e.lanes=n,e}function $u(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Ju(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=wi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}bu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Ks=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Ma(t);break;case 1:yi(t.type)&&bi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Ua,1&Ua.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Ua,1&Ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Ua,Ua.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Yo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Kr(t.stateNode.containerInfo.firstChild),ja=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ka.push(a);for(n=Ia(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Ma(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),Bo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,bi(t)):e=!1,aa(t,n),ka(t,r,i),ba(t,r,i,n),Yo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=wu,De=function(e,t,n,r,i){var a=Os;Os|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),Ki())}},Me=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Bi())}))}Ki()}(),Mu())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Ki())}};var uc={Events:[ri,ii,ai,Ae,Oe,Mu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Si=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Yi(99,e.bind(null,t))}finally{Os=n,Ki()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(bu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||b(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),s=k("react.provider"),u=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case h:case s:return e;default:return t}}case r:return t}}}},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)b.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+E(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(s=e[c],c);u+=I(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=I(s=s.value,t,n,l=r+E(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function A(){var e=R.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)b.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=T(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var _=g.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=g,u(_,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?b.postMessage(null):(v=!1,m=null)}catch(n){throw b.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,b.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>T(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],I=[],C=1,N=null,R=3,A=!1,O=!1,P=!1;function D(e){for(var t=x(I);null!==t;){if(null===t.callback)S(I);else{if(!(t.startTime<=e))break;S(I),t.sortIndex=t.expirationTime,_(E,t)}t=x(I)}}function M(e){if(P=!1,D(e),!O)if(null!==x(E))O=!0,n(L);else{var t=x(I);null!==t&&r(M,t.startTime-e)}}function L(e,n){O=!1,P&&(P=!1,i()),A=!0;var a=R;try{for(D(n),N=x(E);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,R=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===x(E)&&S(E),D(n)}else S(E);N=x(E)}if(null!==N)var u=!0;else{var c=x(I);null!==c&&r(M,c.startTime-n),u=!1}return u}finally{N=null,R=a,A=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||A||(O=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return x(E)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(I,e),null===x(E)&&e===x(I)&&(P?i():P=!0,r(M,o-s))):(e.sortIndex=u,_(E,e),O||A||(O=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},260:function(e,t,n){"use strict";e.exports=n.p+"static/media/default.07300db72dd3c12efff9.png"},950:function(e,t,n){"use strict";e.exports=n.p+"static/media/sample1.f2cc81221d0678fe0e43.jpg"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/woc4.0-react-bingewatchers-twitter-Nevil-Dalsania/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ra},SDK_VERSION:function(){return So},_DEFAULT_ENTRY_NAME:function(){return uo},_addComponent:function(){return ho},_addOrOverwriteComponent:function(){return po},_apps:function(){return lo},_clearComponents:function(){return go},_components:function(){return fo},_getProvider:function(){return mo},_registerComponent:function(){return vo},_removeServiceInstance:function(){return yo},deleteApp:function(){return Co},getApp:function(){return Eo},getApps:function(){return Io},initializeApp:function(){return To},onLog:function(){return Ao},registerVersion:function(){return Ro},setLogLevel:function(){return Oo}});var t=n(791),r=n(164);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var u="function"===typeof Symbol&&Symbol.observable||"@@observable",c=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function f(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var d=t.createContext(null);var p=function(e){e()},v=function(){return p};var m={notify:function(){},get:function(){return[]}};function y(e,t){var n,r=m;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=v(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return o}var g="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var k=function(e){var n=e.store,r=e.context,i=e.children,a=(0,t.useMemo)((function(){var e=y(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),o=(0,t.useMemo)((function(){return n.getState()}),[n]);g((function(){var e=a.subscription;return e.trySubscribe(),o!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var s=r||d;return t.createElement(s.Provider,{value:a},i)},w=n(110),b=n.n(w);n(900);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function x(){return(0,t.useContext)(d)}function S(e){void 0===e&&(e=d);var n=e===d?x:function(){return(0,t.useContext)(e)};return function(){return n().store}}var T=S();function E(e){void 0===e&&(e=d);var t=e===d?T:S(e);return function(){return t().dispatch}}var I=E(),C=function(e,t){return e===t};function N(e){void 0===e&&(e=d);var n=e===d?x:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=C);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0)[1],s=(0,t.useMemo)((function(){return y(r,i)}),[r,i]),u=(0,t.useRef)(),c=(0,t.useRef)(),l=(0,t.useRef)(),f=(0,t.useRef)(),h=r.getState();try{if(e!==c.current||h!==l.current||u.current){var d=e(h);a=void 0!==f.current&&n(d,f.current)?f.current:d}else a=f.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return g((function(){c.current=e,l.current=h,f.current=a,u.current=void 0})),g((function(){function e(){try{var e=r.getState();if(e===l.current)return;var t=c.current(e);if(n(t,f.current))return;f.current=t,l.current=e}catch(p){u.current=p}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var R,A=N();function O(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}R=r.unstable_batchedUpdates,p=R;var P=O();P.withExtraArgument=O;var D=P;function M(e){if(Array.isArray(e))return e}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){if(e){if("string"===typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function F(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){return M(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||U(e,t)||F()}var V,z=V||(V={});z.Pop="POP",z.Push="PUSH",z.Replace="REPLACE";var q=function(e){return e};function B(e){e.preventDefault(),e.returnValue=""}function W(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function H(){return Math.random().toString(36).substr(2,8)}function Y(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function G(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function K(e,t){if(!e)throw new Error(t)}var Q=(0,t.createContext)(null);var $=(0,t.createContext)(null);var J=(0,t.createContext)({outlet:null,matches:[]});function X(e){var n=e.to,r=e.replace,i=e.state;ie()||K(!1);var a=oe();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function Z(e){return function(e){var n=(0,t.useContext)(J).outlet;if(n)return(0,t.createElement)(se.Provider,{value:e},n);return n}(e.context)}function ee(e){K(!1)}function te(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?V.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;ie()&&K(!1);var h=be(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=G(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,w=void 0===k?"":k,b=p.state,_=void 0===b?null:b,x=p.key,S=void 0===x?"default":x,T=(0,t.useMemo)((function(){var e=ke(m,h);return null==e?null:{pathname:e,search:g,hash:w,state:_,key:S}}),[h,m,g,w,_,S]);return null==T?null:(0,t.createElement)(Q.Provider,{value:d},(0,t.createElement)($.Provider,{children:a,value:{location:T,navigationType:u}}))}function ne(e){var n=e.children,r=e.location;return function(e,n){ie()||K(!1);var r=(0,t.useContext)(J).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=ae();if(n){var c,l="string"===typeof n?G(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||K(!1),s=l}else s=u;var f=s.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=ke(("string"===typeof t?G(t):t).pathname||"/",n);if(null==r)return null;var i=fe(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=ve(i[o],r);return a}(e,{pathname:h});0;return me(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:we([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:we([o,e.pathnameBase])})})),r)}(le(n),r)}function re(e){ie()||K(!1);var n=(0,t.useContext)(Q),r=n.basename,i=n.navigator,a=ce(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?G(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===s?r+(f?"/":""):we([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function ie(){return null!=(0,t.useContext)($)}function ae(){return ie()||K(!1),(0,t.useContext)($).location}function oe(){ie()||K(!1);var e=(0,t.useContext)(Q),n=e.basename,r=e.navigator,i=(0,t.useContext)(J).matches,a=ae().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=ge(e,JSON.parse(o),a);"/"!==n&&(i.pathname=we([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var se=(0,t.createContext)(null);function ue(){var e=(0,t.useContext)(J).matches,n=e[e.length-1];return n?n.params:{}}function ce(e){var n=(0,t.useContext)(J).matches,r=ae().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return ge(e,JSON.parse(i),r)}),[e,i,r])}function le(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==ee&&K(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=le(e.props.children)),n.push(r)}else n.push.apply(n,le(e.props.children))})),n}function fe(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||K(!1),a.relativePath=a.relativePath.slice(r.length));var o=we([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&K(!1),fe(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:pe(o,e.index),routesMeta:s})})),t}var he=/^:\w+$/,de=function(e){return"*"===e};function pe(e,t){var n=e.split("/"),r=n.length;return n.some(de)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!de(e)})).reduce((function(e,t){return e+(he.test(t)?3:""===t?1:10)}),r)}function ve(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=ye({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:we([i,l.pathname]),pathnameBase:we([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=we([i,l.pathnameBase]))}return a}function me(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(J.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(Z,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function ye(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=j(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function ge(e,t,n){var r,i="string"===typeof e?G(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?G(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:_e(a),hash:xe(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function ke(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var we=function(e){return e.join("/").replace(/\/\/+/g,"/")},be=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},_e=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},xe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Se(){return Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function Te(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ee=["onClick","reloadDocument","replace","state","target","to"],Ie=["aria-current","caseSensitive","className","end","style","to","children"];function Ce(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,q({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:Y(e)}function r(e,t){return void 0===t&&(t=null),q(_({pathname:f.pathname,hash:"",search:""},"string"===typeof e?G(e):e,{state:t,key:H()}))}function i(e){c=e,e=t(),l=e[0],f=e[1],h.call({action:c,location:f})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)d.call(u),u=null;else{var e=V.Pop,n=t(),r=n[0];if(n=n[1],d.length){if(null!=r){var o=l-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=V.Pop,l=(e=t())[0],f=e[1],h=W(),d=W();return null==l&&(l=0,s.replaceState(_({},s.state,{idx:l}),"")),{get action(){return c},get location(){return f},createHref:n,push:function e(t,a){var u=V.Push,c=r(t,a);if(!d.length||(d.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{s.pushState(c,"",f)}catch(gf){o.location.assign(f)}i(u)}},replace:function e(t,a){var o=V.Replace,u=r(t,a);d.length&&(d.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:l},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return h.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&o.addEventListener("beforeunload",B),function(){t(),d.length||o.removeEventListener("beforeunload",B)}}}}({window:i}));var o=a.current,s=j((0,t.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(te,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var Ne=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=Te(e,Ee),f=re(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=oe(),u=ae(),c=ce(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||Y(u)===Y(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",Se({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:u}))}));var Re=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=Te(e,Ie),v=ae(),m=ce(h),y=v.pathname,g=m.pathname;o||(y=y.toLowerCase(),g=g.toLowerCase());var k,w=y===g||!l&&y.startsWith(g)&&"/"===y.charAt(g.length),b=w?i:void 0;k="function"===typeof u?u({isActive:w}):[u,w?"active":null].filter(Boolean).join(" ");var _="function"===typeof f?f({isActive:w}):f;return(0,t.createElement)(Ne,Se({},p,{"aria-current":b,className:k,ref:n,style:_,to:h}),"function"===typeof d?d({isActive:w}):d)}));function Ae(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Oe(e,t){if(null==e)return{};var n,r,i=Ae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pe(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Pe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function De(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Pe(e))&&(r&&(r+=" "),r+=t);return r}var Me="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le="object"===("undefined"===typeof window?"undefined":Me(window))&&"object"===("undefined"===typeof document?"undefined":Me(document))&&9===document.nodeType;function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&Ue(e.prototype,t),n&&Ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function je(e,t){return je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},je(e,t)}function Ve(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,je(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qe={}.constructor;function Be(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(Be);if(e.constructor!==qe)return e;var t={};for(var n in e)t[n]=Be(e[n]);return t}function We(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=Be(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var He=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},Ye=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=He(e[r]," ");else n=He(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function Ge(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Ke(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Qe(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=Ge(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=Ke(h+":"+c+Ye(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=Ke(p+":"+c+Ye(v)+";",a))}for(var m in t){var y=t[m];null!=y&&"fallbacks"!==m&&(r&&(r+=u),r+=Ke(m+":"+c+Ye(y)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),Ke(""+e+c+"{"+r,--a)+Ke("}",a)):r}var $e=/([[\].#*$><+~=|^:(),"'`\s])/g,Je="undefined"!==typeof CSS&&CSS.escape,Xe=function(e){return Je?Je(e):e.replace($e,"\\$1")},Ze=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),et=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u(ze(ze(i)),s),i.selectorText="."+Xe(i.id)),i}Ve(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Ye(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?_({},e,{allowEmpty:!0}):e;return Qe(this.selectorText,this.style,n)},Fe(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(Ze),tt={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new et(e,t,n)}},nt={indent:1,children:!0},rt=/@([\w-]+)/,it=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(rt);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Ct(_({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=nt);var t=Ge(e).linebreak;if(null==e.indent&&(e.indent=nt.indent),null==e.children&&(e.children=nt.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),at=/@media|@supports\s+/,ot={onCreateRule:function(e,t,n){return at.test(e)?new it(e,t,n):null}},st={indent:1,children:!0},ut=/@keyframes\s+([\w-]+)/,ct=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(ut);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var s in this.id=!1===i?this.name:Xe(o(this,a)),this.rules=new Ct(_({},n,{parent:this})),t)this.rules.add(s,t[s],_({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=st);var t=Ge(e).linebreak;if(null==e.indent&&(e.indent=st.indent),null==e.children&&(e.children=st.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),lt=/@keyframes\s+/,ft=/\$([\w-]+)/g,ht=function(e,t){return"string"===typeof e?e.replace(ft,(function(e,n){return n in t?t[n]:e})):e},dt=function(e,t,n){var r=e[t],i=ht(r,n);i!==r&&(e[t]=i)},pt={onCreateRule:function(e,t,n){return"string"===typeof e&&lt.test(e)?new ct(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&dt(e,"animation-name",n.keyframes),"animation"in e&&dt(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return ht(e,r.keyframes);default:return e}}},vt=function(e){function t(){return e.apply(this,arguments)||this}return Ve(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?_({},e,{allowEmpty:!0}):e;return Qe(this.key,this.style,n)},t}(Ze),mt={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new vt(e,t,n):null}},yt=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=Ge(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=Qe(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return Qe(this.at,this.style,e)},e}(),gt=/@font-face/,kt={onCreateRule:function(e,t,n){return gt.test(e)?new yt(e,t,n):null}},wt=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Qe(this.key,this.style,e)},e}(),bt={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new wt(e,t,n):null}},_t=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),xt={"@charset":!0,"@import":!0,"@namespace":!0},St={onCreateRule:function(e,t,n){return e in xt?new _t(e,t,n):null}},Tt=[tt,ot,pt,mt,kt,bt,St],Et={process:!0},It={force:!0,process:!0},Ct=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,s=r.Renderer,u=r.generateId,c=r.scoped,l=_({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:s,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(l.selector="."+Xe(this.classes[f]));var h=We(f,t,l);if(!h)return null;this.register(h);var d=void 0===l.index?this.index.length:l.index;return this.index.splice(d,0,h),h},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=_({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof et?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof ct&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof et?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof ct&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Et);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,It)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,It)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=Ge(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),Nt=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=_({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Ct(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Rt=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),At=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=Ae(t,["attached"]),i=Ge(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},Fe(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Ot=new At,Pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Dt="2f1acc6c3a606b082e5eef5e54414ffb";null==Pt[Dt]&&(Pt[Dt]=0);var Mt=Pt[Dt]++,Lt=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+Mt+i+t:a+n.key+"-"+Mt+(i?"-"+i:"")+"-"+t}},Ut=function(e){var t;return function(){return t||(t=e()),t}},Ft=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},jt=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=Ye(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},Vt=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},zt=function(e,t){return e.selectorText=t,e.selectorText===t},qt=Ut((function(){return document.querySelector("head")}));function Bt(e){var t=Ot.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=qt(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Wt=Ut((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Ht=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Yt=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Gt=function(){function e(e){this.getPropertyValue=Ft,this.setProperty=jt,this.removeProperty=Vt,this.setSelector=zt,this.hasInsertedRules=!1,this.cssRules=[],e&&Ot.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Wt();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Bt(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else qt().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Yt(n,t);if(!1===(i=Ht(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=Yt(n,t),u=Ht(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Nt&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Kt=0,Qt=function(){function e(e){this.id=Kt++,this.version="10.9.0",this.plugins=new Rt,this.options={id:{minify:!1},createGenerateId:Lt,Renderer:Le?Gt:null,plugins:[]},this.generateId=Lt({minify:!1});for(var t=0;t<Tt.length;t++)this.plugins.use(Tt[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=_({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Ot.index?0:Ot.index+1);var r=new Nt(e,_({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Ot.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=_({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=We(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),$t=function(e){return new Qt(e)},Jt="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Xt(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Xt(r);a&&(t||(t={}),t[n]=a)}}return t}$t();function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=_({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var en={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},tn=en;var nn=t.createContext(null);function rn(){return t.useContext(nn)}var an="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",on=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var sn=Date.now(),un="fnValues"+sn,cn="fnStyle"+ ++sn,ln=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=We(e,{},n);return r[cn]=t,r},onProcessStyle:function(e,t){if(un in t||cn in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[un]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[cn];a&&(i.style=a(e)||{});var o=i[un];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},fn="@global",hn="@global ",dn=function(){function e(e,t,n){for(var r in this.type="global",this.at=fn,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Ct(_({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),pn=function(){function e(e,t,n){this.type="global",this.at=fn,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(hn.length);this.rule=n.jss.createRule(r,t,_({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),vn=/\s*,\s*/g;function mn(e,t){for(var n=e.split(vn),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var yn=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===fn)return new dn(e,t,n);if("@"===e[0]&&e.substr(0,hn.length)===hn)return new pn(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[fn]:null;if(i){for(var a in i)t.addRule(a,i[a],_({},n,{selector:mn(a,e.selector)}));delete r[fn]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,fn.length)===fn){var a=mn(i.substr(fn.length),e.selector);t.addRule(a,r[i],_({},n,{selector:a})),delete r[i]}}(e,t))}}},gn=/\s*,\s*/g,kn=/&/g,wn=/\$([\w-]+)/g;var bn=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(gn),r=e.split(gn),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(kn,o):o+" "+u}return i}function n(e,t,n){if(n)return _({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=_({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,s,u=i,c=u.options.parent;for(var l in r){var f=-1!==l.indexOf("&"),h="@"===l[0];if(f||h){if(o=n(u,c,o),f){var d=t(l,u.selector);s||(s=e(c,a)),d=d.replace(wn,s);var p=u.key+"-"+l;"replaceRule"in c?c.replaceRule(p,r[l],_({},o,{selector:d})):c.addRule(p,r[l],_({},o,{selector:d}))}else h&&c.addRule(l,{},o).addRule(u.key,r[l],{selector:u.selector});delete r[l]}}return r}}},_n=/[A-Z]/g,xn=/^ms-/,Sn={};function Tn(e){return"-"+e.toLowerCase()}var En=function(e){if(Sn.hasOwnProperty(e))return Sn[e];var t=e.replace(_n,Tn);return Sn[e]=xn.test(t)?"-"+t:t};function In(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:En(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(In):t.fallbacks=In(e.fallbacks)),t}var Cn=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=In(e[t]);return e}return In(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=En(t);return t===r?e:(n.prop(r,e),null)}}},Nn=Jt&&CSS?CSS.px:"px",Rn=Jt&&CSS?CSS.ms:"ms",An=Jt&&CSS?CSS.percent:"%";function On(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var Pn=On({"animation-delay":Rn,"animation-duration":Rn,"background-position":Nn,"background-position-x":Nn,"background-position-y":Nn,"background-size":Nn,border:Nn,"border-bottom":Nn,"border-bottom-left-radius":Nn,"border-bottom-right-radius":Nn,"border-bottom-width":Nn,"border-left":Nn,"border-left-width":Nn,"border-radius":Nn,"border-right":Nn,"border-right-width":Nn,"border-top":Nn,"border-top-left-radius":Nn,"border-top-right-radius":Nn,"border-top-width":Nn,"border-width":Nn,"border-block":Nn,"border-block-end":Nn,"border-block-end-width":Nn,"border-block-start":Nn,"border-block-start-width":Nn,"border-block-width":Nn,"border-inline":Nn,"border-inline-end":Nn,"border-inline-end-width":Nn,"border-inline-start":Nn,"border-inline-start-width":Nn,"border-inline-width":Nn,"border-start-start-radius":Nn,"border-start-end-radius":Nn,"border-end-start-radius":Nn,"border-end-end-radius":Nn,margin:Nn,"margin-bottom":Nn,"margin-left":Nn,"margin-right":Nn,"margin-top":Nn,"margin-block":Nn,"margin-block-end":Nn,"margin-block-start":Nn,"margin-inline":Nn,"margin-inline-end":Nn,"margin-inline-start":Nn,padding:Nn,"padding-bottom":Nn,"padding-left":Nn,"padding-right":Nn,"padding-top":Nn,"padding-block":Nn,"padding-block-end":Nn,"padding-block-start":Nn,"padding-inline":Nn,"padding-inline-end":Nn,"padding-inline-start":Nn,"mask-position-x":Nn,"mask-position-y":Nn,"mask-size":Nn,height:Nn,width:Nn,"min-height":Nn,"max-height":Nn,"min-width":Nn,"max-width":Nn,bottom:Nn,left:Nn,top:Nn,right:Nn,inset:Nn,"inset-block":Nn,"inset-block-end":Nn,"inset-block-start":Nn,"inset-inline":Nn,"inset-inline-end":Nn,"inset-inline-start":Nn,"box-shadow":Nn,"text-shadow":Nn,"column-gap":Nn,"column-rule":Nn,"column-rule-width":Nn,"column-width":Nn,"font-size":Nn,"font-size-delta":Nn,"letter-spacing":Nn,"text-decoration-thickness":Nn,"text-indent":Nn,"text-stroke":Nn,"text-stroke-width":Nn,"word-spacing":Nn,motion:Nn,"motion-offset":Nn,outline:Nn,"outline-offset":Nn,"outline-width":Nn,perspective:Nn,"perspective-origin-x":An,"perspective-origin-y":An,"transform-origin":An,"transform-origin-x":An,"transform-origin-y":An,"transform-origin-z":An,"transition-delay":Rn,"transition-duration":Rn,"vertical-align":Nn,"flex-basis":Nn,"shape-margin":Nn,size:Nn,gap:Nn,grid:Nn,"grid-gap":Nn,"row-gap":Nn,"grid-row-gap":Nn,"grid-column-gap":Nn,"grid-template-rows":Nn,"grid-template-columns":Nn,"grid-auto-rows":Nn,"grid-auto-columns":Nn,"box-shadow-x":Nn,"box-shadow-y":Nn,"box-shadow-blur":Nn,"box-shadow-spread":Nn,"font-line-height":Nn,"text-shadow-x":Nn,"text-shadow-y":Nn,"text-shadow-blur":Nn});function Dn(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Dn(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Dn(i,t[i],n);else for(var a in t)t[a]=Dn(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||Pn[e];return!o||0===t&&o===Nn?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var Mn=function(e){void 0===e&&(e={});var t=On(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Dn(r,e[r],t);return e},onChangeValue:function(e,n){return Dn(n,e,t)}}};function Ln(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Un(e){return function(e){if(Array.isArray(e))return L(e)}(e)||Ln(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fn="",jn="",Vn="",zn="",qn=Le&&"ontouchstart"in document.documentElement;if(Le){var Bn={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Wn=document.createElement("p").style;for(var Hn in Bn)if(Hn+"Transform"in Wn){Fn=Hn,jn=Bn[Hn];break}"Webkit"===Fn&&"msHyphens"in Wn&&(Fn="ms",jn=Bn.ms,zn="edge"),"Webkit"===Fn&&"-apple-trailing-word"in Wn&&(Vn="apple")}var Yn=Fn,Gn=jn,Kn=Vn,Qn=zn,$n=qn;var Jn={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Yn?"-webkit-"+e:Gn+e)}},Xn={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Yn?Gn+"print-"+e:e)}},Zn=/[-\s]+(.)?/g;function er(e,t){return t?t.toUpperCase():""}function tr(e){return e.replace(Zn,er)}function nr(e){return tr("-"+e)}var rr,ir={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Yn){var n="mask-image";if(tr(n)in t)return e;if(Yn+nr(n)in t)return Gn+e}return e}},ar={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Kn||$n?e:Gn+e)}},or={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Gn+e)}},sr={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Gn+e)}},ur={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Yn||"ms"===Yn&&"edge"!==Qn?Gn+e:e)}},cr={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Yn||"ms"===Yn||"apple"===Kn?Gn+e:e)}},lr={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Yn?"WebkitColumn"+nr(e)in t&&Gn+"column-"+e:"Moz"===Yn&&("page"+nr(e)in t&&"page-"+e))}},fr={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Yn)return e;var n=e.replace("-inline","");return Yn+nr(n)in t&&Gn+n}},hr={supportedProperty:function(e,t){return tr(e)in t&&e}},dr={supportedProperty:function(e,t){var n=nr(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Yn+n in t?Gn+e:"Webkit"!==Yn&&"Webkit"+n in t&&"-webkit-"+e}},pr={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Yn?""+Gn+e:e)}},vr={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Yn?Gn+"scroll-chaining":e)}},mr={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},yr={supportedProperty:function(e,t){var n=mr[e];return!!n&&(Yn+nr(n)in t&&Gn+n)}},gr={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},kr=Object.keys(gr),wr=function(e){return Gn+e},br={supportedProperty:function(e,t,n){var r=n.multiple;if(kr.indexOf(e)>-1){var i=gr[e];if(!Array.isArray(i))return Yn+nr(i)in t&&Gn+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Yn+nr(i[0])in t))return!1;return i.map(wr)}return!1}},_r=[Jn,Xn,ir,ar,or,sr,ur,cr,lr,fr,hr,dr,pr,vr,yr,br],xr=_r.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Sr=_r.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,Un(t.noPrefill)),e}),[]),Tr={};if(Le){rr=document.createElement("p");var Er=window.getComputedStyle(document.documentElement,"");for(var Ir in Er)isNaN(Ir)||(Tr[Er[Ir]]=Er[Ir]);Sr.forEach((function(e){return delete Tr[e]}))}function Cr(e,t){if(void 0===t&&(t={}),!rr)return e;if(null!=Tr[e])return Tr[e];"transition"!==e&&"transform"!==e||(t[e]=e in rr.style);for(var n=0;n<xr.length&&(Tr[e]=xr[n](e,rr.style,t),!Tr[e]);n++);try{rr.style[e]=""}catch(r){return!1}return Tr[e]}var Nr,Rr={},Ar={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Or=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Pr(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Cr(t):", "+Cr(n);return r||(t||n)}function Dr(e,t){var n=t;if(!Nr||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Rr[r])return Rr[r];try{Nr.style[e]=n}catch(i){return Rr[r]=!1,!1}if(Ar[e])n=n.replace(Or,Pr);else if(""===Nr.style[e]&&("-ms-flex"===(n=Gn+n)&&(Nr.style[e]="-ms-flexbox"),Nr.style[e]=n,""===Nr.style[e]))return Rr[r]=!1,!1;return Nr.style[e]="",Rr[r]=n,Rr[r]}Le&&(Nr=document.createElement("p"));var Mr=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Cr(n);a&&a!==n&&(i=!0);var o=!1,s=Dr(a,Ye(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Yn?e:"@"+Gn+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Dr(t,Ye(e))||e}}};var Lr=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var Ur=$t({plugins:[ln(),yn(),bn(),Cn(),Mn(),"undefined"===typeof window?null:Mr(),Lr()]}),Fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==on.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[an]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),jr={disableGeneration:!1,generateClassName:Fr,jss:Ur,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Vr=t.createContext(jr);var zr=-1e9;function qr(){return zr+=1}function Br(e){return Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Br(e)}function Wr(e){return e&&"object"===Br(e)&&e.constructor===Object}function Hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?_({},e):e;return Wr(e)&&Wr(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Wr(t[i])&&i in e?r[i]=Hr(e[i],t[i],n):r[i]=t[i])})),r}function Yr(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=_({},i);return Object.keys(a).forEach((function(e){o[e]=Hr(o[e],a[e])})),o},options:{}}}var Gr={};function Kr(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Zt({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Qr(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var s=tn.get(i.sheetsManager,a,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},tn.set(i.sheetsManager,a,r,s));var u=_({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=i.sheetsRegistry;if(0===s.refs){var l;i.sheetsCache&&(l=tn.get(i.sheetsCache,a,r));var f=a.create(r,o);l||((l=i.jss.createStyleSheet(f,_({link:!1},u))).attach(),i.sheetsCache&&tn.set(i.sheetsCache,a,r,l)),c&&c.add(l),s.staticSheet=l,s.dynamicStyles=Xt(f)}if(s.dynamicStyles){var h=i.jss.createStyleSheet(s.dynamicStyles,_({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=Zt({baseClasses:s.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function $r(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Jr(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=tn.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(tn.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Xr(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function Zr(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,s=void 0===o?Gr:o,u=Oe(n,["name","classNamePrefix","Component","defaultTheme"]),c=Yr(e),l=r||i||"makeStyles";c.options={index:qr(),name:r,meta:l,classNamePrefix:l};var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=rn()||s,i=_({},t.useContext(Vr),u),o=t.useRef(),l=t.useRef();Xr((function(){var t={name:r,state:{},stylesCreator:c,stylesOptions:i,theme:n};return Qr(t,e),l.current=!1,o.current=t,function(){Jr(t)}}),[n,c]),t.useEffect((function(){l.current&&$r(o.current,e),l.current=!0}));var f=Kr(o.current,e.classes,a);return f};return f}function ei(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var ti=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,s=n.name,u=Oe(n,["defaultTheme","withTheme","name"]);var c=s,l=Zr(e,_({defaultTheme:i,Component:r,name:s||r.displayName,classNamePrefix:c},u)),f=t.forwardRef((function(e,n){e.classes;var a,u=e.innerRef,c=Oe(e,["classes","innerRef"]),f=l(_({},r.defaultProps,e)),h=c;return("string"===typeof s||o)&&(a=rn()||i,s&&(h=ei({theme:a,name:s,props:c})),o&&!h.theme&&(h.theme=a)),t.createElement(r,_({ref:u||n,classes:f},h))}));return b()(f,r),f}},ni=["xs","sm","md","lg","xl"];function ri(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=Oe(e,["values","unit","step"]);function u(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e,t){var r=ni.indexOf(t);return r===ni.length-1?u(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[ni[r+1]]?n[ni[r+1]]:t)-o/100).concat(i,")")}return _({keys:ni,values:n,up:u,down:function(e){var t=ni.indexOf(e)+1,r=n[ni[t]];return t===ni.length?u("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:c,only:function(e){return c(e,e)},width:function(e){return n[e]}},s)}function ii(e,t,n){var r;return _({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),_({paddingLeft:t(2),paddingRight:t(2)},n,i({},e.up("sm"),_({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},i(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),i(r,e.up("sm"),{minHeight:64}),r)},n)}function ai(e){for(var t="https://material-ui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var oi={black:"#000",white:"#fff"},si={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},ui={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},ci={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},li={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},fi={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},hi={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},di={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function vi(e){if(e.type)return e;if("#"===e.charAt(0))return vi(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(ai(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function mi(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function yi(e){var t="hsl"===(e=vi(e)).type?vi(function(e){var t=(e=vi(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),mi({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function gi(e,t){if(e=vi(e),t=pi(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return mi(e)}function ki(e,t){if(e=vi(e),t=pi(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return mi(e)}var wi={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:oi.white,default:si[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bi={text:{primary:oi.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:si[800],default:"#303030"},action:{active:oi.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function _i(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=ki(e.main,i):"dark"===t&&(e.dark=gi(e.main,a)))}function xi(e){var t=e.primary,n=void 0===t?{light:ui[300],main:ui[500],dark:ui[700]}:t,r=e.secondary,i=void 0===r?{light:ci.A200,main:ci.A400,dark:ci.A700}:r,a=e.error,o=void 0===a?{light:li[300],main:li[500],dark:li[700]}:a,s=e.warning,u=void 0===s?{light:fi[300],main:fi[500],dark:fi[700]}:s,c=e.info,l=void 0===c?{light:hi[300],main:hi[500],dark:hi[700]}:c,f=e.success,h=void 0===f?{light:di[300],main:di[500],dark:di[700]}:f,d=e.type,p=void 0===d?"light":d,v=e.contrastThreshold,m=void 0===v?3:v,y=e.tonalOffset,g=void 0===y?.2:y,k=Oe(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function w(e){var t=function(e,t){var n=yi(e),r=yi(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,bi.text.primary)>=m?bi.text.primary:wi.text.primary;return t}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=_({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(ai(4,t));if("string"!==typeof e.main)throw new Error(ai(5,JSON.stringify(e.main)));return _i(e,"light",n,g),_i(e,"dark",r,g),e.contrastText||(e.contrastText=w(e.main)),e},x={dark:bi,light:wi};return Hr(_({common:oi,type:p,primary:b(n),secondary:b(i,"A400","A200","A700"),error:b(o),warning:b(u),info:b(l),success:b(h),grey:si,contrastThreshold:m,getContrastText:w,augmentColor:b,tonalOffset:g},x[p]),k)}function Si(e){return Math.round(1e5*e)/1e5}function Ti(e){return Si(e)}var Ei={textTransform:"uppercase"},Ii='"Roboto", "Helvetica", "Arial", sans-serif';function Ci(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?Ii:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,m=void 0===v?16:v,y=n.allVariants,g=n.pxToRem,k=Oe(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var w=o/14,b=g||function(e){return"".concat(e/m*w,"rem")},x=function(e,t,n,r,a){return _({fontFamily:i,fontWeight:e,fontSize:b(t),lineHeight:n},i===Ii?{letterSpacing:"".concat(Si(r/t),"em")}:{},a,y)},S={h1:x(u,96,1.167,-1.5),h2:x(u,60,1.2,-.5),h3:x(l,48,1.167,0),h4:x(l,34,1.235,.25),h5:x(l,24,1.334,0),h6:x(h,20,1.6,.15),subtitle1:x(l,16,1.75,.15),subtitle2:x(h,14,1.57,.1),body1:x(l,16,1.5,.15),body2:x(l,14,1.43,.15),button:x(h,14,1.75,.4,Ei),caption:x(l,12,1.66,.4),overline:x(l,12,2.66,1,Ei)};return Hr(_({htmlFontSize:m,pxToRem:b,round:Ti,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},S),k,{clone:!1})}function Ni(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Ri=["none",Ni(0,2,1,-1,0,1,1,0,0,1,3,0),Ni(0,3,1,-2,0,2,2,0,0,1,5,0),Ni(0,3,3,-2,0,3,4,0,0,1,8,0),Ni(0,2,4,-1,0,4,5,0,0,1,10,0),Ni(0,3,5,-1,0,5,8,0,0,1,14,0),Ni(0,3,5,-1,0,6,10,0,0,1,18,0),Ni(0,4,5,-2,0,7,10,1,0,2,16,1),Ni(0,5,5,-3,0,8,10,1,0,3,14,2),Ni(0,5,6,-3,0,9,12,1,0,3,16,2),Ni(0,6,6,-3,0,10,14,1,0,4,18,3),Ni(0,6,7,-4,0,11,15,1,0,4,20,3),Ni(0,7,8,-4,0,12,17,2,0,5,22,4),Ni(0,7,8,-4,0,13,19,2,0,5,24,4),Ni(0,7,9,-4,0,14,21,2,0,5,26,4),Ni(0,8,9,-5,0,15,22,2,0,6,28,5),Ni(0,8,10,-5,0,16,24,2,0,6,30,5),Ni(0,8,11,-5,0,17,26,2,0,6,32,5),Ni(0,9,11,-5,0,18,28,2,0,7,34,6),Ni(0,9,12,-6,0,19,29,2,0,7,36,6),Ni(0,10,13,-6,0,20,31,3,0,8,38,7),Ni(0,10,13,-6,0,21,33,3,0,8,40,7),Ni(0,10,14,-6,0,22,35,3,0,8,42,7),Ni(0,11,14,-7,0,23,36,3,0,9,44,8),Ni(0,11,15,-7,0,24,38,3,0,9,46,8)],Ai={borderRadius:4},Oi={xs:0,sm:600,md:960,lg:1280,xl:1920},Pi={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Oi[e],"px)")}};var Di=function(e,t){return t?Hr(e,t,{clone:!1}):e};var Mi={m:"margin",p:"padding"},Li={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ui={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Fi=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!Ui[e])return[e];e=Ui[e]}var t=j(e.split(""),2),n=t[0],r=t[1],i=Mi[n],a=Li[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),ji=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Vi(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function zi(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function qi(e){var t=Vi(e.theme);return Object.keys(e).map((function(n){if(-1===ji.indexOf(n))return null;var r=zi(Fi(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Pi;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===Br(t)){var i=e.theme.breakpoints||Pi;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(Di,{})}qi.propTypes={},qi.filterProps=ji;function Bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Vi({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Wi={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Hi={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Yi(e){return"".concat(Math.round(e),"ms")}var Gi={easing:Wi,duration:Hi,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Hi.standard:n,i=t.easing,a=void 0===i?Wi.easeInOut:i,o=t.delay,s=void 0===o?0:o;Oe(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Yi(r)," ").concat(a," ").concat("string"===typeof s?s:Yi(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Ki={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Qi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,s=e.spacing,u=e.typography,c=void 0===u?{}:u,l=Oe(e,["breakpoints","mixins","palette","spacing","typography"]),f=xi(o),h=ri(n),d=Bi(s),p=Hr({breakpoints:h,direction:"ltr",mixins:ii(h,d,i),overrides:{},palette:f,props:{},shadows:Ri,typography:Ci(f,c),spacing:d,shape:Ai,transitions:Gi,zIndex:Ki},l),v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return Hr(e,t)}),p)}var $i=Qi();var Ji=function(e,t){return ti(e,_({defaultTheme:$i},t))};function Xi(e){if("string"!==typeof e)throw new Error(ai(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Zi=44,ea=t.forwardRef((function(e,n){var r=e.classes,i=e.className,a=e.color,o=void 0===a?"primary":a,s=e.disableShrink,u=void 0!==s&&s,c=e.size,l=void 0===c?40:c,f=e.style,h=e.thickness,d=void 0===h?3.6:h,p=e.value,v=void 0===p?0:p,m=e.variant,y=void 0===m?"indeterminate":m,g=Oe(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),k={},w={},b={};if("determinate"===y||"static"===y){var x=2*Math.PI*((Zi-d)/2);k.strokeDasharray=x.toFixed(3),b["aria-valuenow"]=Math.round(v),k.strokeDashoffset="".concat(((100-v)/100*x).toFixed(3),"px"),w.transform="rotate(-90deg)"}return t.createElement("div",_({className:De(r.root,i,"inherit"!==o&&r["color".concat(Xi(o))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[y]),style:_({width:l,height:l},w,f),ref:n,role:"progressbar"},b,g),t.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(Zi," ").concat(Zi)},t.createElement("circle",{className:De(r.circle,u&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[y]),style:k,cx:Zi,cy:Zi,r:(Zi-d)/2,fill:"none",strokeWidth:d})))})),ta=Ji((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(ea);function na(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ra(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){na(a,r,i,o,s,"next",e)}function s(e){na(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ia=n(757),aa=n.n(ia);function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sa(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=U(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ua(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&je(e,t)}function ca(e){return ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ca(e)}function la(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fa(e,t){if(t&&("object"===Br(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function ha(e){var t=la();return function(){var n,r=ca(e);if(t){var i=ca(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fa(this,n)}}function da(e,t,n){return da=la()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&je(i,n.prototype),i},da.apply(null,arguments)}function pa(e){var t="function"===typeof Map?new Map:void 0;return pa=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return da(e,arguments,ca(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),je(n,e)},pa(e)}var va=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ma={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(va(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ya=function(e){return function(e){var t=va(e);return ma.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ga=function(e){try{return ma.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ka(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&wa(n)&&(e[n]=ka(e[n],t[n]));return e}function wa(e){return"__proto__"!==e}var ba=function(){function e(){var t=this;oa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Fe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _a(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ya(JSON.stringify({alg:"none",type:"JWT"})),ya(JSON.stringify(a)),""].join(".")}function xa(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Sa(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xa())}function Ta(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ea(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ia(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ca(){var e=xa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Na(){return"object"===typeof indexedDB}var Ra=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ze(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ze(a),Aa.prototype.create),a}return Fe(n)}(pa(Error)),Aa=function(){function e(t,n,r){oa(this,e),this.service=t,this.serviceName=n,this.errors=r}return Fe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Oa(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ra(n,a,t);return o}}]),e}();function Oa(e,t){return e.replace(Pa,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Pa=/\{\$([^}]+)}/g;function Da(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ma(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(La(s)&&La(u)){if(!Ma(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function La(e){return null!==e&&"object"===typeof e}function Ua(e){for(var t=[],n=function(){var e=j(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Fa(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=j(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ja(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Va(e,t){var n=new za(e,t);return n.subscribe.bind(n)}var za=function(){function e(t,n){var r=this;oa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Fe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=sa(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qa),void 0===r.error&&(r.error=qa),void 0===r.complete&&(r.complete=qa);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qa(){}function Ba(e){return e&&e._delegate?e._delegate:e}var Wa=function(){function e(t,n,r){oa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Fe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ha="[DEFAULT]",Ya=function(){function e(t,n){oa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Fe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ba;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch(u){}var t,n=sa(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=j(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ra(ia.mark((function e(){var t;return ia.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Un(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Un(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=sa(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=j(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ak){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ha?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ak){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ha;return this.component?this.component.multipleInstances?e:Ha:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ga,Ka,Qa=function(){function e(t){oa(this,e),this.name=t,this.providers=new Map}return Fe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ya(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),$a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ka||(Ka={}));var Ja,Xa,Za={debug:Ka.DEBUG,verbose:Ka.VERBOSE,info:Ka.INFO,warn:Ka.WARN,error:Ka.ERROR,silent:Ka.SILENT},eo=Ka.INFO,to=(i(Ga={},Ka.DEBUG,"log"),i(Ga,Ka.VERBOSE,"log"),i(Ga,Ka.INFO,"info"),i(Ga,Ka.WARN,"warn"),i(Ga,Ka.ERROR,"error"),Ga),no=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=to[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ro=function(){function e(t){oa(this,e),this.name=t,this._logLevel=eo,this._logHandler=no,this._userLogHandler=null,$a.push(this)}return Fe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ka))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Za[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ka.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ka.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ka.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ka.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ka.INFO].concat(t)),this._logHandler.apply(this,[this,Ka.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ka.WARN].concat(t)),this._logHandler.apply(this,[this,Ka.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ka.ERROR].concat(t)),this._logHandler.apply(this,[this,Ka.ERROR].concat(t))}}]),e}();var io=function(){function e(t){oa(this,e),this.container=t}return Fe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ao="@firebase/app",oo="0.7.11",so=new ro("@firebase/app"),uo="[DEFAULT]",co=(i(Ja={},ao,"fire-core"),i(Ja,"@firebase/app-compat","fire-core-compat"),i(Ja,"@firebase/analytics","fire-analytics"),i(Ja,"@firebase/analytics-compat","fire-analytics-compat"),i(Ja,"@firebase/app-check","fire-app-check"),i(Ja,"@firebase/app-check-compat","fire-app-check-compat"),i(Ja,"@firebase/auth","fire-auth"),i(Ja,"@firebase/auth-compat","fire-auth-compat"),i(Ja,"@firebase/database","fire-rtdb"),i(Ja,"@firebase/database-compat","fire-rtdb-compat"),i(Ja,"@firebase/functions","fire-fn"),i(Ja,"@firebase/functions-compat","fire-fn-compat"),i(Ja,"@firebase/installations","fire-iid"),i(Ja,"@firebase/installations-compat","fire-iid-compat"),i(Ja,"@firebase/messaging","fire-fcm"),i(Ja,"@firebase/messaging-compat","fire-fcm-compat"),i(Ja,"@firebase/performance","fire-perf"),i(Ja,"@firebase/performance-compat","fire-perf-compat"),i(Ja,"@firebase/remote-config","fire-rc"),i(Ja,"@firebase/remote-config-compat","fire-rc-compat"),i(Ja,"@firebase/storage","fire-gcs"),i(Ja,"@firebase/storage-compat","fire-gcs-compat"),i(Ja,"@firebase/firestore","fire-fst"),i(Ja,"@firebase/firestore-compat","fire-fst-compat"),i(Ja,"fire-js","fire-js"),i(Ja,"firebase","fire-js-all"),Ja),lo=new Map,fo=new Map;function ho(e,t){try{e.container.addComponent(t)}catch(n){so.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function po(e,t){e.container.addOrOverwriteComponent(t)}function vo(e){var t=e.name;if(fo.has(t))return so.debug("There were multiple attempts to register component ".concat(t,".")),!1;fo.set(t,e);var n,r=sa(lo.values());try{for(r.s();!(n=r.n()).done;){ho(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mo(e,t){return e.container.getProvider(t)}function yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo;mo(e,t).clearInstance(n)}function go(){fo.clear()}var ko,wo,bo=(i(Xa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(Xa,"bad-app-name","Illegal App name: '{$appName}"),i(Xa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),i(Xa,"app-deleted","Firebase App named '{$appName}' already deleted"),i(Xa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),i(Xa,"invalid-log-argument","First argument to `onLog` must be null or a function."),Xa),_o=new Aa("app","Firebase",bo),xo=function(){function e(t,n,r){var i=this;oa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wa("app",(function(){return i}),"PUBLIC"))}return Fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}]),e}(),So="9.6.1";function To(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:uo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _o.create("bad-app-name",{appName:String(i)});var a=lo.get(i);if(a){if(Ma(e,a.options)&&Ma(r,a.config))return a;throw _o.create("duplicate-app",{appName:i})}var o,s=new Qa(i),u=sa(fo.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new xo(e,r,s);return lo.set(i,l),l}function Eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uo,t=lo.get(e);if(!t)throw _o.create("no-app",{appName:e});return t}function Io(){return Array.from(lo.values())}function Co(e){return No.apply(this,arguments)}function No(){return No=ra(ia.mark((function e(t){var n;return ia.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!lo.has(n)){e.next=6;break}return lo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ro(e,t,n){var r,i=null!==(r=co[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void so.warn(s.join(" "))}vo(new Wa("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ao(e,t){if(null!==e&&"function"!==typeof e)throw _o.create("invalid-log-argument");!function(e,t){var n,r=sa($a);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Za[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ka[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Oo(e){var t;t=e,$a.forEach((function(e){e.setLogLevel(t)}))}ko="",vo(new Wa("platform-logger",(function(e){return new io(e)}),"PRIVATE")),Ro(ao,oo,ko),Ro(ao,oo,"esm2017"),Ro("fire-js","");var Po=function(){function e(t,n){var r=this;oa(this,e),this._delegate=t,this.firebase=n,ho(t,new Wa("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Fe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Co(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uo;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uo;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ho(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){po(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Do=(i(wo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),i(wo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),wo),Mo=new Aa("app-compat","Firebase",Do);var Lo=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=To(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Da(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ro,setLogLevel:Oo,onLog:Ao,apps:null,SDK_VERSION:So,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(vo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Mo.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ka(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Da(n,e=e||uo))throw Mo.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Po);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ka(n,e)},createSubscribe:Va,ErrorFactory:Aa,deepExtend:ka}),n}(),Uo=new ro("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Uo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Fo=self.firebase.SDK_VERSION;Fo&&Fo.indexOf("LITE")>=0&&Uo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jo=Lo;!function(e){Ro("@firebase/app-compat","0.1.12",e)}();function Vo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ca(e)););return e}function zo(){return zo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},zo.apply(this,arguments)}jo.registerVersion("firebase","9.6.1","app-compat");var qo,Bo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Wo={},Ho=Ho||{},Yo=Bo||self;function Go(){}function Ko(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $o="closure_uid_"+(1e9*Math.random()>>>0),Jo=0;function Xo(e,t,n){return e.call.apply(e.bind,arguments)}function Zo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function es(e,t,n){return(es=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xo:Zo).apply(null,arguments)}function ts(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ns(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function rs(){this.s=this.s,this.o=this.o}var is={};rs.prototype.s=!1,rs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,$o)&&e[$o]||(e[$o]=++Jo)}(this);delete is[e]}},rs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var as=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},os=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ss(e){return Array.prototype.concat.apply([],arguments)}function us(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function cs(e){return/^[\s\xa0]*$/.test(e)}var ls,fs=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function hs(e,t){return-1!=e.indexOf(t)}function ds(e,t){return e<t?-1:e>t?1:0}e:{var ps=Yo.navigator;if(ps){var vs=ps.userAgent;if(vs){ls=vs;break e}}ls=""}function ms(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ys(e){var t={};for(var n in e)t[n]=e[n];return t}var gs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ks(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<gs.length;a++)n=gs[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ws(e){return ws[" "](e),e}ws[" "]=Go;var bs,_s=hs(ls,"Opera"),xs=hs(ls,"Trident")||hs(ls,"MSIE"),Ss=hs(ls,"Edge"),Ts=Ss||xs,Es=hs(ls,"Gecko")&&!(hs(ls.toLowerCase(),"webkit")&&!hs(ls,"Edge"))&&!(hs(ls,"Trident")||hs(ls,"MSIE"))&&!hs(ls,"Edge"),Is=hs(ls.toLowerCase(),"webkit")&&!hs(ls,"Edge");function Cs(){var e=Yo.document;return e?e.documentMode:void 0}e:{var Ns="",Rs=function(){var e=ls;return Es?/rv:([^\);]+)(\)|;)/.exec(e):Ss?/Edge\/([\d\.]+)/.exec(e):xs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Is?/WebKit\/(\S+)/.exec(e):_s?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Rs&&(Ns=Rs?Rs[1]:""),xs){var As=Cs();if(null!=As&&As>parseFloat(Ns)){bs=String(As);break e}}bs=Ns}var Os,Ps={};function Ds(){return function(e){var t=Ps;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=fs(String(bs)).split("."),n=fs("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ds(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ds(0==a[2].length,0==o[2].length)||ds(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Yo.document&&xs){var Ms=Cs();Os=Ms||(parseInt(bs,10)||void 0)}else Os=void 0;var Ls=Os,Us=function(){if(!Yo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Yo.addEventListener("test",Go,t),Yo.removeEventListener("test",Go,t)}catch(n){}return e}();function Fs(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function js(e,t){if(Fs.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Es){e:{try{ws(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Vs[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&js.Z.h.call(this)}}Fs.prototype.h=function(){this.defaultPrevented=!0},ns(js,Fs);var Vs={2:"touch",3:"pen",4:"mouse"};js.prototype.h=function(){js.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var zs="closure_listenable_"+(1e6*Math.random()|0),qs=0;function Bs(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++qs,this.ca=this.fa=!1}function Ws(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Hs(e){this.src=e,this.g={},this.h=0}function Ys(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=as(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ws(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gs(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Hs.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Gs(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Bs(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ks="closure_lm_"+(1e6*Math.random()|0),Qs={};function $s(e,t,n,r,i){if(r&&r.once)return Xs(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)$s(e,t[a],n,r,i);return null}return n=au(n),e&&e[zs]?e.N(t,n,Qo(r)?!!r.capture:!!r,i):Js(e,t,n,!1,r,i)}function Js(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Qo(i)?!!i.capture:!!i,s=ru(e);if(s||(e[Ks]=s=new Hs(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=nu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Us||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xs(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xs(e,t[a],n,r,i);return null}return n=au(n),e&&e[zs]?e.O(t,n,Qo(r)?!!r.capture:!!r,i):Js(e,t,n,!0,r,i)}function Zs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Zs(e,t[a],n,r,i);else r=Qo(r)?!!r.capture:!!r,n=au(n),e&&e[zs]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gs(a=e.g[t],n,r,i))&&(Ws(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ru(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gs(t,n,r,i)),(n=-1<e?t[e]:null)&&eu(n))}function eu(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[zs])Ys(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ru(t))?(Ys(n,e),0==n.h&&(n.src=null,t[Ks]=null)):Ws(e)}}}function tu(e){return e in Qs?Qs[e]:Qs[e]="on"+e}function nu(e,t){if(e.ca)e=!0;else{t=new js(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&eu(e),e=n.call(r,t)}return e}function ru(e){return(e=e[Ks])instanceof Hs?e:null}var iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function au(e){return"function"===typeof e?e:(e[iu]||(e[iu]=function(t){return e.handleEvent(t)}),e[iu])}function ou(){rs.call(this),this.i=new Hs(this),this.P=this,this.I=null}function su(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Fs(t,e);else if(t instanceof Fs)t.target=t.target||e;else{var i=t;ks(t=new Fs(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=uu(o,r,!0,t)&&i}if(i=uu(o=t.g=e,r,!0,t)&&i,i=uu(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=uu(o=t.g=n[a],r,!1,t)&&i}function uu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Ys(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}ns(ou,rs),ou.prototype[zs]=!0,ou.prototype.removeEventListener=function(e,t,n,r){Zs(this,e,t,n,r)},ou.prototype.M=function(){if(ou.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ws(n[r]);delete t.g[e],t.h--}}this.I=null},ou.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ou.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var cu=Yo.JSON.stringify;function lu(){var e=gu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var fu,hu=function(){function e(){oa(this,e),this.h=this.g=null}return Fe(e,[{key:"add",value:function(e,t){var n=du.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),du=new(function(){function e(t,n){oa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Fe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new pu}),(function(e){return e.reset()})),pu=function(){function e(){oa(this,e),this.next=this.g=this.h=null}return Fe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function vu(e){Yo.setTimeout((function(){throw e}),0)}function mu(e,t){fu||function(){var e=Yo.Promise.resolve(void 0);fu=function(){e.then(ku)}}(),yu||(fu(),yu=!0),gu.add(e,t)}var yu=!1,gu=new hu;function ku(){for(var e;e=lu();){try{e.h.call(e.g)}catch(n){vu(n)}var t=du;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yu=!1}function wu(e,t){ou.call(this),this.h=e||1,this.g=t||Yo,this.j=es(this.kb,this),this.l=Date.now()}function bu(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function _u(e,t,n){if("function"===typeof e)n&&(e=es(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=es(e.handleEvent,e)}return 2147483647<Number(t)?-1:Yo.setTimeout(e,t||0)}function xu(e){e.g=_u((function(){e.g=null,e.i&&(e.i=!1,xu(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ns(wu,ou),(qo=wu.prototype).da=!1,qo.S=null,qo.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),su(this,"tick"),this.da&&(bu(this),this.start()))}},qo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qo.M=function(){wu.Z.M.call(this),bu(this),delete this.g};var Su=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Fe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:xu(this)}},{key:"M",value:function(){zo(ca(n.prototype),"M",this).call(this),this.g&&(Yo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(rs);function Tu(e){rs.call(this),this.h=e,this.g={}}ns(Tu,rs);var Eu=[];function Iu(e,t,n,r){Array.isArray(n)||(n&&(Eu[0]=n.toString()),n=Eu);for(var i=0;i<n.length;i++){var a=$s(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Cu(e){ms(e.g,(function(e,t){this.g.hasOwnProperty(t)&&eu(e)}),e),e.g={}}function Nu(){this.g=!0}function Ru(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return cu(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Tu.prototype.M=function(){Tu.Z.M.call(this),Cu(this)},Tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nu.prototype.Aa=function(){this.g=!1},Nu.prototype.info=function(){};var Au={},Ou=null;function Pu(){return Ou=Ou||new ou}function Du(e){Fs.call(this,Au.Ma,e)}function Mu(e){var t=Pu();su(t,new Du(t,e))}function Lu(e,t){Fs.call(this,Au.STAT_EVENT,e),this.stat=t}function Uu(e){var t=Pu();su(t,new Lu(t,e))}function Fu(e,t){Fs.call(this,Au.Na,e),this.size=t}function ju(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Yo.setTimeout((function(){e()}),t)}Au.Ma="serverreachability",ns(Du,Fs),Au.STAT_EVENT="statevent",ns(Lu,Fs),Au.Na="timingevent",ns(Fu,Fs);var Vu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qu(){}function Bu(e){return e.h||(e.h=e.i())}function Wu(){}qu.prototype.h=null;var Hu,Yu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gu(){Fs.call(this,"d")}function Ku(){Fs.call(this,"c")}function Qu(){}function $u(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Tu(this),this.P=Xu,e=Ts?125:void 0,this.W=new wu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}ns(Gu,Fs),ns(Ku,Fs),ns(Qu,qu),Qu.prototype.g=function(){return new XMLHttpRequest},Qu.prototype.i=function(){return{}},Hu=new Qu;var Xu=45e3,Zu={},ec={};function tc(e,t,n){e.K=1,e.v=Sc(gc(t)),e.s=n,e.U=!0,nc(e,null)}function nc(e,t){e.F=Date.now(),oc(e),e.A=gc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Uc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ju,e.g=jl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Su(es(e.Ia,e,e.g),e.O)),Iu(e.V,e.g,"readystatechange",e.gb),t=e.H?ys(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Mu(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function rc(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ic(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=ac(e,n))==ec){4==t&&(e.o=4,Uu(14),i=!1),Ru(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zu){e.o=4,Uu(15),Ru(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ru(e.j,e.m,r,null),fc(e,r)}rc(e)&&r!=ec&&r!=Zu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Uu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Al(t),t.L=!0,Uu(11))):(Ru(e.j,e.m,n,"[Invalid Chunked Response]"),lc(e),cc(e))}function ac(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ec:(n=Number(t.substring(n,r)),isNaN(n)?Zu:(r+=1)+n>t.length?ec:(t=t.substr(r,n),e.C=r+n,t))}function oc(e){e.Y=Date.now()+e.P,sc(e,e.P)}function sc(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ju(es(e.eb,e),t)}function uc(e){e.B&&(Yo.clearTimeout(e.B),e.B=null)}function cc(e){0==e.l.G||e.I||Dl(e.l,e)}function lc(e){uc(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,bu(e.W),Cu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function fc(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Hc(n.i,e)))if(n.I=e.N,!e.J&&Hc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pl(n),_l(n)}Rl(n),Uu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ju(es(n.ab,n),6e3));if(1>=Wc(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ll(n,11)}else if((e.J||n.g==e)&&Pl(n),!cs(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(hs(l,"spdy")||hs(l,"quic")||hs(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Yc(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,xc(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Fl(r,r.H?r.la:null,r.W),d.J){Gc(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(uc(p),oc(p)),r.g=d}else Nl(r);0<n.l.length&&Tl(n)}else"stop"!=a[0]&&"close"!=a[0]||Ll(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ll(n,7):bl(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Mu(4)}catch(a){}}function hc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ko(e)||"string"===typeof e)os(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ko(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ko(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function dc(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof dc)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function pc(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];vc(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)vc(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function vc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(qo=$u.prototype).setTimeout=function(e){this.P=e},qo.gb=function(e){e=e.target;var t=this.L;t&&3==ml(e)?t.l():this.Ia(e)},qo.Ia=function(e){try{if(e==this.g)e:{var t=ml(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Ts||this.g&&(this.h.h||this.g.ga()||yl(this.g)))){this.I||4!=t||7==n||Mu(8==n||0>=r?3:2),uc(this);var i=this.g.ba();this.N=i;t:if(rc(this)){var a=yl(this.g);e="";var o=a.length,s=4==ml(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){lc(this),cc(this);var u="";break t}this.h.i=new Yo.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cs(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Uu(12),lc(this),cc(this);break e}Ru(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fc(this,i)}this.U?(ic(this,t,u),Ts&&this.i&&3==t&&(Iu(this.V,this.W,"tick",this.fb),this.W.start())):(Ru(this.j,this.m,u,null),fc(this,u)),4==t&&lc(this),this.i&&!this.I&&(4==t?Dl(this.l,this):(this.i=!1,oc(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Uu(12)):(this.o=0,Uu(13)),lc(this),cc(this)}}}catch(t){}},qo.fb=function(){if(this.g){var e=ml(this.g),t=this.g.ga();this.C<t.length&&(uc(this),ic(this,e,t),this.i&&4!=e&&oc(this))}},qo.cancel=function(){this.I=!0,lc(this)},qo.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Mu(3),Uu(17)),lc(this),this.o=2,cc(this)):sc(this,this.Y-e)},(qo=dc.prototype).R=function(){pc(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},qo.T=function(){return pc(this),this.g.concat()},qo.get=function(e,t){return vc(this.h,e)?this.h[e]:t},qo.set=function(e,t){vc(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},qo.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var mc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof yc){this.g=void 0!==t?t:e.g,kc(this,e.j),this.s=e.s,wc(this,e.i),bc(this,e.m),this.l=e.l,t=e.h;var n=new Pc;n.i=t.i,t.g&&(n.g=new dc(t.g),n.h=t.h),_c(this,n),this.o=e.o}else e&&(n=String(e).match(mc))?(this.g=!!t,kc(this,n[1]||"",!0),this.s=Tc(n[2]||""),wc(this,n[3]||"",!0),bc(this,n[4]),this.l=Tc(n[5]||"",!0),_c(this,n[6]||"",!0),this.o=Tc(n[7]||"")):(this.g=!!t,this.h=new Pc(null,this.g))}function gc(e){return new yc(e)}function kc(e,t,n){e.j=n?Tc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wc(e,t,n){e.i=n?Tc(t,!0):t}function bc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _c(e,t,n){t instanceof Pc?(e.h=t,function(e,t){t&&!e.j&&(Dc(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Mc(this,t),Uc(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ec(t,Ac)),e.h=new Pc(t,e.g))}function xc(e,t,n){e.h.set(t,n)}function Sc(e){return xc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Tc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ec(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ic),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ic(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}yc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ec(t,Cc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ec(t,Cc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ec(n,"/"==n.charAt(0)?Rc:Nc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ec(n,Oc)),e.join("")};var Cc=/[#\/\?@]/g,Nc=/[#\?:]/g,Rc=/[#\?]/g,Ac=/[#\?@]/g,Oc=/#/g;function Pc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Dc(e){e.g||(e.g=new dc,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Mc(e,t){Dc(e),t=Fc(e,t),vc(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,vc((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&pc(e)))}function Lc(e,t){return Dc(e),t=Fc(e,t),vc(e.g.h,t)}function Uc(e,t,n){Mc(e,t),0<n.length&&(e.i=null,e.g.set(Fc(e,t),us(n)),e.h+=n.length)}function Fc(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qo=Pc.prototype).add=function(e,t){Dc(this),this.i=null,e=Fc(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qo.forEach=function(e,t){Dc(this),this.g.forEach((function(n,r){os(n,(function(n){e.call(t,n,r,this)}),this)}),this)},qo.T=function(){Dc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},qo.R=function(e){Dc(this);var t=[];if("string"===typeof e)Lc(this,e)&&(t=ss(t,this.g.get(Fc(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ss(t,e[n])}return t},qo.set=function(e,t){return Dc(this),this.i=null,Lc(this,e=Fc(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qo.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},qo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var jc=Fe((function e(t,n){oa(this,e),this.h=t,this.g=n}));function Vc(e){this.l=e||qc,Yo.PerformanceNavigationTiming?e=0<(e=Yo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Yo.g&&Yo.g.Ea&&Yo.g.Ea()&&Yo.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var zc,qc=10;function Bc(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Wc(e){return e.h?1:e.g?e.g.size:0}function Hc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yc(e,t){e.g?e.g.add(t):e.h=t}function Gc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Kc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=sa(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return us(e.i)}function Qc(){}function $c(){this.g=new Qc}function Jc(e,t,n){var r=n||"";try{hc(e,(function(e,n){var i=e;Qo(e)&&(i=cu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Zc(e){this.l=e.$b||null,this.j=e.ib||!1}function el(e,t){ou.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=tl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vc.prototype.cancel=function(){if(this.i=Kc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=sa(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Qc.prototype.stringify=function(e){return Yo.JSON.stringify(e,void 0)},Qc.prototype.parse=function(e){return Yo.JSON.parse(e,void 0)},ns(Zc,qu),Zc.prototype.g=function(){return new el(this.l,this.j)},Zc.prototype.i=(zc={},function(){return zc}),ns(el,ou);var tl=0;function nl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function rl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,il(e)}function il(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qo=el.prototype).open=function(e,t){if(this.readyState!=tl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,il(this)},qo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Yo).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},qo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rl(this)),this.readyState=tl},qo.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Yo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nl(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},qo.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?rl(this):il(this),3==this.readyState&&nl(this)}},qo.Ua=function(e){this.g&&(this.response=this.responseText=e,rl(this))},qo.Ta=function(e){this.g&&(this.response=e,rl(this))},qo.ha=function(){this.g&&rl(this)},qo.setRequestHeader=function(e,t){this.v.append(e,t)},qo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qo.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(el.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var al=Yo.JSON.parse;function ol(e){ou.call(this),this.headers=new dc,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=sl,this.K=this.L=!1}ns(ol,ou);var sl="",ul=/^https?$/i,cl=["POST","PUT"];function ll(e){return"content-type"==e.toLowerCase()}function fl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,hl(e),pl(e)}function hl(e){e.D||(e.D=!0,su(e,"complete"),su(e,"error"))}function dl(e){if(e.h&&"undefined"!=typeof Ho&&(!e.C[1]||4!=ml(e)||2!=e.ba()))if(e.v&&4==ml(e))_u(e.Fa,0,e);else if(su(e,"readystatechange"),4==ml(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(mc)[1]||null;if(!a&&Yo.self&&Yo.self.location){var o=Yo.self.location.protocol;a=o.substr(0,o.length-1)}i=!ul.test(a?a.toLowerCase():"")}t=i}if(t)su(e,"complete"),su(e,"success");else{e.m=6;try{var s=2<ml(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",hl(e)}}finally{pl(e)}}}function pl(e,t){if(e.g){vl(e);var n=e.g,r=e.C[0]?Go:null;e.g=null,e.C=null,t||su(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function vl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Yo.clearTimeout(e.A),e.A=null)}function ml(e){return e.g?e.g.readyState:0}function yl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case sl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function gl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return ms(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xc(e,t,n))}function kl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function wl(e){this.za=0,this.l=[],this.h=new Nu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kl("baseRetryDelayMs",5e3,e),this.$a=kl("retryDelaySeedMs",1e4,e),this.Ya=kl("forwardChannelMaxRetries",2,e),this.ra=kl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Vc(e&&e.concurrentRequestLimit),this.Ca=new $c,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function bl(e){if(xl(e),3==e.G){var t=e.V++,n=gc(e.F);xc(n,"SID",e.J),xc(n,"RID",t),xc(n,"TYPE","terminate"),Il(e,n),(t=new $u(e,e.h,t,void 0)).K=2,t.v=Sc(gc(n)),n=!1,Yo.navigator&&Yo.navigator.sendBeacon&&(n=Yo.navigator.sendBeacon(t.v.toString(),"")),!n&&Yo.Image&&((new Image).src=t.v,n=!0),n||(t.g=jl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),oc(t)}Ul(e)}function _l(e){e.g&&(Al(e),e.g.cancel(),e.g=null)}function xl(e){_l(e),e.u&&(Yo.clearTimeout(e.u),e.u=null),Pl(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Yo.clearTimeout(e.m),e.m=null)}function Sl(e,t){e.l.push(new jc(e.Za++,t)),3==e.G&&Tl(e)}function Tl(e){Bc(e.i)||e.m||(e.m=!0,mu(e.Ha,e),e.C=0)}function El(e,t){var n;n=t?t.m:e.V++;var r=gc(e.F);xc(r,"SID",e.J),xc(r,"RID",n),xc(r,"AID",e.U),Il(e,r),e.o&&e.s&&gl(r,e.o,e.s),n=new $u(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Cl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Yc(e.i,n),tc(n,r,t)}function Il(e,t){e.j&&hc({},(function(e,n){xc(t,n,e)}))}function Cl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?es(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Jc(l,o,"req"+c+"_")}catch(gf){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Nl(e){e.g||e.u||(e.Y=1,mu(e.Ga,e),e.A=0)}function Rl(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ju(es(e.Ga,e),Ml(e,e.A)),e.A++,!0)}function Al(e){null!=e.B&&(Yo.clearTimeout(e.B),e.B=null)}function Ol(e){e.g=new $u(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=gc(e.oa);xc(t,"RID","rpc"),xc(t,"SID",e.J),xc(t,"CI",e.N?"0":"1"),xc(t,"AID",e.U),Il(e,t),xc(t,"TYPE","xmlhttp"),e.o&&e.s&&gl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Sc(gc(t)),n.s=null,n.U=!0,nc(n,e)}function Pl(e){null!=e.v&&(Yo.clearTimeout(e.v),e.v=null)}function Dl(e,t){var n=null;if(e.g==t){Pl(e),Al(e),e.g=null;var r=2}else{if(!Hc(e.i,t))return;n=t.D,Gc(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;su(r=Pu(),new Fu(r,n,t,i)),Tl(e)}else Nl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Wc(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ju(es(e.Ha,e,t),Ml(e,e.C)),e.C++,!0))}(e,t)||2==r&&Rl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ll(e,5);break;case 4:Ll(e,10);break;case 3:Ll(e,6);break;default:Ll(e,2)}}function Ml(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ll(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=es(e.jb,e);n||(n=new yc("//www.google.com/images/cleardot.gif"),Yo.location&&"http"==Yo.location.protocol||kc(n,"https"),Sc(n)),function(e,t){var n=new Nu;if(Yo.Image){var r=new Image;r.onload=ts(Xc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ts(Xc,n,r,"TestLoadImage: error",!1,t),r.onabort=ts(Xc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ts(Xc,n,r,"TestLoadImage: timeout",!1,t),Yo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Uu(2);e.G=0,e.j&&e.j.va(t),Ul(e),xl(e)}function Ul(e){e.G=0,e.I=-1,e.j&&(0==Kc(e.i).length&&0==e.l.length||(e.i.i.length=0,us(e.l),e.l.length=0),e.j.ua())}function Fl(e,t,n){var r=function(e){return e instanceof yc?gc(e):new yc(e,void 0)}(n);if(""!=r.i)t&&wc(r,t+"."+r.i),bc(r,r.m);else{var i=Yo.location;r=function(e,t,n,r){var i=new yc(null,void 0);return e&&kc(i,e),t&&wc(i,t),n&&bc(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&ms(e.aa,(function(e,t){xc(r,t,e)})),t=e.D,n=e.sa,t&&n&&xc(r,t,n),xc(r,"VER",e.ma),Il(e,r),r}function jl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ol(new Zc({ib:!0})):new ol(e.qa)).L=e.H,t}function Vl(){}function zl(){if(xs&&!(10<=Number(Ls)))throw Error("Environmental error: no available transport.")}function ql(e,t){ou.call(this),this.g=new wl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!cs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!cs(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Hl(this)}function Bl(e){Gu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Wl(){Ku.call(this),this.status=1}function Hl(e){this.g=e}(qo=ol.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hu.g(),this.C=this.u?Bu(this.u):Bu(Hu),this.g.onreadystatechange=es(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void fl(this,a)}e=n||"";var i=new dc(this.headers);r&&hc(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=ll,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Yo.FormData&&e instanceof Yo.FormData,!(0<=as(cl,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vl(this),0<this.B&&((this.K=function(e){return xs&&Ds()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=es(this.pa,this)):this.A=_u(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){fl(this,a)}},qo.pa=function(){"undefined"!=typeof Ho&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,su(this,"timeout"),this.abort(8))},qo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,su(this,"complete"),su(this,"abort"),pl(this))},qo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pl(this,!0)),ol.Z.M.call(this)},qo.Fa=function(){this.s||(this.F||this.v||this.l?dl(this):this.cb())},qo.cb=function(){dl(this)},qo.ba=function(){try{return 2<ml(this)?this.g.status:-1}catch(zc){return-1}},qo.ga=function(){try{return this.g?this.g.responseText:""}catch(zc){return""}},qo.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),al(t)}},qo.Da=function(){return this.m},qo.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(qo=wl.prototype).ma=8,qo.G=1,qo.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},qo.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new $u(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ks(n=ys(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Cl(this,t,r),xc(i=gc(this.F),"RID",e),xc(i,"CVER",22),this.D&&xc(i,"X-HTTP-Session-Id",this.D),Il(this,i),this.o&&n&&gl(i,this.o,n),Yc(this.i,t),this.Ra&&xc(i,"TYPE","init"),this.ja?(xc(i,"$req",r),xc(i,"SID","null"),t.$=!0,tc(t,i,null)):tc(t,i,r),this.G=2}}else 3==this.G&&(e?El(this,e):0==this.l.length||Bc(this.i)||El(this))},qo.Ga=function(){if(this.u=null,Ol(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ju(es(this.bb,this),e)}},qo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Uu(10),_l(this),Ol(this))},qo.ab=function(){null!=this.v&&(this.v=null,_l(this),Rl(this),Uu(19))},qo.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Uu(2)):(this.h.info("Failed to ping google.com"),Uu(1))},(qo=Vl.prototype).xa=function(){},qo.wa=function(){},qo.va=function(){},qo.ua=function(){},qo.Oa=function(){},zl.prototype.g=function(e,t){return new ql(e,t)},ns(ql,ou),ql.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),mu(es(e.hb,e,t))),Uu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fl(e,null,e.W),Tl(e)},ql.prototype.close=function(){bl(this.g)},ql.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Sl(this.g,t)}else this.v?((t={}).__data__=cu(e),Sl(this.g,t)):Sl(this.g,e)},ql.prototype.M=function(){this.g.j=null,delete this.j,bl(this.g),delete this.g,ql.Z.M.call(this)},ns(Bl,Gu),ns(Wl,Ku),ns(Hl,Vl),Hl.prototype.xa=function(){su(this.g,"a")},Hl.prototype.wa=function(e){su(this.g,new Bl(e))},Hl.prototype.va=function(e){su(this.g,new Wl(e))},Hl.prototype.ua=function(){su(this.g,"b")},zl.prototype.createWebChannel=zl.prototype.g,ql.prototype.send=ql.prototype.u,ql.prototype.open=ql.prototype.m,ql.prototype.close=ql.prototype.close,Vu.NO_ERROR=0,Vu.TIMEOUT=8,Vu.HTTP_ERROR=6,zu.COMPLETE="complete",Wu.EventType=Yu,Yu.OPEN="a",Yu.CLOSE="b",Yu.ERROR="c",Yu.MESSAGE="d",ou.prototype.listen=ou.prototype.N,ol.prototype.listenOnce=ol.prototype.O,ol.prototype.getLastError=ol.prototype.La,ol.prototype.getLastErrorCode=ol.prototype.Da,ol.prototype.getStatus=ol.prototype.ba,ol.prototype.getResponseJson=ol.prototype.Qa,ol.prototype.getResponseText=ol.prototype.ga,ol.prototype.send=ol.prototype.ea;var Yl=Wo.createWebChannelTransport=function(){return new zl},Gl=Wo.getStatEventTarget=function(){return Pu()},Kl=Wo.ErrorCode=Vu,Ql=Wo.EventType=zu,$l=Wo.Event=Au,Jl=Wo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xl=Wo.FetchXmlHttpFactory=Zc,Zl=Wo.WebChannel=Wu,ef=Wo.XhrIo=ol,tf="@firebase/firestore",nf=function(){function e(t){oa(this,e),this.uid=t}return Fe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();nf.UNAUTHENTICATED=new nf(null),nf.GOOGLE_CREDENTIALS=new nf("google-credentials-uid"),nf.FIRST_PARTY=new nf("first-party-uid"),nf.MOCK_USER=new nf("mock-user");var rf="9.6.1",af=new ro("@firebase/firestore");function of(){return af.logLevel}function sf(e){if(af.logLevel<=Ka.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lf);af.debug.apply(af,["Firestore (".concat(rf,"): ").concat(e)].concat(Un(i)))}}function uf(e){if(af.logLevel<=Ka.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lf);af.error.apply(af,["Firestore (".concat(rf,"): ").concat(e)].concat(Un(i)))}}function cf(e){if(af.logLevel<=Ka.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(lf);af.warn.apply(af,["Firestore (".concat(rf,"): ").concat(e)].concat(Un(i)))}}function lf(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ff(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(rf,") INTERNAL ASSERTION FAILED: ")+e;throw uf(t),new Error(t)}function hf(e,t){e||ff()}function df(e,t){return e}var pf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vf=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Fe(n)}(pa(Error)),mf=Fe((function e(){var t=this;oa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),yf=Fe((function e(t,n){oa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),gf=function(){function e(){oa(this,e)}return Fe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nf.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),kf=function(){function e(t){oa(this,e),this.token=t,this.changeListener=null}return Fe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),wf=function(){function e(t){oa(this,e),this.t=t,this.currentUser=nf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Fe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new mf;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new mf,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){sf("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(sf("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new mf)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(sf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hf("string"==typeof n.accessToken),new yf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return hf(null===e||"string"==typeof e),new nf(e)}}]),e}(),bf=Fe((function e(t,n,r){oa(this,e),this.type="FirstParty",this.user=nf.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),_f=function(){function e(t,n,r){oa(this,e),this.h=t,this.l=n,this.m=r}return Fe(e,[{key:"getToken",value:function(){return Promise.resolve(new bf(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(nf.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),xf=Fe((function e(t){oa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Sf=function(){function e(t){oa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Fe(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&sf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){sf("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):sf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(hf("string"==typeof e.token),new xf(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Tf=function(){function e(t,n){var r=this;oa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Fe(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ef(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Tf.I=-1;var If=function(){function e(){oa(this,e)}return Fe(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ef(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Cf(e,t){return e<t?-1:e>t?1:0}function Nf(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Rf(e){return e+"\0"}var Af=function(){function e(t,n){if(oa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new vf(pf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vf(pf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new vf(pf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vf(pf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Fe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Cf(this.nanoseconds,e.nanoseconds):Cf(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Of=function(){function e(t){oa(this,e),this.timestamp=t}return Fe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Af(0,0))}}]),e}();function Pf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Df(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mf(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lf=function(){function e(t,n,r){oa(this,e),void 0===n?n=0:n>t.length&&ff(),void 0===r?r=t.length-n:r>t.length-n&&ff(),this.segments=t,this.offset=n,this.len=r}return Fe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Uf=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new vf(pf.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Un(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lf),Ff=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jf=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Ff.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new vf(pf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new vf(pf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new vf(pf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new vf(pf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Lf),Vf=function(){function e(t){oa(this,e),this.fields=t,t.sort(jf.comparator)}return Fe(e,[{key:"covers",value:function(e){var t,n=sa(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Nf(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var zf=function(){function e(t){oa(this,e),this.binaryString=t}return Fe(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Cf(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();zf.EMPTY_BYTE_STRING=new zf("");var qf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bf(e){if(hf(!!e),"string"==typeof e){var t=0,n=qf.exec(e);if(hf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wf(e.seconds),nanos:Wf(e.nanos)}}function Wf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hf(e){return"string"==typeof e?zf.fromBase64String(e):zf.fromUint8Array(e)}function Yf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Gf(e){var t=e.mapValue.fields.__previous_value__;return Yf(t)?Gf(t):t}function Kf(e){var t=Bf(e.mapValue.fields.__local_write_time__.timestampValue);return new Af(t.seconds,t.nanos)}function Qf(e){return null==e}function $f(e){return 0===e&&1/e==-1/0}function Jf(e){return"number"==typeof e&&Number.isInteger(e)&&!$f(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Xf=function(){function e(t){oa(this,e),this.path=t}return Fe(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Uf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Uf.fromString(t))}},{key:"fromName",value:function(t){return new e(Uf.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Uf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Uf(t.slice()))}}]),e}();function Zf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yf(e)?4:10:ff()}function eh(e,t){var n=Zf(e);if(n!==Zf(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Kf(e).isEqual(Kf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Bf(e.timestampValue),r=Bf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hf(e.bytesValue).isEqual(Hf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Wf(e.geoPointValue.latitude)===Wf(t.geoPointValue.latitude)&&Wf(e.geoPointValue.longitude)===Wf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Wf(e.integerValue)===Wf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Wf(e.doubleValue),r=Wf(t.doubleValue);return n===r?$f(n)===$f(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Nf(e.arrayValue.values||[],t.arrayValue.values||[],eh);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pf(n)!==Pf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!eh(n[i],r[i])))return!1;return!0}(e,t);default:return ff()}}function th(e,t){return void 0!==(e.values||[]).find((function(e){return eh(e,t)}))}function nh(e,t){var n=Zf(e),r=Zf(t);if(n!==r)return Cf(n,r);switch(n){case 0:return 0;case 1:return Cf(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Wf(e.integerValue||e.doubleValue),r=Wf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return rh(e.timestampValue,t.timestampValue);case 4:return rh(Kf(e),Kf(t));case 5:return Cf(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Hf(e),r=Hf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Cf(n[i],r[i]);if(0!==a)return a}return Cf(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Cf(Wf(e.latitude),Wf(t.latitude));return 0!==n?n:Cf(Wf(e.longitude),Wf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=nh(n[i],r[i]);if(a)return a}return Cf(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Cf(r[o],a[o]);if(0!==s)return s;var u=nh(n[r[o]],i[a[o]]);if(0!==u)return u}return Cf(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ff()}}function rh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cf(e,t);var n=Bf(e),r=Bf(t),i=Cf(n.seconds,r.seconds);return 0!==i?i:Cf(n.nanos,r.nanos)}function ih(e){return ah(e)}function ah(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Bf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=sa(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ah(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=sa(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ah(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ff();var t,n}function oh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function sh(e){return!!e&&"integerValue"in e}function uh(e){return!!e&&"arrayValue"in e}function ch(e){return!!e&&"nullValue"in e}function lh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function fh(e){return!!e&&"mapValue"in e}function hh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Df(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=hh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=hh(e.arrayValue.values[r]);return n}return Object.assign({},e)}var dh=function(){function e(t){oa(this,e),this.value=t}return Fe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!fh(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hh(t)}},{key:"setAll",value:function(e){var t=this,n=jf.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=hh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return eh(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];fh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Df(t,(function(t,n){return e[t]=n}));var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(hh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ph(e){var t=[];return Df(e.fields,(function(e,n){var r=new jf([e]);if(fh(n)){var i=ph(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=sa(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Vf(t)}var vh=function(){function e(t,n,r,i,a){oa(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Fe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=dh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=dh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Of.min(),dh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,dh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,dh.empty(),2)}}]),e}(),mh=Fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;oa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function yh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new mh(e,t,n,r,i,a,o)}function gh(e){var t=df(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ih(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Qf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ah(t.startAt)),t.endAt&&(n+="|ub:",n+=Ah(t.endAt)),t.R=n}return t.R}function kh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ph(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!eh(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Mh(e.startAt,t.startAt)&&Mh(e.endAt,t.endAt)}function wh(e){return Xf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var bh=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(nh(t,this.value)):null!==t&&Zf(this.value)===Zf(t)&&this.v(nh(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ff()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new _h(e,t,r):"array-contains"===t?new Eh(e,r):"in"===t?new Ih(e,r):"not-in"===t?new Ch(e,r):"array-contains-any"===t?new Nh(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new xh(e,n):new Sh(e,n)}}]),n}(function(){return Fe((function e(){oa(this,e)}))}());var _h=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,e,r,i)).key=Xf.fromName(i.referenceValue),a}return Fe(n,[{key:"matches",value:function(e){var t=Xf.comparator(e.key,this.key);return this.v(t)}}]),n}(bh),xh=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,"in",r)).keys=Th("in",r),i}return Fe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bh),Sh=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,"not-in",r)).keys=Th("not-in",r),i}return Fe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(bh);function Th(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xf.fromName(e.referenceValue)}))}var Eh=function(e){ua(n,e);var t=ha(n);function n(e,r){return oa(this,n),t.call(this,e,"array-contains",r)}return Fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return uh(t)&&th(t.arrayValue,this.value)}}]),n}(bh),Ih=function(e){ua(n,e);var t=ha(n);function n(e,r){return oa(this,n),t.call(this,e,"in",r)}return Fe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&th(this.value.arrayValue,t)}}]),n}(bh),Ch=function(e){ua(n,e);var t=ha(n);function n(e,r){return oa(this,n),t.call(this,e,"not-in",r)}return Fe(n,[{key:"matches",value:function(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!th(this.value.arrayValue,t)}}]),n}(bh),Nh=function(e){ua(n,e);var t=ha(n);function n(e,r){return oa(this,n),t.call(this,e,"array-contains-any",r)}return Fe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!uh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return th(t.value.arrayValue,e)}))}}]),n}(bh),Rh=Fe((function e(t,n){oa(this,e),this.position=t,this.before=n}));function Ah(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return ih(e)})).join(","))}var Oh=Fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";oa(this,e),this.field=t,this.dir=n}));function Ph(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Dh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Xf.comparator(Xf.fromName(o.referenceValue),n.key):nh(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Mh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!eh(e.position[n],t.position[n]))return!1;return!0}var Lh=Fe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;oa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function Uh(e,t,n,r,i,a,o,s){return new Lh(e,t,n,r,i,a,o,s)}function Fh(e){return new Lh(e)}function jh(e){return!Qf(e.limit)&&"F"===e.limitType}function Vh(e){return!Qf(e.limit)&&"L"===e.limitType}function zh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qh(e){var t,n=sa(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Bh(e){return null!==e.collectionGroup}function Wh(e){var t=df(e);if(null===t.S){t.S=[];var n=qh(t),r=zh(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new Oh(n)),t.S.push(new Oh(jf.keyField(),"asc"));else{var i,a=!1,o=sa(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new Oh(jf.keyField(),u))}}}return t.S}function Hh(e){var t=df(e);if(!t.D)if("F"===t.limitType)t.D=yh(t.path,t.collectionGroup,Wh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=sa(Wh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Oh(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Rh(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Rh(t.startAt.position,!t.startAt.before):null;t.D=yh(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Yh(e,t,n){return new Lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gh(e,t){return kh(Hh(e),Hh(t))&&e.limitType===t.limitType}function Kh(e){return"".concat(gh(Hh(e)),"|lt:").concat(e.limitType)}function Qh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ih(t.value));var t})).join(", "),"]")),Qf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Ah(e.startAt)),e.endAt&&(t+=", endAt: "+Ah(e.endAt)),"Target(".concat(t,")")}(Hh(e)),"; limitType=").concat(e.limitType,")")}function $h(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=sa(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=sa(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Dh(e.startAt,Wh(e),t))&&(!e.endAt||!Dh(e.endAt,Wh(e),t))}(e,t)}function Jh(e){return function(t,n){var r,i=!1,a=sa(Wh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Xh(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Xh(e,t,n){var r=e.field.isKeyField()?Xf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?nh(r,i):ff()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ff()}}function Zh(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(t)?"-0":t}}function ed(e){return{integerValue:""+e}}function td(e,t){return Jf(t)?ed(t):Zh(e,t)}var nd=Fe((function e(){oa(this,e),this._=void 0}));function rd(e,t,n){return e instanceof od?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sd?ud(e,t):e instanceof cd?ld(e,t):function(e,t){var n=ad(e,t),r=hd(n)+hd(e.N);return sh(n)&&sh(e.N)?ed(r):Zh(e.k,r)}(e,t)}function id(e,t,n){return e instanceof sd?ud(e,t):e instanceof cd?ld(e,t):n}function ad(e,t){return e instanceof fd?sh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var od=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n)}(nd),sd=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this)).elements=e,r}return Fe(n)}(nd);function ud(e,t){var n,r=dd(t),i=sa(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return eh(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cd=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this)).elements=e,r}return Fe(n)}(nd);function ld(e,t){var n,r=dd(t),i=sa(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!eh(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fd=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).k=e,i.N=r,i}return Fe(n)}(nd);function hd(e){return Wf(e.integerValue||e.doubleValue)}function dd(e){return uh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var pd=Fe((function e(t,n){oa(this,e),this.field=t,this.transform=n}));var vd=Fe((function e(t,n){oa(this,e),this.version=t,this.transformResults=n})),md=function(){function e(t,n){oa(this,e),this.updateTime=t,this.exists=n}return Fe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function yd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var gd=Fe((function e(){oa(this,e)}));function kd(e,t,n){e instanceof Sd?function(e,t,n){var r=e.value.clone(),i=Id(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Td?function(e,t,n){if(yd(e.precondition,t)){var r=Id(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ed(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function wd(e,t,n){e instanceof Sd?function(e,t,n){if(yd(e.precondition,t)){var r=e.value.clone(),i=Cd(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(xd(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Td?function(e,t,n){if(yd(e.precondition,t)){var r=Cd(e.fieldTransforms,n,t),i=t.data;i.setAll(Ed(e)),i.setAll(r),t.convertToFoundDocument(xd(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){yd(e.precondition,t)&&t.convertToNoDocument(Of.min())}(e,t)}function bd(e,t){var n,r=null,i=sa(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ad(a.transform,o||null);null!=s&&(null==r&&(r=dh.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function _d(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Nf(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sd&&t instanceof sd||e instanceof cd&&t instanceof cd?Nf(e.elements,t.elements,eh):e instanceof fd&&t instanceof fd?eh(e.N,t.N):e instanceof od&&t instanceof od}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function xd(e){return e.isFoundDocument()?e.version:Of.min()}var Sd=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return oa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Fe(n)}(gd),Td=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return oa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Fe(n)}(gd);function Ed(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Id(e,t,n){var r=new Map;hf(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,id(o,s,n[i]))}return r}function Cd(e,t,n){var r,i=new Map,a=sa(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,rd(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Nd,Rd,Ad=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Fe(n)}(gd),Od=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Fe(n)}(gd),Pd=Fe((function e(t){oa(this,e),this.count=t}));function Dd(e){switch(e){default:return ff();case pf.CANCELLED:case pf.UNKNOWN:case pf.DEADLINE_EXCEEDED:case pf.RESOURCE_EXHAUSTED:case pf.INTERNAL:case pf.UNAVAILABLE:case pf.UNAUTHENTICATED:return!1;case pf.INVALID_ARGUMENT:case pf.NOT_FOUND:case pf.ALREADY_EXISTS:case pf.PERMISSION_DENIED:case pf.FAILED_PRECONDITION:case pf.ABORTED:case pf.OUT_OF_RANGE:case pf.UNIMPLEMENTED:case pf.DATA_LOSS:return!0}}function Md(e){if(void 0===e)return uf("GRPC error has no .code"),pf.UNKNOWN;switch(e){case Nd.OK:return pf.OK;case Nd.CANCELLED:return pf.CANCELLED;case Nd.UNKNOWN:return pf.UNKNOWN;case Nd.DEADLINE_EXCEEDED:return pf.DEADLINE_EXCEEDED;case Nd.RESOURCE_EXHAUSTED:return pf.RESOURCE_EXHAUSTED;case Nd.INTERNAL:return pf.INTERNAL;case Nd.UNAVAILABLE:return pf.UNAVAILABLE;case Nd.UNAUTHENTICATED:return pf.UNAUTHENTICATED;case Nd.INVALID_ARGUMENT:return pf.INVALID_ARGUMENT;case Nd.NOT_FOUND:return pf.NOT_FOUND;case Nd.ALREADY_EXISTS:return pf.ALREADY_EXISTS;case Nd.PERMISSION_DENIED:return pf.PERMISSION_DENIED;case Nd.FAILED_PRECONDITION:return pf.FAILED_PRECONDITION;case Nd.ABORTED:return pf.ABORTED;case Nd.OUT_OF_RANGE:return pf.OUT_OF_RANGE;case Nd.UNIMPLEMENTED:return pf.UNIMPLEMENTED;case Nd.DATA_LOSS:return pf.DATA_LOSS;default:return ff()}}(Rd=Nd||(Nd={}))[Rd.OK=0]="OK",Rd[Rd.CANCELLED=1]="CANCELLED",Rd[Rd.UNKNOWN=2]="UNKNOWN",Rd[Rd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rd[Rd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rd[Rd.NOT_FOUND=5]="NOT_FOUND",Rd[Rd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rd[Rd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rd[Rd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rd[Rd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rd[Rd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rd[Rd.ABORTED=10]="ABORTED",Rd[Rd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rd[Rd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rd[Rd.INTERNAL=13]="INTERNAL",Rd[Rd.UNAVAILABLE=14]="UNAVAILABLE",Rd[Rd.DATA_LOSS=15]="DATA_LOSS";var Ld=function(){function e(t,n){oa(this,e),this.comparator=t,this.root=n||Fd.EMPTY}return Fe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fd.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fd.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ud(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ud(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ud(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ud(this.root,e,this.comparator,!0)}}]),e}(),Ud=function(){function e(t,n,r,i){oa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Fe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Fd=function(){function e(t,n,r,i,a){oa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Fe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ff();if(this.right.isRed())throw ff();var e=this.left.check();if(e!==this.right.check())throw ff();return e+(this.isRed()?0:1)}}]),e}();Fd.EMPTY=null,Fd.RED=!0,Fd.BLACK=!1,Fd.EMPTY=new(function(){function e(){oa(this,e),this.size=0}return Fe(e,[{key:"key",get:function(){throw ff()}},{key:"value",get:function(){throw ff()}},{key:"color",get:function(){throw ff()}},{key:"left",get:function(){throw ff()}},{key:"right",get:function(){throw ff()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Fd(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var jd=function(){function e(t){oa(this,e),this.comparator=t,this.data=new Ld(this.comparator)}return Fe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Vd(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Vd(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Vd=function(){function e(t){oa(this,e),this.iter=t}return Fe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),zd=new Ld(Xf.comparator);function qd(){return zd}var Bd=new Ld(Xf.comparator);function Wd(){return Bd}var Hd=new Ld(Xf.comparator);function Yd(){return Hd}var Gd=new jd(Xf.comparator);function Kd(){for(var e=Gd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Qd=new jd(Cf);function $d(){return Qd}var Jd=function(){function e(t,n,r,i,a){oa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Fe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Xd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Of.min(),r,$d(),qd(),Kd())}}]),e}(),Xd=function(){function e(t,n,r,i,a){oa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Fe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(zf.EMPTY_BYTE_STRING,n,Kd(),Kd(),Kd())}}]),e}(),Zd=Fe((function e(t,n,r,i){oa(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.F=i})),ep=Fe((function e(t,n){oa(this,e),this.targetId=t,this.O=n})),tp=Fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;oa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),np=function(){function e(){oa(this,e),this.M=0,this.L=ap(),this.B=zf.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Fe(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.M}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=Kd(),t=Kd(),n=Kd();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ff()}})),new Xd(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=ap()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.M+=1}},{key:"Z",value:function(){this.M-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),rp=function(){function e(t){oa(this,e),this.et=t,this.nt=new Map,this.st=qd(),this.it=ip(),this.rt=new jd(Cf)}return Fe(e,[{key:"ot",value:function(e){var t,n=sa(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=sa(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:ff()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.O.count,r=this.wt(t);if(r){var i=r.target;if(wh(i))if(0===n){var a=new Xf(i.path);this.ct(t,a,vh.newNoDocument(a,Of.min()))}else hf(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&wh(a.target)){var o=new Xf(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.ct(i,o,vh.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=Kd();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Jd(e,n,this.rt,this.st,r);return this.st=qd(),this.it=ip(),this.rt=new jd(Cf),i}},{key:"at",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new np,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new jd(Cf),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||sf("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new np),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function ip(){return new Ld(Xf.comparator)}function ap(){return new Ld(Xf.comparator)}var op={asc:"ASCENDING",desc:"DESCENDING"},sp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},up=Fe((function e(t,n){oa(this,e),this.databaseId=t,this.C=n}));function cp(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function lp(e,t){return e.C?t.toBase64():t.toUint8Array()}function fp(e,t){return cp(e,t.toTimestamp())}function hp(e){return hf(!!e),Of.fromTimestamp(function(e){var t=Bf(e);return new Af(t.seconds,t.nanos)}(e))}function dp(e,t){return function(e){return new Uf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function pp(e){var t=Uf.fromString(e);return hf(jp(t)),t}function vp(e,t){return dp(e.databaseId,t.path)}function mp(e,t){var n=pp(t);if(n.get(1)!==e.databaseId.projectId)throw new vf(pf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vf(pf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xf(wp(n))}function yp(e,t){return dp(e.databaseId,t)}function gp(e){var t=pp(e);return 4===t.length?Uf.emptyPath():wp(t)}function kp(e){return new Uf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wp(e){return hf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function bp(e,t,n){return{name:vp(e,t),fields:n.value.mapValue.fields}}function _p(e,t,n){var r=mp(e,t.name),i=hp(t.updateTime),a=new dh({mapValue:{fields:t.fields}}),o=vh.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function xp(e,t){return"found"in t?function(e,t){hf(!!t.found),t.found.name,t.found.updateTime;var n=mp(e,t.found.name),r=hp(t.found.updateTime),i=new dh({mapValue:{fields:t.found.fields}});return vh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){hf(!!t.missing),hf(!!t.readTime);var n=mp(e,t.missing),r=hp(t.readTime);return vh.newNoDocument(n,r)}(e,t):ff()}function Sp(e,t){var n;if(t instanceof Sd)n={update:bp(e,t.key,t.value)};else if(t instanceof Ad)n={delete:vp(e,t.key)};else if(t instanceof Td)n={update:bp(e,t.key,t.data),updateMask:Fp(t.fieldMask)};else{if(!(t instanceof Od))return ff();n={verify:vp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof od)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fd)return{fieldPath:t.field.canonicalString(),increment:n.N};throw ff()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:fp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ff()}(e,t.precondition)),n}function Tp(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?md.updateTime(hp(e.updateTime)):void 0!==e.exists?md.exists(e.exists):md.none()}(t.currentDocument):md.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)hf("REQUEST_TIME"===t.setToServerValue),n=new od;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new sd(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new cd(i)}else"increment"in t?n=new fd(e,t.increment):ff();var a=jf.fromServerFormat(t.fieldPath);return new pd(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=mp(e,t.update.name),a=new dh({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Vf(t.map((function(e){return jf.fromServerFormat(e)})))}(t.updateMask);return new Td(i,a,o,n,r)}return new Sd(i,a,n,r)}if(t.delete){var s=mp(e,t.delete);return new Ad(s,n)}if(t.verify){var u=mp(e,t.verify);return new Od(u,n)}return ff()}function Ep(e,t){return{documents:[yp(e,t.path)]}}function Ip(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yp(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yp(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(lh(e.value))return{unaryFilter:{field:Dp(e.field),op:"IS_NAN"}};if(ch(e.value))return{unaryFilter:{field:Dp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lh(e.value))return{unaryFilter:{field:Dp(e.field),op:"IS_NOT_NAN"}};if(ch(e.value))return{unaryFilter:{field:Dp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dp(e.field),op:Pp(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Dp(e.field),direction:Op(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Qf(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Rp(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Rp(t.endAt)),n}function Cp(e){var t=gp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hf(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Np(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Oh(Mp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Qf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ap(n.startAt));var l=null;return n.endAt&&(l=Ap(n.endAt)),Uh(t,i,s,o,u,"F",c,l)}function Np(e){return e?void 0!==e.unaryFilter?[Up(e)]:void 0!==e.fieldFilter?[Lp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Np(e)})).reduce((function(e,t){return e.concat(t)})):ff():[]}function Rp(e){return{before:e.before,values:e.position}}function Ap(e){var t=!!e.before,n=e.values||[];return new Rh(n,t)}function Op(e){return op[e]}function Pp(e){return sp[e]}function Dp(e){return{fieldPath:e.canonicalString()}}function Mp(e){return jf.fromServerFormat(e.fieldPath)}function Lp(e){return bh.create(Mp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ff()}}(e.fieldFilter.op),e.fieldFilter.value)}function Up(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Mp(e.unaryFilter.field);return bh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Mp(e.unaryFilter.field);return bh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mp(e.unaryFilter.field);return bh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mp(e.unaryFilter.field);return bh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ff()}}function Fp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Vp(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=qp(t)),t=zp(e.get(n),t);return qp(t)}function zp(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function qp(e){return e+"\x01\x01"}function Bp(e){var t=e.length;if(hf(t>=2),2===t)return hf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Uf.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ff(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ff()}a=o+2}return new Uf(r)}var Wp=Fe((function e(t,n){oa(this,e),this.seconds=t,this.nanoseconds=n})),Hp=Fe((function e(t,n,r){oa(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));Hp.store="owner",Hp.key="owner";var Yp=Fe((function e(t,n,r){oa(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));Yp.store="mutationQueues",Yp.keyPath="userId";var Gp=Fe((function e(t,n,r,i,a){oa(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));Gp.store="mutations",Gp.keyPath="batchId",Gp.userMutationsIndex="userMutationsIndex",Gp.userMutationsKeyPath=["userId","batchId"];var Kp=function(){function e(){oa(this,e)}return Fe(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,Vp(t)]}},{key:"key",value:function(e,t,n){return[e,Vp(t),n]}}]),e}();Kp.store="documentMutations",Kp.PLACEHOLDER=new Kp;var Qp=Fe((function e(t,n){oa(this,e),this.path=t,this.readTime=n})),$p=Fe((function e(t,n){oa(this,e),this.path=t,this.version=n})),Jp=Fe((function e(t,n,r,i,a,o){oa(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));Jp.store="remoteDocuments",Jp.readTimeIndex="readTimeIndex",Jp.readTimeIndexPath="readTime",Jp.collectionReadTimeIndex="collectionReadTimeIndex",Jp.collectionReadTimeIndexPath=["parentPath","readTime"];var Xp=Fe((function e(t){oa(this,e),this.byteSize=t}));Xp.store="remoteDocumentGlobal",Xp.key="remoteDocumentGlobalKey";var Zp=Fe((function e(t,n,r,i,a,o,s){oa(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));Zp.store="targets",Zp.keyPath="targetId",Zp.queryTargetsIndexName="queryTargetsIndex",Zp.queryTargetsKeyPath=["canonicalId","targetId"];var ev=Fe((function e(t,n,r){oa(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));ev.store="targetDocuments",ev.keyPath=["targetId","path"],ev.documentTargetsIndex="documentTargetsIndex",ev.documentTargetsKeyPath=["path","targetId"];var tv=Fe((function e(t,n,r,i){oa(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));tv.key="targetGlobalKey",tv.store="targetGlobal";var nv=Fe((function e(t,n){oa(this,e),this.collectionId=t,this.parent=n}));nv.store="collectionParents",nv.keyPath=["collectionId","parent"];var rv=Fe((function e(t,n,r,i){oa(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));rv.store="clientMetadata",rv.keyPath="clientId";var iv=Fe((function e(t,n,r){oa(this,e),this.bundleId=t,this.createTime=n,this.version=r}));iv.store="bundles",iv.keyPath="bundleId";var av=Fe((function e(t,n,r){oa(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));av.store="namedQueries",av.keyPath="name";var ov=[Yp.store,Gp.store,Kp.store,Jp.store,Zp.store,Hp.store,tv.store,ev.store].concat([rv.store]).concat([Xp.store]).concat([nv.store]).concat([iv.store,av.store]),sv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uv=function(){function e(){oa(this,e),this.onCommittedListeners=[]}return Fe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),cv=function(){function e(t){var n=this;oa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Fe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ff(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=sa(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),lv=function(){function e(t,n){var r=this;oa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new mf,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new dv(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=gv(e.target.error);r.It.reject(new dv(t,n))}}return Fe(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(sf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new vv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new dv(n,t)}}}]),e}(),fv=function(){function e(t,n,r){oa(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.Pt(xa())&&uf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Fe(e,[{key:"Ct",value:function(){var e=ra(aa().mark((function e(t){var n=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return sf("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new dv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new vf(pf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new vf(pf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new dv(t,n))},i.onupgradeneeded=function(e){sf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){sf("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ra(aa().mark((function e(t,n,r,i){var a,o,s,u,c=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(aa().mark((function e(){var n,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=lv.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),cv.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,sf("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return sf("SimpleDb","Removing database:",e),mv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Na())return!1;if(e.vt())return!0;var t=xa(),n=e.Pt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/woc4.0-react-bingewatchers-twitter-Nevil-Dalsania",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"Pt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),hv=function(){function e(t){oa(this,e),this.$t=t,this.Ft=!1,this.Ot=null}return Fe(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Mt",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Lt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return mv(this.$t.delete())}}]),e}(),dv=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,pf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Fe(n)}(vf);function pv(e){return"IndexedDbTransactionError"===e.name}var vv=function(){function e(t){oa(this,e),this.store=t}return Fe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(sf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(sf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),mv(n)}},{key:"add",value:function(e){return sf("SimpleDb","ADD",this.store.name,e,e),mv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return mv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),sf("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return sf("SimpleDb","DELETE",this.store.name,e),mv(this.store.delete(e))}},{key:"count",value:function(){return sf("SimpleDb","COUNT",this.store.name),mv(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){sf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new cv((function(n,r){t.onerror=function(e){var t=gv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new cv((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new hv(i),o=t(i.primaryKey,i.value,a);if(o instanceof cv){var s=o.catch((function(e){return a.done(),cv.reject(e)}));n.push(s)}a.isDone?r():null===a.Mt?i.continue():i.continue(a.Mt)}else r()}})).next((function(){return cv.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function mv(e){return new cv((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=gv(e.target.error);n(t)}}))}var yv=!1;function gv(e){var t=fv.Pt(xa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new vf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return yv||(yv=!0,setTimeout((function(){throw r}),0)),r}}return e}var kv=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Fe(n)}(uv);function wv(e,t){var n=df(e);return fv.Dt(n.Wt,t)}var bv=function(){function e(t,n,r,i){oa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Fe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&kd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=sa(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&wd(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=sa(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&wd(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Of.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Kd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Nf(this.mutations,e.mutations,(function(e,t){return _d(e,t)}))&&Nf(this.baseMutations,e.baseMutations,(function(e,t){return _d(e,t)}))}}]),e}(),_v=function(){function e(t,n,r,i){oa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Fe(e,null,[{key:"from",value:function(t,n,r){hf(t.mutations.length===r.length);for(var i=Yd(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Of.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Of.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zf.EMPTY_BYTE_STRING;oa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Fe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Sv=Fe((function e(t){oa(this,e),this.Gt=t}));function Tv(e,t){if(t.document)return _p(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Xf.fromSegments(t.noDocument.path),r=Rv(t.noDocument.readTime),i=vh.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Xf.fromSegments(t.unknownDocument.path),o=Rv(t.unknownDocument.version);return vh.newUnknownDocument(a,o)}return ff()}function Ev(e,t,n){var r=Iv(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:vp(e,t.key),fields:t.data.value.mapValue.fields,updateTime:cp(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Jp(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Nv(t.version),c=t.hasCommittedMutations;return new Jp(null,new Qp(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Nv(t.version);return new Jp(new $p(l,f),null,null,!0,r,i)}return ff()}function Iv(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cv(e){var t=new Af(e[0],e[1]);return Of.fromTimestamp(t)}function Nv(e){var t=e.toTimestamp();return new Wp(t.seconds,t.nanoseconds)}function Rv(e){var t=new Af(e.seconds,e.nanoseconds);return Of.fromTimestamp(t)}function Av(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Tp(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Tp(e.Gt,t)})),s=Af.fromMillis(t.localWriteTimeMs);return new bv(t.batchId,s,n,o)}function Ov(e){var t,n,r=Rv(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Rv(e.lastLimboFreeSnapshotVersion):Of.min();return void 0!==e.query.documents?(hf(1===(n=e.query).documents.length),t=Hh(Fh(gp(n.documents[0])))):t=function(e){return Hh(Cp(e))}(e.query),new xv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,zf.fromBase64String(e.resumeToken))}function Pv(e,t){var n,r=Nv(t.snapshotVersion),i=Nv(t.lastLimboFreeSnapshotVersion);n=wh(t.target)?Ep(e.Gt,t.target):Ip(e.Gt,t.target);var a=t.resumeToken.toBase64();return new Zp(t.targetId,gh(t.target),r,a,t.sequenceNumber,i,n)}function Dv(e){var t=Cp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yh(t,t.limit,"L"):t}var Mv=function(){function e(){oa(this,e)}return Fe(e,[{key:"getBundleMetadata",value:function(e,t){return Lv(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Rv(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Lv(e).put({bundleId:(n=t).id,createTime:Nv(hp(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Uv(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dv(t.bundledQuery),readTime:Rv(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Uv(e).put(function(e){return{name:e.name,readTime:Nv(hp(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Lv(e){return wv(e,iv.store)}function Uv(e){return wv(e,av.store)}var Fv=function(){function e(){oa(this,e),this.zt=new jv}return Fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),cv.resolve()}},{key:"getCollectionParents",value:function(e,t){return cv.resolve(this.zt.getEntries(t))}}]),e}(),jv=function(){function e(){oa(this,e),this.index={}}return Fe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jd(Uf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new jd(Uf.comparator)).toArray()}}]),e}(),Vv=function(){function e(){oa(this,e),this.Ht=new jv}return Fe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:Vp(i)};return zv(e).put(a)}return cv.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Rf(t),""],!1,!0);return zv(e).Bt(r).next((function(e){var r,i=sa(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Bp(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function zv(e){return wv(e,nv.store)}var qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Bv=function(){function e(t,n,r){oa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Fe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Wv(e,t,n){var r=e.store(Gp.store),i=e.store(Kp.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){hf(1===s)})));var c,l=[],f=sa(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Kp.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return cv.waitFor(a).next((function(){return l}))}function Hv(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ff();t=e.noDocument}return JSON.stringify(t).length}Bv.DEFAULT_COLLECTION_PERCENTILE=10,Bv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bv.DEFAULT=new Bv(41943040,Bv.DEFAULT_COLLECTION_PERCENTILE,Bv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bv.DISABLED=new Bv(-1,0,0);var Yv=function(){function e(t,n,r,i){oa(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Fe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kv(e).jt({index:Gp.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Qv(e),o=Kv(e);return o.add({}).next((function(s){hf("number"==typeof s);var u,c=new bv(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Sp(e.Gt,t)})),i=n.mutations.map((function(t){return Sp(e.Gt,t)}));return new Gp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new jd((function(e,t){return Cf(e.canonicalString(),t.canonicalString())})),d=sa(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Kp.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Kp.PLACEHOLDER))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),cv.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Kv(e).get(t).next((function(e){return e?(hf(e.userId===n.userId),Av(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?cv.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Kv(e).jt({index:Gp.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(hf(t.batchId>=r),a=Av(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kv(e).jt({index:Gp.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kv(e).Bt(Gp.userMutationsIndex,n).next((function(e){return e.map((function(e){return Av(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Kp.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Qv(e).jt({range:i},(function(r,i,o){var s=j(r,3),u=s[0],c=s[1],l=s[2],f=Bp(c);if(u===n.userId&&t.path.isEqual(f))return Kv(e).get(l).next((function(e){if(!e)throw ff();hf(e.userId===n.userId),a.push(Av(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new jd(Cf),i=[];return t.forEach((function(t){var a=Kp.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=Qv(e).jt({range:o},(function(e,i,a){var o=j(e,3),s=o[0],u=o[1],c=o[2],l=Bp(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),cv.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Kp.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new jd(Cf);return Qv(e).jt({range:o},(function(e,t,a){var o=j(e,3),u=o[0],c=o[1],l=o[2],f=Bp(c);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Kv(e).get(t).next((function(e){if(null===e)throw ff();hf(e.userId===n.userId),r.push(Av(n.k,e))})))})),cv.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Wv(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),cv.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return cv.resolve();var r=IDBKeyRange.lowerBound(Kp.prefixForUser(t.userId)),i=[];return Qv(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Bp(e[1]);i.push(a)}else r.done()})).next((function(){hf(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Gv(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return $v(e).get(this.userId).next((function(e){return e||new Yp(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return hf(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Gv(e,t,n){var r=Kp.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Qv(e).jt({range:a,Kt:!0},(function(e,n,r){var a=j(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function Kv(e){return wv(e,Gp.store)}function Qv(e){return wv(e,Kp.store)}function $v(e){return wv(e,Yp.store)}var Jv=function(){function e(t){oa(this,e),this.se=t}return Fe(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),Xv=function(){function e(t,n){oa(this,e),this.referenceDelegate=t,this.k=n}return Fe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Jv(n.highestTargetId);return n.highestTargetId=r.next(),t.ae(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return Of.fromTimestamp(new Af(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ae(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ae(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Zv(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return hf(t.targetCount>0),t.targetCount-=1,n.ae(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Zv(e).jt((function(o,s){var u=Ov(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return cv.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Zv(e).jt((function(e,n){var r=Ov(n);t(r)}))}},{key:"oe",value:function(e){return em(e).get(tv.key).next((function(e){return hf(null!==e),e}))}},{key:"ae",value:function(e,t){return em(e).put(tv.key,t)}},{key:"ce",value:function(e,t){return Zv(e).put(Pv(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=gh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Zv(e).jt({range:r,index:Zp.queryTargetsIndexName},(function(e,n,r){var a=Ov(n);kh(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=tm(e);return t.forEach((function(t){var o=Vp(t.path);i.push(a.put(new ev(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),cv.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=tm(e);return cv.forEach(t,(function(t){var a=Vp(t.path);return cv.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=tm(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=tm(e),i=Kd();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=Bp(e[1]),a=new Xf(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Vp(t.path),r=IDBKeyRange.bound([n],[Rf(n)],!1,!0),i=0;return tm(e).jt({index:ev.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=j(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Zv(e).get(t).next((function(e){return e?Ov(e):null}))}}]),e}();function Zv(e){return wv(e,Zp.store)}function em(e){return wv(e,tv.store)}function tm(e){return wv(e,ev.store)}function nm(e){return rm.apply(this,arguments)}function rm(){return rm=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===pf.FAILED_PRECONDITION&&t.message===sv){e.next=2;break}throw t;case 2:sf("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),rm.apply(this,arguments)}function im(e,t){var n=j(e,2),r=n[0],i=n[1],a=j(t,2),o=a[0],s=a[1],u=Cf(r,o);return 0===u?Cf(i,s):u}var am=function(){function e(t){oa(this,e),this.he=t,this.buffer=new jd(im),this.le=0}return Fe(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();im(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),om=function(){function e(t,n){oa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Fe(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;sf("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,ra(aa().mark((function n(){return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!pv(n.t0)){n.next=12;break}sf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,nm(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),sm=function(){function e(t,n){oa(this,e),this.ge=t,this.params=n}return Fe(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return cv.resolve(Tf.I);var r=new am(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(sf("LruGarbageCollector","Garbage collection skipped; disabled"),cv.resolve(qv)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(sf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),qv):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(sf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),of()<=Ka.DEBUG&&sf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),cv.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),um=function(){function e(t,n){oa(this,e),this.db=t,this.garbageCollector=function(e,t){return new sm(e,t)}(this,n)}return Fe(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return cm(e,n)}},{key:"removeReference",value:function(e,t,n){return cm(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return cm(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return $v(e).Qt((function(r){return Gv(e,r,t).next((function(e){return e&&(n=!0),cv.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),tm(e).delete([0,Vp(o.path)])}))}));i.push(u)}})).next((function(){return cv.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return cm(e,t)}},{key:"Ie",value:function(e,t){var n,r=tm(e),i=Tf.I;return r.jt({index:ev.documentTargetsIndex},(function(e,r){var a=j(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==Tf.I&&t(new Xf(Bp(n)),i),i=u,n=s):i=Tf.I})).next((function(){i!==Tf.I&&t(new Xf(Bp(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function cm(e,t){return tm(e).put(function(e,t){return new ev(0,Vp(e.path),t)}(t,e.currentSequenceNumber))}var lm=function(){function e(t,n){oa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Fe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=j(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Df(this.inner,(function(t,n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=j(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Mf(this.inner)}}]),e}(),fm=function(){function e(){oa(this,e),this.changes=new lm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Fe(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Of.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:vh.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?cv.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),hm=function(){function e(t,n){oa(this,e),this.k=t,this.Jt=n}return Fe(e,[{key:"addEntry",value:function(e,t,n){return vm(e).put(mm(t),n)}},{key:"removeEntry",value:function(e,t){var n=vm(e),r=mm(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return vm(e).get(mm(t)).next((function(e){return n.Pe(t,e)}))}},{key:"be",value:function(e,t){var n=this;return vm(e).get(mm(t)).next((function(e){return{document:n.Pe(t,e),size:Hv(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=qd();return this.ve(e,t,(function(e,t){var i=n.Pe(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=qd(),i=new Ld(Xf.comparator);return this.ve(e,t,(function(e,t){var a=n.Pe(e,t);r=r.insert(e,a),i=i.insert(e,Hv(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return cv.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return vm(e).jt({range:r},(function(e,t,r){for(var o=Xf.fromSegments(e);a&&Xf.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=qd(),a=t.path.length+1,o={};if(n.isEqual(Of.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Iv(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Jp.collectionReadTimeIndex}return vm(e).jt(o,(function(e,n,o){if(e.length===a){var s=Tv(r.k,n);t.path.isPrefixOf(s.key.path)?$h(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new dm(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return pm(e).get(Xp.key).next((function(e){return hf(!!e),e}))}},{key:"Re",value:function(e,t){return pm(e).put(Xp.key,t)}},{key:"Pe",value:function(e,t){if(t){var n=Tv(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(Of.min()))return n}return vh.newInvalidDocument(e)}}]),e}(),dm=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new lm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new jd((function(e,t){return Cf(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Ev(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=Hv(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Ev(t.De.k,vh.newNoDocument(a,Of.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),cv.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.be(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(fm);function pm(e){return wv(e,Xp.store)}function vm(e){return wv(e,Jp.store)}function mm(e){return e.path.toArray()}var ym=function(){function e(t){oa(this,e),this.k=t}return Fe(e,[{key:"Nt",value:function(e,t,n,r){var i=this;hf(n<r&&n>=0&&r<=11);var a=new lv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Hp.store)}(e),function(e){e.createObjectStore(Yp.store,{keyPath:Yp.keyPath}),e.createObjectStore(Gp.store,{keyPath:Gp.keyPath,autoIncrement:!0}).createIndex(Gp.userMutationsIndex,Gp.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Kp.store)}(e),gm(e),function(e){e.createObjectStore(Jp.store)}(e));var o=cv.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(ev.store),e.deleteObjectStore(Zp.store),e.deleteObjectStore(tv.store)}(e),gm(e)),o=o.next((function(){return function(e){var t=e.store(tv.store),n=new tv(0,0,Of.min().toTimestamp(),0);return t.put(tv.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(Gp.store).Bt().next((function(n){e.deleteObjectStore(Gp.store),e.createObjectStore(Gp.store,{keyPath:Gp.keyPath,autoIncrement:!0}).createIndex(Gp.userMutationsIndex,Gp.userMutationsKeyPath,{unique:!0});var r=t.store(Gp.store),i=n.map((function(e){return r.put(e)}));return cv.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(rv.store,{keyPath:rv.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Xp.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Jp.store);t.createIndex(Jp.readTimeIndex,Jp.readTimeIndexPath,{unique:!1}),t.createIndex(Jp.collectionReadTimeIndex,Jp.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Fe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(iv.store,{keyPath:iv.keyPath})}(e),function(e){e.createObjectStore(av.store,{keyPath:av.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(Jp.store).jt((function(e,n){t+=Hv(n)})).next((function(){var n=new Xp(t);return e.store(Xp.store).put(Xp.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(Yp.store),r=e.store(Gp.store);return n.Bt().next((function(n){return cv.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(Gp.userMutationsIndex,i).next((function(r){return cv.forEach(r,(function(r){hf(r.userId===n.userId);var i=Av(t.k,r);return Wv(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(ev.store),n=e.store(Jp.store);return e.store(tv.store).get(tv.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new Uf(n),o=function(e){return[0,Vp(e)]}(a);r.push(t.get(o).next((function(n){return n?cv.resolve():function(n){return t.put(new ev(0,Vp(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return cv.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(nv.store,{keyPath:nv.keyPath});var n=t.store(nv.store),r=new jv,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Vp(i)})}};return t.store(Jp.store).jt({Kt:!0},(function(e,t){var n=new Uf(e);return i(n.popLast())})).next((function(){return t.store(Kp.store).jt({Kt:!0},(function(e,t){var n=j(e,3),r=(n[0],n[1]),a=(n[2],Bp(r));return i(a.popLast())}))}))}},{key:"Fe",value:function(e){var t=this,n=e.store(Zp.store);return n.jt((function(e,r){var i=Ov(r),a=Pv(t.k,i);return n.put(a)}))}}]),e}();function gm(e){e.createObjectStore(ev.store,{keyPath:ev.keyPath}).createIndex(ev.documentTargetsIndex,ev.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Zp.store,{keyPath:Zp.keyPath}).createIndex(Zp.queryTargetsIndexName,Zp.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(tv.store)}var km="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wm=function(){function e(t,n,r,i,a,o,s,u,c,l){if(oa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Me=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.bt())throw new vf(pf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new um(this,i),this.Ge=n+"main",this.k=new Sv(u),this.ze=new fv(this.Ge,11,new ym(this.k)),this.He=new Xv(this.referenceDelegate,this.k),this.Jt=new Vv,this.Je=function(e,t){return new hm(e,t)}(this.k,this.Jt),this.Ye=new Mv,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&uf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Fe(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new vf(pf.FAILED_PRECONDITION,km);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new Tf(t,e.Me)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=ra(aa().mark((function n(r){return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=ra(aa().mark((function t(n){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return _m(t).put(new rv(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.an(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(pv(t))return sf("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return sf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return bm(e).get(Hp.key).next((function(e){return cv.resolve(t.un(e))}))}},{key:"hn",value:function(e){return _m(e).delete(this.clientId)}},{key:"ln",value:function(){var e=ra(aa().mark((function e(){var t,n,r,i,a=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=wv(e,rv.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return cv.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=sa(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?cv.resolve(!0):bm(e).get(Hp.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new vf(pf.FAILED_PRECONDITION,km);return!1}}return!(!t.networkEnabled||!t.inForeground)||_m(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&sf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ra(aa().mark((function e(){var t=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[Hp.store,rv.store],(function(e){var n=new kv(e,Tf.I);return t.an(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return _m(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return Yv.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;sf("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,ov,(function(a){return i=new kv(a,r.Be?r.Be.next():Tf.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw uf("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.We(!1)})),new vf(pf.FAILED_PRECONDITION,sv);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return bm(e).get(Hp.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new vf(pf.FAILED_PRECONDITION,km)}))}},{key:"cn",value:function(e){var t=new Hp(this.clientId,this.allowTabSynchronization,Date.now());return bm(e).put(Hp.key,t)}},{key:"an",value:function(e){var t=this,n=bm(e);return n.get(Hp.key).next((function(e){return t.un(e)?(sf("IndexedDbPersistence","Releasing primary lease."),n.delete(Hp.key)):cv.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(uf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),!Ta()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return sf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return uf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(ns){uf("Failed to set zombie client id.",ns)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(ns){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return fv.bt()}}]),e}();function bm(e){return wv(e,Hp.store)}function _m(e){return wv(e,rv.store)}function xm(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Sm=Fe((function e(t,n){oa(this,e),this.progress=t,this.In=n})),Tm=function(){function e(t,n,r){oa(this,e),this.Je=t,this.An=n,this.Jt=r}return Fe(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Pn(e,t,r)}))}},{key:"Pn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=sa(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=sa(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Xf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Bh(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Xf(t)).next((function(e){var t=Wd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Wd();return this.Jt.getCollectionParents(e,i).next((function(o){return cv.forEach(o,(function(o){var s=function(e,t){return new Lh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=sa(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=sa(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=vh.newInvalidDocument(c),r=r.insert(c,l)),wd(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){$h(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=Kd(),a=sa(t);try{for(a.s();!(r=a.n()).done;){var o,s=sa(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Td&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Em=function(){function e(t,n,r,i){oa(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Fe(e,null,[{key:"$n",value:function(t,n){var r,i=Kd(),a=Kd(),o=sa(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Im=function(){function e(){oa(this,e)}return Fe(e,[{key:"Fn",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Of.min())?this.Mn(e,t):this.On.vn(e,r).next((function(a){var o=i.Ln(t,a);return(jh(t)||Vh(t))&&i.Bn(t.limitType,o,r,n)?i.Mn(e,t):(of()<=Ka.DEBUG&&sf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qh(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new jd(Jh(e));return t.forEach((function(t,r){$h(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Mn",value:function(e,t){return of()<=Ka.DEBUG&&sf("QueryEngine","Using full collection scan to execute query:",Qh(t)),this.On.getDocumentsMatchingQuery(e,t,Of.min())}}]),e}(),Cm=function(){function e(t,n,r,i){oa(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new Ld(Cf),this.Kn=new lm((function(e){return gh(e)}),kh),this.jn=Of.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Tm(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.Fn(this.Wn)}return Fe(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function Nm(e,t,n,r){return new Cm(e,t,n,r)}function Rm(e,t){return Am.apply(this,arguments)}function Am(){return Am=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=df(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Tm(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=Kd(),u=sa(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=sa(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=sa(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=sa(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.Fn(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Om(e,t){var n=df(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=cv.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);hf(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function Pm(e){var t=df(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Dm(e,t){var n=df(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.He.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.He.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return hf(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.He.updateTargetData(e,c))}}}));var s=qd();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Mm(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Of.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return cv.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Mm(e,t,n,r,i){var a=Kd();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=qd();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Of.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):sf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Lm(e,t){var n=df(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function Um(e,t){var n=df(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,cv.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new xv(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Fm(e,t,n){return jm.apply(this,arguments)}function jm(){return jm=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=df(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),pv(e.t1)){e.next=12;break}throw e.t1;case 12:sf("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),jm.apply(this,arguments)}function Vm(e,t,n){var r=df(e),i=Of.min(),a=Kd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=df(e),i=r.Kn.get(n);return void 0!==i?cv.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Hh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:Of.min(),n?a:Kd())})).next((function(e){return{documents:e,zn:a}}))}))}function zm(e,t){var n=df(e),r=df(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function qm(e){var t=df(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=df(e),i=qd(),a=Iv(n),o=vm(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:Jp.readTimeIndex,range:s},(function(e,t){var n=Tv(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Cv(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function Bm(e){return Wm.apply(this,arguments)}function Wm(){return Wm=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=df(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=vm(e),n=Of.min();return t.jt({index:Jp.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Cv(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Hm(e,t,n,r){return Ym.apply(this,arguments)}function Ym(){return Ym=ra(aa().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=df(t),o=Kd(),s=qd(),u=Yd(),c=sa(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.Hn(f.metadata.name),f.document&&(o=o.add(h)),s=s.insert(h,n.Jn(f)),u=u.insert(h,n.Yn(f.metadata.readTime))}catch(v){c.e(v)}finally{c.f()}return d=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,Um(a,function(e){return Hh(Fh(Uf.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Mm(e,d,s,Of.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.He.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Ym.apply(this,arguments)}function Gm(e,t){return Km.apply(this,arguments)}function Km(){return Km=ra(aa().mark((function e(t,n){var r,i,a,o=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Kd(),e.next=3,Um(t,Hh(Dv(n.bundledQuery)));case 3:return i=e.sent,a=df(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=hp(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(zf.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}var Qm=function(){function e(t){oa(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Fe(e,[{key:"getBundleMetadata",value:function(e,t){return cv.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:hp(n.createTime)}),cv.resolve()}},{key:"getNamedQuery",value:function(e,t){return cv.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Dv(e.bundledQuery),readTime:hp(e.readTime)}}(t)),cv.resolve()}}]),e}(),$m=function(){function e(){oa(this,e),this.ts=new jd(Jm.es),this.ns=new jd(Jm.ss)}return Fe(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Jm(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Jm(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Xf(new Uf([])),r=new Jm(n,e),i=new Jm(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Xf(new Uf([])),n=new Jm(t,e),r=new Jm(t,e+1),i=Kd();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Jm(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Jm=function(){function e(t,n){oa(this,e),this.key=t,this.fs=n}return Fe(e,null,[{key:"es",value:function(e,t){return Xf.comparator(e.key,t.key)||Cf(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Cf(e.fs,t.fs)||Xf.comparator(e.key,t.key)}}]),e}(),Xm=function(){function e(t,n){oa(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new jd(Jm.es)}return Fe(e,[{key:"checkEmpty",value:function(e){return cv.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new bv(i,t,n,r);this.An.push(a);var o,s=sa(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Jm(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return cv.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return cv.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return cv.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return cv.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return cv.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Jm(t,0),i=new Jm(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),cv.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new jd(Cf);return t.forEach((function(e){var t=new Jm(e,0),i=new Jm(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),cv.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Xf.isDocumentKey(i)||(i=i.child(""));var a=new Jm(new Xf(i),0),o=new jd(Cf);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),cv.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;hf(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return cv.forEach(t.mutations,(function(i){var a=new Jm(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Jm(t,0),r=this.ws.firstAfterOrEqual(n);return cv.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,cv.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Zm=function(){function e(t,n){oa(this,e),this.Jt=t,this.Ts=n,this.docs=new Ld(Xf.comparator),this.size=0}return Fe(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return cv.resolve(n?n.document.clone():vh.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=qd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():vh.newInvalidDocument(e))})),cv.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=qd(),i=new Xf(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||$h(t,c)&&(r=r.insert(c.key,c.clone()))}return cv.resolve(r)}},{key:"Es",value:function(e,t){return cv.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ey(this)}},{key:"getSize",value:function(e){return cv.resolve(this.size)}}]),e}(),ey=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this)).De=e,r}return Fe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),cv.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(fm),ty=function(){function e(t){oa(this,e),this.persistence=t,this.Is=new lm((function(e){return gh(e)}),kh),this.lastRemoteSnapshotVersion=Of.min(),this.highestTargetId=0,this.As=0,this.Rs=new $m,this.targetCount=0,this.Ps=Jv.ie()}return Fe(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),cv.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return cv.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return cv.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ps.next(),cv.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),cv.resolve()}},{key:"ce",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ps=new Jv(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,cv.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),cv.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,cv.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),cv.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return cv.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return cv.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),cv.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),cv.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),cv.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return cv.resolve(n)}},{key:"containsKey",value:function(e,t){return cv.resolve(this.Rs.containsKey(t))}}]),e}(),ny=function(){function e(t,n){var r=this;oa(this,e),this.bs={},this.Be=new Tf(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new ty(this),this.Jt=new Fv,this.Je=function(e,t){return new Zm(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Sv(n),this.Ye=new Qm(this.k)}return Fe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new Xm(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;sf("MemoryPersistence","Starting transaction:",e);var i=new ry(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return cv.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),ry=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Fe(n)}(uv),iy=function(){function e(t){oa(this,e),this.persistence=t,this.Cs=new $m,this.Ns=null}return Fe(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw ff()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),cv.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),cv.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),cv.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return cv.forEach(this.xs,(function(r){var i=Xf.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return cv.or([function(){return cv.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function ay(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function oy(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function sy(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var uy=function(){function e(t,n,r,i){oa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Fe(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new vf(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(uf("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),cy=function(){function e(t,n,r){oa(this,e),this.targetId=t,this.state=n,this.error=r}return Fe(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Fs",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new vf(i.error.code,i.error.message))),a?new e(t,i.state,r):(uf("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ly=function(){function e(t,n){oa(this,e),this.clientId=t,this.activeTargetIds=n}return Fe(e,null,[{key:"Fs",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=$d(),o=0;i&&o<r.activeTargetIds.length;++o)i=Jf(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(uf("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),fy=function(){function e(t,n){oa(this,e),this.clientId=t,this.onlineState=n}return Fe(e,null,[{key:"Fs",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(uf("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),hy=function(){function e(){oa(this,e),this.activeTargetIds=$d()}return Fe(e,[{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),dy=function(){function e(t,n,r,i,a){oa(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Ld(Cf),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=ay(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new hy),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Fe(e,[{key:"start",value:function(){var e=ra(aa().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=sa(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(ay(this.persistenceKey,i)))&&(o=ly.Fs(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=sa(this.js);try{for(c.s();!(l=c.n()).done;)f=l.value,this.qs(f)}catch(d){c.e(d)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(sy(this.persistenceKey,e));if(n){var r=cy.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(sy(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ai()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return sf("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){sf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){sf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(sf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void uf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(ra(aa().mark((function e(){var r,i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=Tf.I;if(null!=e)try{var n=JSON.parse(e);hf("number"==typeof n),t=n}catch(e){uf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==Tf.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Os())}},{key:"ni",value:function(e,t,n){var r=new uy(this.currentUser,e,t,n),i=oy(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"si",value:function(e){var t=oy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=sy(this.persistenceKey,e),i=new cy(e,t,n);this.setItem(r,i.Os())}},{key:"ai",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ci",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ci(e);return ly.Fs(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return uy.Fs(new nf(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return cy.Fs(r,t)}},{key:"Zs",value:function(e){return fy.Fs(e)}},{key:"fi",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:sf("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=$d();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),py=function(){function e(){oa(this,e),this.pi=new hy,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Fe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new hy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),vy=function(){function e(){oa(this,e)}return Fe(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),my=function(){function e(){var t=this;oa(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.Pi()},this.bi=[],this.vi()}return Fe(e,[{key:"Ei",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){sf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=sa(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Pi",value:function(){sf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=sa(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),yy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gy=function(){function e(t){oa(this,e),this.Vi=t.Vi,this.Si=t.Si}return Fe(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Fi",value:function(e){this.ki(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),ky=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Fe(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ef;o.listenOnce(Ql.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Kl.NO_ERROR:var t=o.getResponseJson();sf("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Kl.TIMEOUT:sf("Connection",'RPC "'+e+'" timed out'),a(new vf(pf.DEADLINE_EXCEEDED,"Request time out"));break;case Kl.HTTP_ERROR:var n=o.getStatus();if(sf("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(pf).indexOf(t)>=0?t:pf.UNKNOWN}(r.status);a(new vf(s,r.message))}else a(new vf(pf.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vf(pf.UNAVAILABLE,"Connection failed."));break;default:ff()}}finally{sf("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Yl(),a=Gl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Xl({})),this.qi(o.initMessageHeaders,t,n),Sa()||Ia()||xa().indexOf("Electron/")>=0||Ca()||xa().indexOf("MSAppHost/")>=0||Ea()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");sf("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new gy({Vi:function(e){l?sf("Connection","Not sending because WebChannel is closed:",e):(c||(sf("Connection","Opening WebChannel transport."),u.open(),c=!0),sf("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Zl.EventType.OPEN,(function(){l||sf("Connection","WebChannel transport opened.")})),h(u,Zl.EventType.CLOSE,(function(){l||(l=!0,sf("Connection","WebChannel transport closed"),f.Fi())})),h(u,Zl.EventType.ERROR,(function(e){l||(l=!0,cf("Connection","WebChannel transport errored:",e),f.Fi(new vf(pf.UNAVAILABLE,"The operation could not be completed")))})),h(u,Zl.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];hf(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){sf("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Nd[e];if(void 0!==t)return Md(t)}(a),s=i.message;void 0===o&&(o=pf.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Fi(new vf(o,s)),u.close()}else sf("Connection","WebChannel received:",n),f.Oi(n)}})),h(a,$l.STAT_EVENT,(function(e){e.stat===Jl.PROXY?sf("Connection","Detected buffering proxy"):e.stat===Jl.NOPROXY&&sf("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){oa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Mi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Fe(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);sf("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return sf("RestConnection","Received: ",e),e}),(function(t){throw cf("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=yy[e];return"".concat(this.Mi,"/v1/").concat(t,":").concat(n)}}]),e}());function wy(){return"undefined"!=typeof window?window:null}function by(){return"undefined"!=typeof document?document:null}function _y(e){return new up(e,!0)}var xy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;oa(this,e),this.Oe=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Fe(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&sf("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),Sy=function(){function e(t,n,r,i,a,o,s,u){oa(this,e),this.Oe=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new xy(t,n)}return Fe(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"pr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===pf.RESOURCE_EXHAUSTED?(uf(n.toString()),uf("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===pf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=j(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new vf(pf.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.cr=n.Oe.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return sf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.rr===e?n():(sf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ty=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a,o,s){var u;return oa(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Fe(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ff()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(hf(void 0===t||"string"==typeof t),zf.fromBase64String(t||"")):(hf(void 0===t||t instanceof Uint8Array),zf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?pf.UNKNOWN:Md(e.code);return new vf(t,e.message||"")}(o);n=new tp(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=mp(e,u.document.name),l=hp(u.document.updateTime),f=new dh({mapValue:{fields:u.document.fields}}),h=vh.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new Zd(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=mp(e,v.document),y=v.readTime?hp(v.readTime):Of.min(),g=vh.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Zd([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=mp(e,w.document),_=w.removedTargetIds||[];n=new Zd([],_,b,null)}else{if(!("filter"in t))return ff();t.filter;var x=t.filter;x.targetId;var S=x.count||0,T=new Pd(S),E=x.targetId;n=new ep(E,T)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return Of.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Of.min():t.readTime?hp(t.readTime):Of.min()}(e);return this.listener.Pr(t,n)}},{key:"br",value:function(e){var t={};t.database=kp(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=wh(r)?{documents:Ep(e,r)}:{query:Ip(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=lp(e,t.resumeToken):t.snapshotVersion.compareTo(Of.min())>0&&(n.readTime=cp(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ff()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=kp(this.k),t.removeTarget=e,this.gr(t)}}]),n}(Sy),Ey=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a,o,s){var u;return oa(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Fe(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,zo(ca(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(hf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(hf(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?hp(e.updateTime):hp(t);return n.isEqual(Of.min())&&(n=hp(t)),new vd(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=hp(e.commitTime);return this.listener.Cr(n,t)}return hf(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=kp(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Sp(t.k,e)}))};this.gr(n)}}]),n}(Sy),Iy=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a){var o;return oa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Fe(n,[{key:"Fr",value:function(){if(this.$r)throw new vf(pf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=j(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new vf(pf.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=j(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pf.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new vf(pf.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Fe((function e(){oa(this,e)}))}()),Cy=function(){function e(t,n){oa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}return Fe(e,[{key:"Br",value:function(){var e=this;0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Mr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(uf(t),this.Lr=!1):sf("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}]),e}(),Ny=Fe((function e(t,n,r,i,a){var o=this;oa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Vy(o),!e.t0){e.next=5;break}return sf("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=df(t)).Gr.add(4),e.next=4,Oy(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,Ry(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new Cy(r,i)}));function Ry(e){return Ay.apply(this,arguments)}function Ay(){return Ay=ra(aa().mark((function e(t){var n,r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Vy(t)){e.next=18;break}n=sa(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Ay.apply(this,arguments)}function Oy(e){return Py.apply(this,arguments)}function Py(){return Py=ra(aa().mark((function e(t){var n,r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sa(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Py.apply(this,arguments)}function Dy(e,t){var n=df(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),jy(n)?Fy(n):dg(n).lr()&&Ly(n,t))}function My(e,t){var n=df(e),r=dg(n);n.Wr.delete(t),r.lr()&&Uy(n,t),0===n.Wr.size&&(r.lr()?r._r():Vy(n)&&n.Jr.set("Unknown"))}function Ly(e,t){e.Yr.X(t.targetId),dg(e).br(t)}function Uy(e,t){e.Yr.X(t),dg(e).vr(t)}function Fy(e){e.Yr=new rp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),dg(e).start(),e.Jr.Br()}function jy(e){return Vy(e)&&!dg(e).hr()&&e.Wr.size>0}function Vy(e){return 0===df(e).Gr.size}function zy(e){e.Yr=void 0}function qy(e){return By.apply(this,arguments)}function By(){return By=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Ly(t,e)}));case 1:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function Wy(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zy(t),jy(t)?(t.Jr.Kr(n),Fy(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Yy(e,t,n){return Gy.apply(this,arguments)}function Gy(){return Gy=ra(aa().mark((function e(t,n,r){var i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof tp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=sa(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),sf("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Ky(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Zd?t.Yr.ot(n):n instanceof ep?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(Of.min())){e.next=29;break}return e.prev=14,e.next=17,Pm(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(zf.EMPTY_BYTE_STRING,n.snapshotVersion)),Uy(e,t);var r=new xv(n.target,t,1,n.sequenceNumber);Ly(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),sf("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Ky(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Gy.apply(this,arguments)}function Ky(e,t,n){return Qy.apply(this,arguments)}function Qy(){return Qy=ra(aa().mark((function e(t,n,r){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pv(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Oy(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Pm(t.localStore)}),t.asyncQueue.enqueueRetryable(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sf("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,Ry(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Qy.apply(this,arguments)}function $y(e,t){return t().catch((function(n){return Ky(e,n,t)}))}function Jy(e){return Xy.apply(this,arguments)}function Xy(){return Xy=ra(aa().mark((function e(t){var n,r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=df(t),r=pg(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Zy(n)){e.next=19;break}return e.prev=3,e.next=6,Lm(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,eg(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Ky(n,e.t0);case 17:e.next=2;break;case 19:tg(n)&&ng(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Xy.apply(this,arguments)}function Zy(e){return Vy(e)&&e.Qr.length<10}function eg(e,t){e.Qr.push(t);var n=pg(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function tg(e){return Vy(e)&&!pg(e).hr()&&e.Qr.length>0}function ng(e){pg(e).start()}function rg(e){return ig.apply(this,arguments)}function ig(){return ig=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pg(t).kr();case 1:case"end":return e.stop()}}),e)}))),ig.apply(this,arguments)}function ag(e){return og.apply(this,arguments)}function og(){return og=ra(aa().mark((function e(t){var n,r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=pg(t),r=sa(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),og.apply(this,arguments)}function sg(e,t,n){return ug.apply(this,arguments)}function ug(){return ug=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=_v.from(i,n,r),e.next=3,$y(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Jy(t);case 5:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function cg(e,t){return lg.apply(this,arguments)}function lg(){return lg=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&pg(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dd(i=n.code)||i===pf.ABORTED){e.next=7;break}return r=t.Qr.shift(),pg(t).wr(),e.next=5,$y(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Jy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:tg(t)&&ng(t);case 5:case"end":return e.stop()}}),e)}))),lg.apply(this,arguments)}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=df(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,Ry(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Oy(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e){return e.Xr||(e.Xr=function(e,t,n){var r=df(e);return r.Fr(),new Ty(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:qy.bind(null,e),Ni:Wy.bind(null,e),Pr:Yy.bind(null,e)}),e.zr.push(function(){var t=ra(aa().mark((function t(n){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),jy(e)?Fy(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:zy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function pg(e){return e.Zr||(e.Zr=function(e,t,n){var r=df(e);return r.Fr(),new Ey(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:rg.bind(null,e),Ni:cg.bind(null,e),Nr:ag.bind(null,e),Cr:sg.bind(null,e)}),e.zr.push(function(){var t=ra(aa().mark((function t(n){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Jy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(sf("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var vg=function(){function e(t,n,r,i,a){oa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new mf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Fe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vf(pf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function mg(e,t){if(uf("AsyncQueue","".concat(t,": ").concat(e)),pv(e))return new vf(pf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var yg=function(){function e(t){oa(this,e),this.comparator=t?function(e,n){return t(e,n)||Xf.comparator(e.key,n.key)}:function(e,t){return Xf.comparator(e.key,t.key)},this.keyedMap=Wd(),this.sortedSet=new Ld(this.comparator)}return Fe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),gg=function(){function e(){oa(this,e),this.eo=new Ld(Xf.comparator)}return Fe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):ff():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),kg=function(){function e(t,n,r,i,a,o,s,u){oa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Fe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,yg.emptySet(n),a,r,i,!0,!1)}}]),e}(),wg=Fe((function e(){oa(this,e),this.so=void 0,this.listeners=[]})),bg=Fe((function e(){oa(this,e),this.queries=new lm((function(e){return Kh(e)}),Gh),this.onlineState="Unknown",this.io=new Set}));function _g(e,t){return xg.apply(this,arguments)}function xg(){return xg=ra(aa().mark((function e(t,n){var r,i,a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=df(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new wg),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=mg(e.t0,"Initialization of query '".concat(Qh(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&Cg(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),xg.apply(this,arguments)}function Sg(e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=ra(aa().mark((function e(t,n){var r,i,a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=df(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Tg.apply(this,arguments)}function Eg(e,t){var n,r=df(e),i=!1,a=sa(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=sa(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&Cg(r)}function Ig(e,t,n){var r=df(e),i=r.queries.get(t);if(i){var a,o=sa(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Cg(e){e.io.forEach((function(e){e.next()}))}var Ng=function(){function e(t,n,r){oa(this,e),this.query=t,this.ao=n,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Fe(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=sa(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new kg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.ho(e)&&(this.ao.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.ao.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=kg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}]),e}(),Rg=function(){function e(t,n){oa(this,e),this.payload=t,this.byteLength=n}return Fe(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),Ag=function(){function e(t){oa(this,e),this.k=t}return Fe(e,[{key:"Hn",value:function(e){return mp(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?_p(this.k,e.document,!1):vh.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return hp(e)}}]),e}(),Og=function(){function e(t,n,r){oa(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=Pg(t)}return Fe(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new Ag(this.k),i=sa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=sa(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Kd()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ra(aa().mark((function e(){var t,n,r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hm(this.localStore,new Ag(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=sa(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Gm(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Sm(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pg(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Dg=Fe((function e(t){oa(this,e),this.key=t})),Mg=Fe((function e(t){oa(this,e),this.key=t})),Lg=function(){function e(t,n){oa(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=Kd(),this.mutatedKeys=Kd(),this.Ao=Jh(t),this.Ro=new yg(this.Ao)}return Fe(e,[{key:"Po",get:function(){return this.To}},{key:"bo",value:function(e,t){var n=this,r=t?t.vo:new gg,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=jh(this.query)&&i.size===this.query.limit?i.last():null,c=Vh(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=$h(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),jh(this.query)||Vh(this.query))for(;o.size>this.query.limit;){var l=jh(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ff()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new kg(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new gg,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=Kd(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new Mg(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new Dg(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=Kd();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return kg.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),Ug=Fe((function e(t,n,r){oa(this,e),this.query=t,this.targetId=n,this.view=r})),Fg=Fe((function e(t){oa(this,e),this.key=t,this.$o=!1})),jg=function(){function e(t,n,r,i,a,o){oa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Fo={},this.Oo=new lm((function(e){return Kh(e)}),Gh),this.Mo=new Map,this.Lo=new Set,this.Bo=new Ld(Xf.comparator),this.Uo=new Map,this.qo=new $m,this.Ko={},this.jo=new Map,this.Qo=Jv.re(),this.onlineState="Unknown",this.Wo=void 0}return Fe(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function Vg(e,t){return zg.apply(this,arguments)}function zg(){return zg=ra(aa().mark((function e(t,n){var r,i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pk(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Um(r.localStore,Hh(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,qg(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Dy(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function qg(e,t,n,r){return Bg.apply(this,arguments)}function Bg(){return Bg=ra(aa().mark((function e(t,n,r,i){var a,o,s,u,c,l;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=ra(aa().mark((function e(t,n,r,i){var a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Vm(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(ck(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Vm(t.localStore,n,!0);case 3:return a=e.sent,o=new Lg(n,a.zn),s=o.bo(a.documents),u=Xd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),ck(t,r,c.Co),l=new Ug(n,r,o),e.abrupt("return",(t.Oo.set(n,l),t.Mo.has(r)?t.Mo.get(r).push(n):t.Mo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function Wg(e,t){return Hg.apply(this,arguments)}function Hg(){return Hg=ra(aa().mark((function e(t,n){var r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=df(t),i=r.Oo.get(n),!((a=r.Mo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Mo.set(i.targetId,a.filter((function(e){return!Gh(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Fm(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),My(r.remoteStore,i.targetId),sk(r,i.targetId)})).catch(nm);case 9:e.next=14;break;case 11:return sk(r,i.targetId),e.next=14,Fm(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}function Yg(e,t,n){return Gg.apply(this,arguments)}function Gg(){return Gg=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dk(t),e.prev=1,e.next=4,function(e,t){var n,r=df(e),i=Af.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Kd());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=sa(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=bd(c,n.get(c.key));null!=l&&s.push(new Td(c.key,l,ph(l.value.mapValue),md.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new Ld(Cf)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,hk(i,a.changes);case 9:return e.next=11,Jy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=mg(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Gg.apply(this,arguments)}function Kg(e,t){return Qg.apply(this,arguments)}function Qg(){return Qg=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=df(t),e.prev=1,e.next=4,Dm(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(hf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?hf(n.$o):e.removedDocuments.size>0&&(hf(n.$o),n.$o=!1))})),e.next=8,hk(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,nm(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Qg.apply(this,arguments)}function $g(e,t,n){var r=df(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=df(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=sa(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Cg(n)}(r.eventManager,t),i.length&&r.Fo.Pr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Jg(e,t,n){return Xg.apply(this,arguments)}function Xg(){return Xg=ra(aa().mark((function e(t,n,r){var i,a,o,s,u,c;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=df(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ld(Xf.comparator)).insert(o,vh.newNoDocument(o,Of.min())),u=Kd().add(o),c=new Jd(Of.min(),new Map,new jd(Cf),s,u),e.next=9,Kg(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),fk(i),e.next=16;break;case 14:return e.next=16,Fm(i.localStore,n,!1).then((function(){return sk(i,n,r)})).catch(nm);case 16:case"end":return e.stop()}}),e)}))),Xg.apply(this,arguments)}function Zg(e,t){return ek.apply(this,arguments)}function ek(){return ek=ra(aa().mark((function e(t,n){var r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=df(t),i=n.batch.batchId,e.prev=1,e.next=4,Om(r.localStore,n);case 4:return a=e.sent,ok(r,i,null),ak(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,hk(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,nm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ek.apply(this,arguments)}function tk(e,t,n){return nk.apply(this,arguments)}function nk(){return nk=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=df(t),e.prev=1,e.next=4,function(e,t){var n=df(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return hf(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,ok(i,n,r),ak(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,hk(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,nm(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),nk.apply(this,arguments)}function rk(e,t){return ik.apply(this,arguments)}function ik(){return ik=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vy((r=df(t)).remoteStore)||sf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=df(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=mg(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),ik.apply(this,arguments)}function ak(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function ok(e,t,n){var r=df(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function sk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=sa(e.Mo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.Fo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||uk(e,t)}))}function uk(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(My(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),fk(e))}function ck(e,t,n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Dg?(e.qo.addReference(a.key,t),lk(e,a)):a instanceof Mg?(sf("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||uk(e,a.key)):ff()}}catch(o){i.e(o)}finally{i.f()}}function lk(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(sf("SyncEngine","New document in limbo: "+n),e.Lo.add(r),fk(e))}function fk(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Xf(Uf.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Fg(n)),e.Bo=e.Bo.insert(n,r),Dy(e.remoteStore,new xv(Hh(Fh(n.path)),r,2,Tf.I))}}function hk(e,t,n){return dk.apply(this,arguments)}function dk(){return dk=ra(aa().mark((function e(t,n,r){var i,a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=df(t),a=[],o=[],s=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Em.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Fo.Pr(a),e.next=9,function(){var e=ra(aa().mark((function e(t,n){var r,i,a,o,s,u,c,l;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=df(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return cv.forEach(n,(function(t){return cv.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return cv.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),pv(e.t0)){e.next=10;break}throw e.t0;case 10:sf("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=sa(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),dk.apply(this,arguments)}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=df(t)).currentUser.isEqual(n)){e.next=11;break}return sf("SyncEngine","User change. New user:",n.toKey()),e.next=5,Rm(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new vf(pf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,hk(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}function mk(e,t){var n=df(e),r=n.Uo.get(t);if(r&&r.$o)return Kd().add(r.key);var i=Kd(),a=n.Mo.get(t);if(!a)return i;var o,s=sa(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Po)}}catch(l){s.e(l)}finally{s.f()}return i}function yk(e,t){return gk.apply(this,arguments)}function gk(){return gk=ra(aa().mark((function e(t,n){var r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=df(t),e.next=3,Vm(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&ck(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),gk.apply(this,arguments)}function kk(e){return wk.apply(this,arguments)}function wk(){return wk=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=df(t),e.abrupt("return",qm(n.localStore).then((function(e){return hk(n,e)})));case 2:case"end":return e.stop()}}),e)}))),wk.apply(this,arguments)}function bk(e,t,n,r){return _k.apply(this,arguments)}function _k(){return _k=ra(aa().mark((function e(t,n,r,i){var a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=df(t),e.next=3,function(e,t){var n=df(e),r=df(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):cv.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Jy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(ok(a,n,i||null),ak(a,n),function(e,t){df(df(e).An).ee(t)}(a.localStore,n)):ff();case 11:return e.next=13,hk(a,o);case 13:e.next=16;break;case 15:sf("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),_k.apply(this,arguments)}function xk(e,t){return Sk.apply(this,arguments)}function Sk(){return Sk=ra(aa().mark((function e(t,n){var r,i,a,o,s,u,c,l;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pk(r=df(t)),Dk(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Tk(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,fg(r.remoteStore,!0);case 9:o=sa(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Dy(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],l=Promise.resolve(),r.Mo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return sk(r,t),Fm(r.localStore,t,!0)})),My(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Tk(r,c);case 21:return function(e){var t=df(e);t.Uo.forEach((function(e,n){My(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Ld(Xf.comparator)}(r),r.Wo=!1,e.next=25,fg(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Sk.apply(this,arguments)}function Tk(e,t,n){return Ek.apply(this,arguments)}function Ek(){return Ek=ra(aa().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=df(t),a=[],o=[],s=sa(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i.Mo.get(c))||0===f.length){e.next=34;break}return e.next=11,Um(i.localStore,Hh(f[0]));case 11:l=e.sent,h=sa(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,yk(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,zm(i.localStore,c);case 36:return y=e.sent,e.next=39,Um(i.localStore,y);case 39:return l=e.sent,e.next=42,qg(i,Ik(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Fo.Pr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Ek.apply(this,arguments)}function Ik(e){return Uh(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Ck(e){var t=df(e);return df(df(t.localStore).persistence).Tn()}function Nk(e,t,n,r){return Rk.apply(this,arguments)}function Rk(){return Rk=ra(aa().mark((function e(t,n,r,i){var a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=df(t)).Wo){e.next=5;break}sf("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Mo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,qm(a.localStore);case 11:return o=e.sent,s=Jd.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,hk(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Fm(a.localStore,n,!0);case 18:return sk(a,n,i),e.abrupt("break",21);case 20:ff();case 21:case"end":return e.stop()}}),e)}))),Rk.apply(this,arguments)}function Ak(e,t,n){return Ok.apply(this,arguments)}function Ok(){return Ok=ra(aa().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Pk(t)).Wo){e.next=45;break}a=sa(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Mo.has(s)){e.next=10;break}return sf("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,zm(i.localStore,s);case 12:return u=e.sent,e.next=15,Um(i.localStore,u);case 15:return c=e.sent,e.next=18,qg(i,Ik(u),c.targetId,!1);case 18:Dy(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=sa(r),e.prev=30,h=aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Mo.has(t),!e.t0){e.next=5;break}return e.next=5,Fm(i.localStore,t,!1).then((function(){My(i.remoteStore,t),sk(i,t)})).catch(nm);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Ok.apply(this,arguments)}function Pk(e){var t=df(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jg.bind(null,t),t.Fo.Pr=Eg.bind(null,t.eventManager),t.Fo.zo=Ig.bind(null,t.eventManager),t}function Dk(e){var t=df(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,t),t}function Mk(e,t,n){var r=df(e);(function(){var e=ra(aa().mark((function e(t,n,r){var i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=df(e),r=hp(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Pg(i)),a=new Og(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,hk(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=df(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),cf("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Lk=function(){function e(){oa(this,e),this.synchronizeTabs=!1}return Fe(e,[{key:"initialize",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=_y(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return Nm(this.persistence,new Im,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new ny(iy.ks,this.k)}},{key:"Jo",value:function(e){return new py}},{key:"terminate",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Uk=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Fe(n,[{key:"initialize",value:function(){var e=ra(aa().mark((function e(t){var r=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(ca(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Bm(this.localStore);case 4:return e.next=6,this.ta.initialize(this,t);case 6:return e.next=8,Dk(this.ta.syncEngine);case 8:return e.next=10,Jy(this.ta.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return Nm(this.persistence,new Im,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new om(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Bv.withCacheSize(this.cacheSizeBytes):Bv.DEFAULT;return new wm(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,wy(),by(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new py}}]),n}(Lk),Fk=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,r,!1)).ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Fe(n,[{key:"initialize",value:function(){var e=ra(aa().mark((function e(t){var r,i=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(ca(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ta.syncEngine,e.t0=this.sharedClientState instanceof dy,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:bk.bind(null,r),gi:Nk.bind(null,r),yi:Ak.bind(null,r),Tn:Ck.bind(null,r),_i:kk.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xk(i.ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=wy();if(!dy.bt(t))throw new vf(pf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=xm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dy(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Uk),jk=function(){function e(){oa(this,e)}return Fe(e,[{key:"initialize",value:function(){var e=ra(aa().mark((function e(t,n){var r=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return $g(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pk.bind(null,this.syncEngine),e.next=12,fg(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new bg}},{key:"createDatastore",value:function(e){var t,n=_y(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ky(t));return function(e,t,n,r){return new Iy(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return $g(o.syncEngine,e,0)},a=my.bt()?new my:new vy,new Ny(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new jg(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=df(t),sf("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Oy(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Vk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ra(aa().mark((function r(){var i;return aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var zk=function(){function e(t){oa(this,e),this.observer=t,this.muted=!1}return Fe(e,[{key:"next",value:function(e){this.observer.next&&this.ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"na",value:function(){this.muted=!0}},{key:"ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),qk=function(){function e(t,n){var r=this;oa(this,e),this.sa=t,this.k=n,this.metadata=new mf,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Fe(e,[{key:"close",value:function(){return this.sa.cancel()}},{key:"getMetadata",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ra());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ra",value:function(){var e=ra(aa().mark((function e(){var t,n,r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oa();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ia.decode(t),r=Number(n),isNaN(r)&&this.aa("length string (".concat(n,") is not valid number")),e.next=9,this.ca(r);case 9:return i=e.sent,e.abrupt("return",new Rg(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ua",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oa",value:function(){var e=ra(aa().mark((function e(){var t,n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ua()<0)){e.next=7;break}return e.next=3,this.ha();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ua())<0&&this.aa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ca",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.ha();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.aa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ia.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"aa",value:function(e){throw this.sa.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"ha",value:function(){var e=ra(aa().mark((function e(){var t,n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sa.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Bk=function(){function e(t){oa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Fe(e,[{key:"lookup",value:function(){var e=ra(aa().mark((function e(t){var n,r=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new vf(pf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ra(aa().mark((function e(t,n){var r,i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=df(t),i=kp(r.k)+"/documents",a={documents:n.map((function(e){return vp(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=xp(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());hf(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ad(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ra(aa().mark((function e(){var t,n=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Xf.fromPath(t);n.mutations.push(new Od(r,n.precondition(r)))})),e.next=7,function(){var e=ra(aa().mark((function e(t,n){var r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=df(t),i=kp(r.k)+"/documents",a={writes:n.map((function(e){return Sp(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ff();t=Of.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new vf(pf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?md.updateTime(t):md.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Of.min()))throw new vf(pf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return md.updateTime(t)}return md.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Wk=function(){function e(t,n,r,i){oa(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.la=5,this.ur=new xy(this.asyncQueue,"transaction_retry")}return Fe(e,[{key:"run",value:function(){this.la-=1,this.fa()}},{key:"fa",value:function(){var e=this;this.ur.Zi(ra(aa().mark((function t(){var n,r;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Bk(e.datastore),(r=e.da(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wa(t)}))}))})).catch((function(t){e.wa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"da",value:function(e){try{var t=this.updateFunction(e);return!Qf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wa",value:function(e){var t=this;this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((function(){return t.fa(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_a",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Dd(t)}return!1}}]),e}(),Hk=function(){function e(t,n,r,i){var a=this;oa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nf.UNAUTHENTICATED,this.clientId=If.A(),this.authCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sf("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(){return Promise.resolve()}))}return Fe(e,[{key:"getConfiguration",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new vf(pf.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new mf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ra(aa().mark((function n(){var r;return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=mg(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Yk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),sf("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Rm(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Kk(e,t){return Qk.apply(this,arguments)}function Qk(){return Qk=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,$k(t);case 3:return r=e.sent,sf("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=df(t)).asyncQueue.verifyOperationInProgress(),sf("RemoteStore","RemoteStore received new credentials"),i=Vy(r),r.Gr.add(3),e.next=6,Oy(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,Ry(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),Qk.apply(this,arguments)}function $k(e){return Jk.apply(this,arguments)}function Jk(){return Jk=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return sf("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Yk(t,new Lk);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Xk(e){return Zk.apply(this,arguments)}function Zk(){return Zk=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return sf("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Kk(t,new jk);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Zk.apply(this,arguments)}function ew(e){return $k(e).then((function(e){return e.persistence}))}function tw(e){return $k(e).then((function(e){return e.localStore}))}function nw(e){return Xk(e).then((function(e){return e.remoteStore}))}function rw(e){return Xk(e).then((function(e){return e.syncEngine}))}function iw(e){return aw.apply(this,arguments)}function aw(){return aw=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xk(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Vg.bind(null,n.syncEngine),r.onUnlisten=Wg.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),aw.apply(this,arguments)}function ow(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new mf;return e.asyncQueue.enqueueAndForget(ra(aa().mark((function i(){return aa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new zk({next:function(a){t.enqueueAndForget((function(){return Sg(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new vf(pf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new vf(pf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Ng(Fh(n.path),a,{includeMetadataChanges:!0,wo:!0});return _g(e,o)},i.next=3,iw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function sw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new mf;return e.asyncQueue.enqueueAndForget(ra(aa().mark((function i(){return aa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new zk({next:function(n){t.enqueueAndForget((function(){return Sg(e,o)})),n.fromCache&&"server"===r.source?i.reject(new vf(pf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Ng(n,a,{includeMetadataChanges:!0,wo:!0});return _g(e,o)},i.next=3,iw(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var uw=Fe((function e(t,n,r,i,a,o,s,u){oa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),cw=function(){function e(t,n){oa(this,e),this.projectId=t,this.database=n||"(default)"}return Fe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),lw=new Map;function fw(e,t,n){if(!n)throw new vf(pf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function hw(e,t,n,r){if(!0===t&&!0===r)throw new vf(pf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function dw(e){if(!Xf.isDocumentKey(e))throw new vf(pf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function pw(e){if(Xf.isDocumentKey(e))throw new vf(pf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function vw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ff()}function mw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vf(pf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=vw(e);throw new vf(pf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function yw(e,t){if(t<=0)throw new vf(pf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var gw=function(){function e(t){var n;if(oa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new vf(pf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vf(pf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,hw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Fe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),kw=function(){function e(t,n,r){oa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,t instanceof cw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vf(pf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cw(e.options.projectId)}(t))}return Fe(e,[{key:"app",get:function(){if(!this._app)throw new vf(pf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new vf(pf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gf;switch(e.type){case"gapi":var t=e.client;return hf(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new _f(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new vf(pf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=lw.get(e);t&&(sf("ComponentProvider","Removing Datastore"),lw.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ww(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=mw(e,kw))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&cf("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=nf.MOCK_USER;else{o=_a(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new vf(pf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new nf(u)}e._authCredentials=new kf(new yf(o,s))}}var bw=function(){function e(t,n,r){oa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Fe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new xw(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),_w=function(){function e(t,n,r){oa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Fe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),xw=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,e,r,Fh(i)))._path=i,a.type="collection",a}return Fe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new bw(this.firestore,null,new Xf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(_w);function Sw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ba(e),fw("collection","path",t),e instanceof kw){var a=Uf.fromString.apply(Uf,[t].concat(r));return pw(a),new xw(e,null,a)}if(!(e instanceof bw||e instanceof xw))throw new vf(pf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uf.fromString.apply(Uf,[t].concat(r)));return pw(o),new xw(e.firestore,null,o)}function Tw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ba(e),1===arguments.length&&(t=If.A()),fw("doc","path",t),e instanceof kw){var a=Uf.fromString.apply(Uf,[t].concat(r));return dw(a),new bw(e,null,new Xf(a))}if(!(e instanceof bw||e instanceof xw))throw new vf(pf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uf.fromString.apply(Uf,[t].concat(r)));return dw(o),new bw(e.firestore,e instanceof xw?e.converter:null,new Xf(o))}function Ew(e,t){return e=Ba(e),t=Ba(t),(e instanceof bw||e instanceof xw)&&(t instanceof bw||t instanceof xw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Iw(e,t){return e=Ba(e),t=Ba(t),e instanceof _w&&t instanceof _w&&e.firestore===t.firestore&&Gh(e._query,t._query)&&e.converter===t.converter}var Cw=function(){function e(){var t=this;oa(this,e),this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new xy(this,"async_queue_retry"),this.Ra=function(){var e=by();e&&sf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=by();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ra)}return Fe(e,[{key:"isShuttingDown",get:function(){return this.ya}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pa(),this.ba(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;var t=by();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pa(),this.ya)return new Promise((function(){}));var n=new mf;return this.ba((function(){return t.ya&&t.Ia?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ga.push(e),t.va()}))}},{key:"va",value:function(){var e=ra(aa().mark((function e(){var t=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ga.length){e.next=14;break}return e.prev=1,e.next=4,this.ga[0]();case 4:this.ga.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),pv(e.t0)){e.next=12;break}throw e.t0;case 12:sf("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ga.length>0&&this.ur.Zi((function(){return t.va()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(e){var t=this,n=this.ma.then((function(){return t.Ea=!0,e().catch((function(e){t.Ta=e,t.Ea=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw uf("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ea=!1,e}))}));return this.ma=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);var i=vg.createAndSchedule(this,e,t,n,(function(e){return r.Va(e)}));return this.pa.push(i),i}},{key:"Pa",value:function(){this.Ta&&ff()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sa",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ma,e.next=3,t;case 3:if(t!==this.ma){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(e){var t,n=sa(this.pa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ca",value:function(e){var t=this;return this.Sa().then((function(){t.pa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=sa(t.pa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sa()}))}},{key:"Na",value:function(e){this.Aa.push(e)}},{key:"Va",value:function(e){var t=this.pa.indexOf(e);this.pa.splice(t,1)}}]),e}();function Nw(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=sa(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Rw=function(){function e(){oa(this,e),this._progressObserver={},this._taskCompletionResolver=new mf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Fe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Aw=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new Cw,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Fe(n,[{key:"_terminate",value:function(){return this._firestoreClient||Pw(this),this._firestoreClient.terminate()}}]),n}(kw);function Ow(e){return e._firestoreClient||Pw(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Pw(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new uw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Hk(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Dw(e,t,n){var r=new mf;return e.asyncQueue.enqueue(ra(aa().mark((function i(){return aa().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Yk(e,n);case 3:return i.next=5,Kk(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===pf.FAILED_PRECONDITION||e.code===pf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Mw(e){return function(e){return e.asyncQueue.enqueue(ra(aa().mark((function t(){var n,r;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ew(e);case 2:return n=t.sent,t.next=5,nw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=df(e);return t.Gr.delete(0),Ry(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ow(e=mw(e,Aw)))}function Lw(e){return function(e){return e.asyncQueue.enqueue(ra(aa().mark((function t(){var n,r;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ew(e);case 2:return n=t.sent,t.next=5,nw(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=df(t)).Gr.add(0),e.next=4,Oy(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ow(e=mw(e,Aw)))}function Uw(e,t){var n=Ow(e=mw(e,Aw)),r=new Rw;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new qk(e,t)}(function(e,t){if(e instanceof Uint8Array)return Vk(e,t);if(e instanceof ArrayBuffer)return Vk(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,_y(t));e.asyncQueue.enqueueAndForget(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Mk,t.next=3,rw(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Fw(e,t){return function(e,t){return e.asyncQueue.enqueue(ra(aa().mark((function n(){return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=df(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,tw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Ow(e=mw(e,Aw)),t).then((function(t){return t?new _w(e,null,t.query):null}))}function jw(e){if(e._initialized||e._terminated)throw new vf(pf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Vw=function(){function e(){oa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new vf(pf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jf(n)}return Fe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var zw=function(){function e(t){oa(this,e),this._byteString=t}return Fe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(zf.fromBase64String(t))}catch(t){throw new vf(pf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(zf.fromUint8Array(t))}}]),e}(),qw=Fe((function e(t){oa(this,e),this._methodName=t})),Bw=function(){function e(t,n){if(oa(this,e),!isFinite(t)||t<-90||t>90)throw new vf(pf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vf(pf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Fe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Cf(this._lat,e._lat)||Cf(this._long,e._long)}}]),e}(),Ww=/^__.*__$/,Hw=function(){function e(t,n,r){oa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Fe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Td(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sd(e,this.data,t,this.fieldTransforms)}}]),e}(),Yw=function(){function e(t,n,r){oa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Fe(e,[{key:"toMutation",value:function(e,t){return new Td(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Gw(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ff()}}var Kw=function(){function e(t,n,r,i,a,o){oa(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ka(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Fe(e,[{key:"path",get:function(){return this.settings.path}},{key:"xa",get:function(){return this.settings.xa}},{key:"$a",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}},{key:"La",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}},{key:"Ba",value:function(e){return this.$a({path:void 0,Oa:!0})}},{key:"Ua",value:function(e){return pb(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ka",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}},{key:"Ma",value:function(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(Gw(this.xa)&&Ww.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}]),e}(),Qw=function(){function e(t,n,r){oa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||_y(t)}return Fe(e,[{key:"ja",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Kw({xa:e,methodName:t,Ka:n,path:jf.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function $w(e){var t=e._freezeSettings(),n=_y(e._databaseId);return new Qw(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Jw(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ja(a.merge||a.mergeFields?2:0,t,n,i);lb("Data must be an object, but it was:",o,r);var s,u,c=ub(r,o);if(a.merge)s=new Vf(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=sa(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=fb(t,d,n);if(!o.contains(p))throw new vf(pf.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));vb(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new Vf(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Hw(new dh(c),s,u)}var Xw=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.xa)throw 1===e.xa?e.Ua("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ua("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(qw);function Zw(e,t,n){return new Kw({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var eb=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"_toFieldTransform",value:function(e){return new pd(e.path,new od)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(qw),tb=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e)).Qa=r,i}return Fe(n,[{key:"_toFieldTransform",value:function(e){var t=Zw(this,e,!0),n=this.Qa.map((function(e){return sb(e,t)})),r=new sd(n);return new pd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qw),nb=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e)).Qa=r,i}return Fe(n,[{key:"_toFieldTransform",value:function(e){var t=Zw(this,e,!0),n=this.Qa.map((function(e){return sb(e,t)})),r=new cd(n);return new pd(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qw),rb=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e)).Wa=r,i}return Fe(n,[{key:"_toFieldTransform",value:function(e){var t=new fd(e.k,td(e.k,this.Wa));return new pd(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(qw);function ib(e,t,n,r){var i=e.ja(1,t,n);lb("Data must be an object, but it was:",i,r);var a=[],o=dh.empty();Df(r,(function(e,r){var s=db(t,e,n);r=Ba(r);var u=i.La(s);if(r instanceof Xw)a.push(s);else{var c=sb(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Vf(a);return new Yw(o,s,i.fieldTransforms)}function ab(e,t,n,r,i,a){var o=e.ja(1,t,n),s=[fb(t,r,n)],u=[i];if(a.length%2!=0)throw new vf(pf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(fb(t,a[c])),u.push(a[c+1]);for(var l=[],f=dh.empty(),h=s.length-1;h>=0;--h)if(!vb(l,s[h])){var d=s[h],p=u[h];p=Ba(p);var v=o.La(d);if(p instanceof Xw)l.push(d);else{var m=sb(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Vf(l);return new Yw(f,y,o.fieldTransforms)}function ob(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return sb(n,e.ja(r?4:3,t))}function sb(e,t){if(cb(e=Ba(e)))return lb("Unsupported field value:",t,e),ub(e,t);if(e instanceof qw)return function(e,t){if(!Gw(t.xa))throw t.Ua("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ua("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=sa(e);try{for(a.s();!(n=a.n()).done;){var o=sb(n.value,t.Ba(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ba(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return td(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Af.fromDate(e);return{timestampValue:cp(t.k,n)}}if(e instanceof Af){var r=new Af(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cp(t.k,r)}}if(e instanceof Bw)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zw)return{bytesValue:lp(t.k,e._byteString)};if(e instanceof bw){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ua("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:dp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua("Unsupported field value: ".concat(vw(e)))}(e,t)}function ub(e,t){var n={};return Mf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Df(e,(function(e,r){var i=sb(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function cb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Af||e instanceof Bw||e instanceof zw||e instanceof bw||e instanceof qw)}function lb(e,t,n){if(!cb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=vw(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function fb(e,t,n){if((t=Ba(t))instanceof Vw)return t._internalPath;if("string"==typeof t)return db(e,t);throw pb("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var hb=new RegExp("[~\\*/\\[\\]]");function db(e,t,n){if(t.search(hb)>=0)throw pb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return da(Vw,Un(t.split(".")))._internalPath}catch(r){throw pb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pb(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new vf(pf.INVALID_ARGUMENT,s+e+u)}function vb(e,t){return e.some((function(e){return e.isEqual(t)}))}var mb=function(){function e(t,n,r,i,a){oa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Fe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new bw(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new yb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(gb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),yb=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"data",value:function(){return zo(ca(n.prototype),"data",this).call(this)}}]),n}(mb);function gb(e,t){return"string"==typeof t?db(e,t):t instanceof Vw?t._internalPath:t._delegate._internalPath}var kb=function(){function e(t,n){oa(this,e),this.hasPendingWrites=t,this.fromCache=n}return Fe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),wb=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a,o,s){var u;return oa(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Fe(n,[{key:"exists",value:function(){return zo(ca(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(gb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(mb),bb=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zo(ca(n.prototype),"data",this).call(this,e)}}]),n}(wb),_b=function(){function e(t,n,r,i){oa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new kb(i.hasPendingWrites,i.fromCache),this.query=r}return Fe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bb(n._firestore,n._userDataWriter,r.key,r,new kb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vf(pf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new bb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function xb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ff()}}function Sb(e,t){return e instanceof wb&&t instanceof wb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _b&&t instanceof _b&&e._firestore===t._firestore&&Iw(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Tb(e){if(Vh(e)&&0===e.explicitOrderBy.length)throw new vf(pf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Eb=Fe((function e(){oa(this,e)}));function Ib(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Cb=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).Ga=e,a.za=r,a.Ha=i,a.type="where",a}return Fe(n,[{key:"_apply",value:function(e){var t=$w(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new vf(pf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){jb(o,a);var u,c=[],l=sa(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(Fb(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=Fb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||jb(o,a),s=ob(n,"where",o,"in"===a||"not-in"===a);var h=bh.create(i,a,s);return function(e,t){if(t.V()){var n=qh(e);if(null!==n&&!n.isEqual(t.field))throw new vf(pf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=zh(e);null!==r&&Vb(e,t.field,r)}var i=function(e,t){var n,r=sa(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new vf(pf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vf(pf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new _w(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Eb);var Nb=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this)).Ga=e,i.Ja=r,i.type="orderBy",i}return Fe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new vf(pf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vf(pf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Oh(t,n);return function(e,t){if(null===zh(e)){var n=qh(e);null!==n&&Vb(e,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new _w(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Lh(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Eb);var Rb=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).type=e,a.Ya=r,a.Xa=i,a}return Fe(n,[{key:"_apply",value:function(e){return new _w(e.firestore,e.converter,Yh(e._query,this.Ya,this.Xa))}}]),n}(Eb);var Ab=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Fe(n,[{key:"_apply",value:function(e){var t=Ub(e,this.type,this.Za,this.tc);return new _w(e.firestore,e.converter,function(e,t){return new Lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Eb);function Ob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ab("startAt",t,!0)}function Pb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ab("startAfter",t,!1)}var Db=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a;return oa(this,n),(a=t.call(this)).type=e,a.Za=r,a.tc=i,a}return Fe(n,[{key:"_apply",value:function(e){var t=Ub(e,this.type,this.Za,this.tc);return new _w(e.firestore,e.converter,function(e,t){return new Lh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Eb);function Mb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Db("endBefore",t,!0)}function Lb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Db("endAt",t,!1)}function Ub(e,t,n,r){if(n[0]=Ba(n[0]),n[0]instanceof mb)return function(e,t,n,r,i){if(!r)throw new vf(pf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=sa(Wh(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(oh(t,r.key));else{var c=r.data.field(u.field);if(Yf(c))throw new vf(pf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new vf(pf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Rh(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=$w(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new vf(pf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new vf(pf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Bh(e)&&-1!==c.indexOf("/"))throw new vf(pf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Uf.fromString(c));if(!Xf.isDocumentKey(l))throw new vf(pf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Xf(l);s.push(oh(t,f))}else{var h=ob(n,r,c);s.push(h)}}return new Rh(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Fb(e,t,n){if("string"==typeof(n=Ba(n))){if(""===n)throw new vf(pf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bh(t)&&-1!==n.indexOf("/"))throw new vf(pf.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Uf.fromString(n));if(!Xf.isDocumentKey(r))throw new vf(pf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return oh(e,new Xf(r))}if(n instanceof bw)return oh(e,n._key);throw new vf(pf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vw(n),"."))}function jb(e,t){if(!Array.isArray(e)||0===e.length)throw new vf(pf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new vf(pf.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Vb(e,t,n){if(!n.isEqual(t))throw new vf(pf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var zb=function(){function e(){oa(this,e)}return Fe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Zf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ff()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Df(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Bw(Wf(e.latitude),Wf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Gf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Bf(e);return new Af(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Uf.fromString(e);hf(jp(n));var r=new cw(n.get(1),n.get(3)),i=new Xf(n.popFirst(5));return r.isEqual(t)||uf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function qb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Bb=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this)).firestore=e,r}return Fe(n,[{key:"convertBytes",value:function(e){return new zw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bw(this.firestore,null,t)}}]),n}(zb),Wb=function(){function e(t,n){oa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$w(t)}return Fe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Hb(e,this._firestore),i=qb(r.converter,t,n),a=Jw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,md.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Hb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ba(t))||t instanceof Vw?ab(this._dataReader,"WriteBatch.update",i._key,t,n,o):ib(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,md.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Hb(e,this._firestore);return this._mutations=this._mutations.concat(new Ad(t._key,md.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new vf(pf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Hb(e,t){if((e=Ba(e)).firestore!==t)throw new vf(pf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Yb=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this)).firestore=e,r}return Fe(n,[{key:"convertBytes",value:function(e){return new zw(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new bw(this.firestore,null,t)}}]),n}(zb);function Gb(e){e=mw(e,bw);var t=mw(e.firestore,Aw),n=Ow(t),r=new Yb(t);return function(e,t){var n=new mf;return e.asyncQueue.enqueueAndForget(ra(aa().mark((function r(){return aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=df(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new vf(pf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=mg(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,tw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new wb(t,r,e._key,n,new kb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Kb(e){e=mw(e,_w);var t=mw(e.firestore,Aw),n=Ow(t),r=new Yb(t);return function(e,t){var n=new mf;return e.asyncQueue.enqueueAndForget(ra(aa().mark((function r(){return aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ra(aa().mark((function e(t,n,r){var i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vm(t,n,!0);case 3:i=e.sent,a=new Lg(n,i.zn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=mg(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,tw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new _b(t,r,e,n)}))}function Qb(e,t,n){e=mw(e,bw);var r=mw(e.firestore,Aw),i=qb(e.converter,t,n);return Zb(r,[Jw($w(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,md.none())])}function $b(e,t,n){e=mw(e,bw);for(var r=mw(e.firestore,Aw),i=$w(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Zb(r,[("string"==typeof(t=Ba(t))||t instanceof Vw?ab(i,"updateDoc",e._key,t,n,o):ib(i,"updateDoc",e._key,t)).toMutation(e._key,md.exists(!0))])}function Jb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ba(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Nw(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(Nw(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof bw)l=mw(e.firestore,Aw),f=Fh(e._key.path),c={next:function(t){n[u]&&n[u](e_(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=mw(e,_w);l=mw(p.firestore,Aw),f=p._query;var v=new Yb(l);c={next:function(e){n[u]&&n[u](new _b(l,v,p,e))},error:n[u+1],complete:n[u+2]},Tb(e._query)}return function(e,t,n,r){var i=new zk(r),a=new Ng(t,i,n);return e.asyncQueue.enqueueAndForget(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_g,t.next=3,iw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.na(),e.asyncQueue.enqueueAndForget(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Sg,t.next=3,iw(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ow(l),f,h,c)}function Xb(e,t){return function(e,t){var n=new zk(t);return e.asyncQueue.enqueueAndForget(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){df(e).io.add(t),t.next()},t.next=3,iw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.na(),e.asyncQueue.enqueueAndForget(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){df(e).io.delete(t)},t.next=3,iw(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ow(e=mw(e,Aw)),Nw(t)?t:{next:t})}function Zb(e,t){return function(e,t){var n=new mf;return e.asyncQueue.enqueueAndForget(ra(aa().mark((function r(){return aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Yg,r.next=3,rw(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ow(e),t)}function e_(e,t,n){var r=n.docs.get(t._key),i=new Yb(e);return new wb(e,i,t._key,r,new kb(n.hasPendingWrites,n.fromCache),t.converter)}var t_=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,r))._firestore=e,i}return Fe(n,[{key:"get",value:function(e){var t=this,r=Hb(e,this._firestore),i=new Yb(this._firestore);return zo(ca(n.prototype),"get",this).call(this,e).then((function(e){return new wb(t._firestore,i,r._key,e._document,new kb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){oa(this,e),this._firestore=t,this._transaction=n,this._dataReader=$w(t)}return Fe(e,[{key:"get",value:function(e){var t=this,n=Hb(e,this._firestore),r=new Bb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ff();var i=e[0];if(i.isFoundDocument())return new mb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new mb(t._firestore,r,n._key,null,n.converter);throw ff()}))}},{key:"set",value:function(e,t,n){var r=Hb(e,this._firestore),i=qb(r.converter,t,n),a=Jw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Hb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Ba(t))||t instanceof Vw?ab(this._dataReader,"Transaction.update",i._key,t,n,o):ib(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Hb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function n_(e,t){return function(e,t){var n=new mf;return e.asyncQueue.enqueueAndForget(ra(aa().mark((function r(){var i;return aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Xk(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Wk(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Ow(e=mw(e,Aw)),(function(n){return t(new t_(e,n))}))}function r_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tb("arrayUnion",t)}function i_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new nb("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){rf=e}(So),vo(new Wa("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Aw(i,new wf(e.getProvider("auth-internal")),new Sf(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ro(tf,"3.4.1",e),Ro(tf,"3.4.1","esm2017")}();function a_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function o_(){if("undefined"===typeof Uint8Array)throw new vf("unimplemented","Uint8Arrays are not available in this environment.")}function s_(){if("undefined"==typeof atob)throw new vf("unimplemented","Blobs are unavailable in Firestore in this environment.")}var u_=function(){function e(t){oa(this,e),this._delegate=t}return Fe(e,[{key:"toBase64",value:function(){return s_(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return o_(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return s_(),new e(zw.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return o_(),new e(zw.fromUint8Array(t))}}]),e}();function c_(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=sa(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var l_=function(){function e(){oa(this,e)}return Fe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){jw(e=mw(e,Aw));var n=Ow(e),r=e._freezeSettings(),i=new jk;return Dw(n,i,new Uk(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){jw(e=mw(e,Aw));var t=Ow(e),n=e._freezeSettings(),r=new jk;return Dw(t,r,new Fk(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new vf(pf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new mf;return e._queue.enqueueAndForgetEvenWhileRestricted(ra(aa().mark((function n(){return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fv.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,fv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(xm(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),f_=function(){function e(t,n,r){var i=this;oa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof cw||(this._appCompat=t)}return Fe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||cf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ww(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Mw(this._delegate)}},{key:"disableNetwork",value:function(){return Lw(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&hw("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new mf;return e.asyncQueue.enqueueAndForget(ra(aa().mark((function n(){return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=rk,n.next=3,rw(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Ow(e=mw(e,Aw)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Xb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new vf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new T_(this,Sw(this._delegate,e))}catch(t){throw y_(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new m_(this,Tw(this._delegate,e))}catch(t){throw y_(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new __(this,function(e,t){if(e=mw(e,kw),fw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vf(pf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new _w(e,null,function(e){return new Lh(Uf.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw y_(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return n_(this._delegate,(function(n){return e(new d_(t,n))}))}},{key:"batch",value:function(){var e=this;return Ow(this._delegate),new p_(new Wb(this._delegate,(function(t){return Zb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Uw(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Fw(this._delegate,e).then((function(e){return e?new __(t,e):null}))}}]),e}(),h_=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this)).firestore=e,r}return Fe(n,[{key:"convertBytes",value:function(e){return new u_(new zw(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return m_.forKey(t,this.firestore,null)}}]),n}(zb);var d_=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new h_(t)}return Fe(e,[{key:"get",value:function(e){var t=this,n=E_(e);return this._delegate.get(n).then((function(e){return new w_(t._firestore,new wb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=E_(e);return n?(a_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=E_(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=E_(e);return this._delegate.delete(t),this}}]),e}(),p_=function(){function e(t){oa(this,e),this._delegate=t}return Fe(e,[{key:"set",value:function(e,t,n){var r=E_(e);return n?(a_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=E_(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=E_(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),v_=function(){function e(t,n,r){oa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Fe(e,[{key:"fromFirestore",value:function(e,t){var n=new bb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new b_(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new h_(t),n),i.set(n,a)),a}}]),e}();v_.INSTANCES=new WeakMap;var m_=function(){function e(t,n){oa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new h_(t)}return Fe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new T_(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new T_(this.firestore,Sw(this._delegate,e))}catch(t){throw y_(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ba(e))instanceof bw&&Ew(this._delegate,e)}},{key:"set",value:function(e,t){t=a_("DocumentReference.set",t);try{return t?Qb(this._delegate,e,t):Qb(this._delegate,e)}catch(n){throw y_(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?$b(this._delegate,e):$b.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw y_(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Zb(mw(e.firestore,Aw),[new Ad(e._key,md.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=g_(n),a=k_(n,(function(t){return new w_(e.firestore,new wb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Jb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Gb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=mw(e,bw);var t=mw(e.firestore,Aw);return ow(Ow(t),e._key,{source:"server"}).then((function(n){return e_(t,e,n)}))}(this._delegate):function(e){e=mw(e,bw);var t=mw(e.firestore,Aw);return ow(Ow(t),e._key).then((function(n){return e_(t,e,n)}))}(this._delegate),t.then((function(e){return new w_(n.firestore,new wb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(v_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new vf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new bw(n._delegate,r,new Xf(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new bw(n._delegate,r,t))}}]),e}();function y_(e,t,n){return e.message=e.message.replace(t,n),e}function g_(e){var t,n=sa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!c_(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function k_(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=c_(e[0])?e[0]:c_(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var w_=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n}return Fe(e,[{key:"ref",get:function(){return new m_(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Sb(this._delegate,e._delegate)}}]),e}(),b_=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ff()}(void 0!==t),t}}]),n}(w_),__=function(){function e(t,n){oa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new h_(t)}return Fe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Ib(this._delegate,function(e,t,n){var r=t,i=gb("where",e);return new Cb(i,r,n)}(t,n,r)))}catch(i){throw y_(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Ib(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=gb("orderBy",e);return new Nb(n,t)}(t,n)))}catch(r){throw y_(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Ib(this._delegate,function(e){return yw("limit",e),new Rb("limit",e,"F")}(t)))}catch(n){throw y_(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Ib(this._delegate,function(e){return yw("limitToLast",e),new Rb("limitToLast",e,"L")}(t)))}catch(n){throw y_(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Ib(this._delegate,Ob.apply(void 0,arguments)))}catch(t){throw y_(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Ib(this._delegate,Pb.apply(void 0,arguments)))}catch(t){throw y_(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Ib(this._delegate,Mb.apply(void 0,arguments)))}catch(t){throw y_(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Ib(this._delegate,Lb.apply(void 0,arguments)))}catch(t){throw y_(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Iw(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Kb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=mw(e,_w);var t=mw(e.firestore,Aw),n=Ow(t),r=new Yb(t);return sw(n,e._query,{source:"server"}).then((function(n){return new _b(t,r,e,n)}))}(this._delegate):function(e){e=mw(e,_w);var t=mw(e.firestore,Aw),n=Ow(t),r=new Yb(t);return Tb(e._query),sw(n,e._query).then((function(n){return new _b(t,r,e,n)}))}(this._delegate),t.then((function(e){return new S_(n.firestore,new _b(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=g_(n),a=k_(n,(function(t){return new S_(e.firestore,new _b(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Jb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(v_.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),x_=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n}return Fe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new b_(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),S_=function(){function e(t,n){oa(this,e),this._firestore=t,this._delegate=n}return Fe(e,[{key:"query",get:function(){return new __(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new b_(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new x_(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new b_(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Sb(this._delegate,e._delegate)}}]),e}(),T_=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Fe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new m_(this.firestore,e):null}},{key:"doc",value:function(e){try{return new m_(this.firestore,void 0===e?Tw(this._delegate):Tw(this._delegate,e))}catch(t){throw y_(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=mw(e.firestore,Aw),r=Tw(e),i=qb(e.converter,t);return Zb(n,[Jw($w(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,md.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new m_(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Ew(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(v_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(__);function E_(e){return mw(e,bw)}var I_,C_=function(){function e(){oa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=da(Vw,n)}return Fe(e,[{key:"isEqual",value:function(e){return(e=Ba(e))instanceof Vw&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(jf.keyField().canonicalString())}}]),e}(),N_=function(){function e(t){oa(this,e),this._delegate=t}return Fe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new eb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Xw("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=r_.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=i_.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new rb("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),R_={Firestore:f_,GeoPoint:Bw,Timestamp:Af,Blob:u_,Transaction:d_,WriteBatch:p_,DocumentReference:m_,DocumentSnapshot:w_,Query:__,QueryDocumentSnapshot:b_,QuerySnapshot:S_,CollectionReference:T_,FieldPath:C_,FieldValue:N_,setLogLevel:function(e){!function(e){af.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Wa("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},R_)))})(I_=jo,(function(e,t){return new f_(e,t,new l_)})),I_.registerVersion("@firebase/firestore-compat","0.1.10");function A_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var O_;Object.create;var P_="facebook.com",D_="github.com",M_="google.com",L_="password",U_="twitter.com",F_="EMAIL_SIGNIN",j_="PASSWORD_RESET",V_="RECOVER_EMAIL",z_="REVERT_SECOND_FACTOR_ADDITION",q_="VERIFY_AND_CHANGE_EMAIL",B_="VERIFY_EMAIL";function W_(){return i({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var H_=function(){var e;return i(e={},"admin-restricted-operation","This operation is restricted to administrators only."),i(e,"argument-error",""),i(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),i(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),i(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),i(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),i(e,"cordova-not-ready","Cordova framework is not ready."),i(e,"cors-unsupported","This browser is not supported."),i(e,"credential-already-in-use","This credential is already associated with a different user account."),i(e,"custom-token-mismatch","The custom token corresponds to a different audience."),i(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),i(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),i(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),i(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),i(e,"email-already-in-use","The email address is already in use by another account."),i(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),i(e,"expired-action-code","The action code has expired."),i(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),i(e,"internal-error","An internal AuthError has occurred."),i(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),i(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),i(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),i(e,"invalid-auth-event","An internal AuthError has occurred."),i(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),i(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),i(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),i(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),i(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),i(e,"invalid-email","The email address is badly formatted."),i(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),i(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),i(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),i(e,"invalid-credential","The supplied auth credential is malformed or has expired."),i(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),i(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),i(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),i(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),i(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),i(e,"wrong-password","The password is invalid or the user does not have a password."),i(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),i(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),i(e,"invalid-provider-id","The specified provider ID is invalid."),i(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),i(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),i(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),i(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),i(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),i(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),i(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),i(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),i(e,"missing-continue-uri","A continue URL must be provided in the request."),i(e,"missing-iframe-start","An internal AuthError has occurred."),i(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),i(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),i(e,"missing-multi-factor-info","No second factor identifier is provided."),i(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),i(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),i(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),i(e,"app-deleted","This instance of FirebaseApp has been deleted."),i(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),i(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),i(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),i(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),i(e,"no-auth-event","An internal AuthError has occurred."),i(e,"no-such-provider","User was not linked to an account with the given provider."),i(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),i(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),i(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),i(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),i(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),i(e,"provider-already-linked","User can only be linked to one identity for the given provider."),i(e,"quota-exceeded","The project's quota for this operation has been exceeded."),i(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),i(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),i(e,"rejected-credential","The request contains malformed or mismatching credentials."),i(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),i(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),i(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),i(e,"timeout","The operation has timed out."),i(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),i(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),i(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),i(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),i(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),i(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),i(e,"unverified-email","The operation requires a verified email."),i(e,"user-cancelled","The user did not grant your application the permissions it requested."),i(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),i(e,"user-disabled","The user account has been disabled by an administrator."),i(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),i(e,"user-signed-out",""),i(e,"weak-password","The password must be 6 characters long or more."),i(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),i(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Y_=W_,G_=new Aa("auth","Firebase",W_()),K_=new ro("@firebase/auth");function Q_(e){if(K_.logLevel<=Ka.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];K_.error.apply(K_,["Auth (".concat(So,"): ").concat(e)].concat(n))}}function $_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ex.apply(void 0,[e].concat(n))}function J_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ex.apply(void 0,[e].concat(n))}function X_(e,t,n){var r=Object.assign(Object.assign({},Y_()),i({},t,n));return new Aa("auth","Firebase",r).create(t,{appName:e.name})}function Z_(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$_(e,"argument-error"),X_(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ex(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Un(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Un(o)))}return G_.create.apply(G_,[e].concat(n))}function tx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ex.apply(void 0,[t].concat(r))}}function nx(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Q_(t),new Error(t)}function rx(e,t){e||nx(t)}var ix=new Map;function ax(e){rx(e instanceof Function,"Expected a class definition");var t=ix.get(e);return t?(rx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ix.set(e,t),t)}function ox(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function sx(){return"http:"===ux()||"https:"===ux()}function ux(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var cx=function(){function e(t,n){oa(this,e),this.shortDelay=t,this.longDelay=n,rx(n>t,"Short delay should be less than long delay!"),this.isMobile=Sa()||Ia()}return Fe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(sx()||Ea()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function lx(e,t){rx(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var fx=function(){function e(){oa(this,e)}return Fe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void nx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void nx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void nx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),hx=(i(O_={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),i(O_,"MISSING_CUSTOM_TOKEN","internal-error"),i(O_,"INVALID_IDENTIFIER","invalid-email"),i(O_,"MISSING_CONTINUE_URI","internal-error"),i(O_,"INVALID_PASSWORD","wrong-password"),i(O_,"MISSING_PASSWORD","internal-error"),i(O_,"EMAIL_EXISTS","email-already-in-use"),i(O_,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),i(O_,"INVALID_IDP_RESPONSE","invalid-credential"),i(O_,"INVALID_PENDING_TOKEN","invalid-credential"),i(O_,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),i(O_,"MISSING_REQ_TYPE","internal-error"),i(O_,"EMAIL_NOT_FOUND","user-not-found"),i(O_,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),i(O_,"EXPIRED_OOB_CODE","expired-action-code"),i(O_,"INVALID_OOB_CODE","invalid-action-code"),i(O_,"MISSING_OOB_CODE","internal-error"),i(O_,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),i(O_,"INVALID_ID_TOKEN","invalid-user-token"),i(O_,"TOKEN_EXPIRED","user-token-expired"),i(O_,"USER_NOT_FOUND","user-token-expired"),i(O_,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),i(O_,"INVALID_CODE","invalid-verification-code"),i(O_,"INVALID_SESSION_INFO","invalid-verification-id"),i(O_,"INVALID_TEMPORARY_PROOF","invalid-credential"),i(O_,"MISSING_SESSION_INFO","missing-verification-id"),i(O_,"SESSION_EXPIRED","code-expired"),i(O_,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),i(O_,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),i(O_,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),i(O_,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),i(O_,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),i(O_,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),i(O_,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),i(O_,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),i(O_,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),i(O_,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),i(O_,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),O_),dx=new cx(3e4,6e4);function px(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function vx(e,t,n,r){return mx.apply(this,arguments)}function mx(){return mx=ra(aa().mark((function e(t,n,r,i){var a,o=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",yx(t,a,ra(aa().mark((function e(){var a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ua(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",fx.fetch()(bx(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t,n){return gx.apply(this,arguments)}function gx(){return gx=ra(aa().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},hx),n),e.prev=2,a=new _x(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw xx(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=j(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw xx(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw xx(t,"email-already-in-use",s);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw X_(t,d,h);case 30:$_(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ra)){e.next=37;break}throw e.t0;case 37:$_(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),gx.apply(this,arguments)}function kx(e,t,n,r){return wx.apply(this,arguments)}function wx(){return wx=ra(aa().mark((function e(t,n,r,i){var a,o,s=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,vx(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&$_(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function bx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?lx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var _x=function(){function e(t){var n=this;oa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(J_(n.auth,"timeout"))}),dx.get())}))}return Fe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function xx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=J_(e,t,r);return i.customData._tokenResponse=n,i}function Sx(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Tx.apply(this,arguments)}function Ex(e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Cx(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Rx(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ax(){return Ax=ra(aa().mark((function e(t){var n,r,i,a,o,s,u=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ba(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,tx((a=Px(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Rx(Ox(a.auth_time)),issuedAtTime:Rx(Ox(a.iat)),expirationTime:Rx(Ox(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function Ox(e){return 1e3*Number(e)}function Px(e){var t=j(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Q_("JWT malformed, contained fewer than 3 sections"),null;try{var a=ga(r);return a?JSON.parse(a):(Q_("Failed to decode base64 JWT payload"),null)}catch(o){return Q_("Caught error parsing JWT payload as JSON",o),null}}function Dx(e,t){return Mx.apply(this,arguments)}function Mx(){return Mx=ra(aa().mark((function e(t,n){var r=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ra&&Lx(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Mx.apply(this,arguments)}function Lx(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ux=function(){function e(t){oa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Fe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fx=function(){function e(t,n){oa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Fe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Rx(this.lastLoginAt),this.creationTime=Rx(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function jx(e){return Vx.apply(this,arguments)}function Vx(){return Vx=ra(aa().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Dx(t,Cx(r,{idToken:i}));case 6:tx(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Bx(o.providerUserInfo):[],u=qx(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fx(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function zx(){return(zx=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ba(t),e.next=3,jx(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qx(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Un(n),Un(t))}function Bx(e){return e.map((function(e){var t=e.providerId,n=A_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Wx(e,t){return Hx.apply(this,arguments)}function Hx(){return Hx=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yx(t,{},ra(aa().mark((function e(){var r,i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ua({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=bx(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",fx.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Hx.apply(this,arguments)}var Yx=function(){function e(){oa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Fe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){tx(e.idToken,"internal-error"),tx("undefined"!==typeof e.idToken,"internal-error"),tx("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Px(e);return tx(t,"internal-error"),tx("undefined"!==typeof t.exp,"internal-error"),tx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ra(aa().mark((function e(t){var n,r=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],tx(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wx(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return nx("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(tx("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(tx("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(tx("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Gx(e,t){tx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Kx=function(){function e(t){oa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=A_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new Fx(a.createdAt||void 0,a.lastLoginAt||void 0)}return Fe(e,[{key:"getIdToken",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dx(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(tx(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ax.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return zx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(tx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){tx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ra(aa().mark((function e(t){var n,r,i=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,jx(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Dx(this,Sx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;tx(k&&x,t,"internal-error");var S=Yx.fromJSON(this.name,x);tx("string"===typeof k,t,"internal-error"),Gx(f,t.name),Gx(h,t.name),tx("boolean"===typeof w,t,"internal-error"),tx("boolean"===typeof b,t,"internal-error"),Gx(d,t.name),Gx(p,t.name),Gx(v,t.name),Gx(m,t.name),Gx(y,t.name),Gx(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=ra(aa().mark((function t(n,r){var i,a,o,s=arguments;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Yx).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,jx(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Qx=function(){function e(){oa(this,e),this.type="NONE",this.storage={}}return Fe(e,[{key:"_isAvailable",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Qx.type="NONE";var $x=Qx;function Jx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Xx=function(){function e(t,n,r){oa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Jx(this.userKey,a.apiKey,o),this.fullPersistenceKey=Jx("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Fe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Kx._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ra(aa().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ax($x),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ax($x),s=Jx(i,n.config.apiKey,n.name),u=null,c=sa(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Kx._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Zx(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(aS(t))return"Blackberry";if(oS(t))return"Webos";if(tS(t))return"Safari";if((t.includes("chrome/")||nS(t))&&!t.includes("edge/"))return"Chrome";if(iS(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function eS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/firefox\//i.test(e)}function tS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/crios\//i.test(e)}function rS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/iemobile/i.test(e)}function iS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/android/i.test(e)}function aS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/blackberry/i.test(e)}function oS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/webos/i.test(e)}function sS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/iphone|ipad|ipod/i.test(e)}function uS(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return sS(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function cS(){return Ca()&&10===document.documentMode}function lS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return sS(e)||iS(e)||oS(e)||aS(e)||/windows phone/i.test(e)||rS(e)}function fS(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Zx(xa());break;case"Worker":t="".concat(Zx(xa()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(So,"/").concat(r)}var hS=function(){function e(t,n){oa(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pS(this),this.idTokenSubscription=new pS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G_,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Fe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ax(t)),this._initializationPromise=this.queue(ra(aa().mark((function r(){var i,a;return aa().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Xx.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ra(aa().mark((function e(t){var n,r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return tx(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jx(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ba(t):null)&&tx(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ra(aa().mark((function e(t){var n=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&tx(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ra(aa().mark((function n(){return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ax(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Aa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return tx(n=t&&ax(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Xx.create(this,[ax(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ra(aa().mark((function e(t){var n=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return tx(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return tx(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dS(e){return Ba(e)}var pS=function(){function e(t){var n=this;oa(this,e),this.auth=t,this.observer=null,this.addObserver=Va((function(e){return n.observer=e}))}return Fe(e,[{key:"next",get:function(){return tx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function vS(e,t,n){var r=dS(e);tx(r._canInitEmulator,r,"emulator-config-failed"),tx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=mS(t),o=function(e){var t=mS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:yS(r.substr(a.length+1))}}var o=j(r.split(":"),2);return{host:o[0],port:yS(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function mS(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function yS(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var gS=function(){function e(t,n){oa(this,e),this.providerId=t,this.signInMethod=n}return Fe(e,[{key:"toJSON",value:function(){return nx("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return nx("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return nx("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return nx("not implemented")}}]),e}();function kS(e,t){return wS.apply(this,arguments)}function wS(){return wS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:resetPassword",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function bS(e,t){return _S.apply(this,arguments)}function _S(){return _S=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function xS(e,t){return SS.apply(this,arguments)}function SS(){return SS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:update",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),SS.apply(this,arguments)}function TS(e,t){return ES.apply(this,arguments)}function ES(){return ES=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kx(t,"POST","/v1/accounts:signInWithPassword",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function IS(e,t){return CS.apply(this,arguments)}function CS(){return CS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:sendOobCode",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function NS(e,t){return RS.apply(this,arguments)}function RS(){return RS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IS(t,n));case 1:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function AS(e,t){return OS.apply(this,arguments)}function OS(){return OS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IS(t,n));case 1:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function PS(e,t){return DS.apply(this,arguments)}function DS(){return DS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IS(t,n));case 1:case"end":return e.stop()}}),e)}))),DS.apply(this,arguments)}function MS(e,t){return LS.apply(this,arguments)}function LS(){return LS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",IS(t,n));case 1:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function US(e,t){return FS.apply(this,arguments)}function FS(){return FS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kx(t,"POST","/v1/accounts:signInWithEmailLink",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function jS(e,t){return VS.apply(this,arguments)}function VS(){return VS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kx(t,"POST","/v1/accounts:signInWithEmailLink",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}var zS=function(e){ua(n,e);var t=ha(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return oa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Fe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",TS(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",US(t,{email:this._email,oobCode:this._password}));case 5:$_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",bS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jS(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:$_(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(gS);function qS(e,t){return BS.apply(this,arguments)}function BS(){return BS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kx(t,"POST","/v1/accounts:signInWithIdp",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),BS.apply(this,arguments)}var WS=function(e){ua(n,e);var t=ha(n);function n(){var e;return oa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Fe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return qS(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qS(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qS(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ua(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$_("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=A_(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(gS);function HS(e,t){return YS.apply(this,arguments)}function YS(){return YS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:sendVerificationCode",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function GS(){return GS=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kx(t,"POST","/v1/accounts:signInWithPhoneNumber",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function KS(){return KS=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kx(t,"POST","/v1/accounts:signInWithPhoneNumber",px(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw xx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}var QS=i({},"USER_NOT_FOUND","user-not-found");function $S(){return $S=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",kx(t,"POST","/v1/accounts:signInWithPhoneNumber",px(t,r),QS));case 2:case"end":return e.stop()}}),e)}))),$S.apply(this,arguments)}var JS=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Fe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return GS.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return KS.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return $S.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(gS);var XS=function(){function e(t){var n,r,i,a,o,s;oa(this,e);var u=Fa(ja(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);tx(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Fe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Fa(ja(e)).link,n=t?Fa(ja(t)).deep_link_id:null,r=Fa(ja(e)).deep_link_id;return(r?Fa(ja(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ak){return null}}}]),e}();var ZS=function(){function e(){oa(this,e),this.providerId=e.PROVIDER_ID}return Fe(e,null,[{key:"credential",value:function(e,t){return zS._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=XS.parseLink(t);return tx(n,"argument-error"),zS._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ZS.PROVIDER_ID="password",ZS.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ZS.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var eT=function(){function e(t){oa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Fe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),tT=function(e){ua(n,e);var t=ha(n);function n(){var e;return oa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Fe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Un(this.scopes)}}]),n}(eT),nT=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return tx(e.idToken||e.accessToken,"argument-error"),WS._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return tx("providerId"in t&&"signInMethod"in t,"argument-error"),WS._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(tT),rT=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.call(this,"facebook.com")}return Fe(n,null,[{key:"credential",value:function(e){return WS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ak){return null}}}]),n}(tT);rT.FACEBOOK_SIGN_IN_METHOD="facebook.com",rT.PROVIDER_ID="facebook.com";var iT=function(e){ua(n,e);var t=ha(n);function n(){var e;return oa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Fe(n,null,[{key:"credential",value:function(e,t){return WS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ak){return null}}}]),n}(tT);iT.GOOGLE_SIGN_IN_METHOD="google.com",iT.PROVIDER_ID="google.com";var aT=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.call(this,"github.com")}return Fe(n,null,[{key:"credential",value:function(e){return WS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ak){return null}}}]),n}(tT);aT.GITHUB_SIGN_IN_METHOD="github.com",aT.PROVIDER_ID="github.com";var oT=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Fe(n,[{key:"_getIdTokenResponse",value:function(e){return qS(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,qS(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,qS(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(gS),sT=function(e){ua(n,e);var t=ha(n);function n(e){return oa(this,n),tx(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Fe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=oT.fromJSON(e);return tx(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return oT._create(r,n)}catch(i){return null}}}]),n}(eT),uT=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.call(this,"twitter.com")}return Fe(n,null,[{key:"credential",value:function(e,t){return WS._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ak){return null}}}]),n}(tT);function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kx(t,"POST","/v1/accounts:signUp",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}uT.TWITTER_SIGN_IN_METHOD="twitter.com",uT.PROVIDER_ID="twitter.com";var fT=function(){function e(t){oa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Fe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ra(aa().mark((function t(n,r,i){var a,o,s,u,c=arguments;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Kx._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=hT(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ra(aa().mark((function t(n,r,i){var a;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=hT(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function hT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function dT(){return dT=ra(aa().mark((function e(t){var n,r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dS(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new fT({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,cT(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,fT._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}var pT=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a){var o,s;return oa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ze(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Fe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ra);function vT(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw pT._fromErrorAndOperation(e,n,t,r);throw n}))}function mT(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function yT(e,t){return gT.apply(this,arguments)}function gT(){return gT=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ba(t),e.next=3,bT(!0,r,n);case 3:return e.t0=Ex,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=mT(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function kT(e,t){return wT.apply(this,arguments)}function wT(){return wT=ra(aa().mark((function e(t,n){var r,i,a=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Dx,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",fT._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function bT(e,t,n){return _T.apply(this,arguments)}function _T(){return(_T=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jx(n);case 2:i=mT(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",tx(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xT(e,t){return ST.apply(this,arguments)}function ST(){return ST=ra(aa().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Dx(t,vT(i,a,n,t),r);case 6:return tx((o=e.sent).idToken,i,"internal-error"),tx(s=Px(o.idToken),i,"internal-error"),u=s.sub,tx(t.uid===u,i,"user-mismatch"),e.abrupt("return",fT._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&$_(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ST.apply(this,arguments)}function TT(e,t){return ET.apply(this,arguments)}function ET(){return ET=ra(aa().mark((function e(t,n){var r,i,a,o,s=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,vT(t,i,n);case 4:return a=e.sent,e.next=7,fT._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function IT(e,t){return CT.apply(this,arguments)}function CT(){return CT=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",TT(dS(t),n));case 1:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function NT(e,t){return RT.apply(this,arguments)}function RT(){return(RT=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ba(t),e.next=3,bT(!1,r,n.providerId);case 3:return e.abrupt("return",kT(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e,t){return OT.apply(this,arguments)}function OT(){return(OT=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xT(Ba(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PT(e,t){return DT.apply(this,arguments)}function DT(){return DT=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kx(t,"POST","/v1/accounts:signInWithCustomToken",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}function MT(){return MT=ra(aa().mark((function e(t,n){var r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dS(t),e.next=3,PT(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,fT._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}var LT=function(){function e(t,n){oa(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Fe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?UT._fromServerResponse(e,t):$_(e,"internal-error")}}]),e}(),UT=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Fe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(LT);function FT(e,t,n){var r;tx((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),tx("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(tx(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(tx(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function jT(){return jT=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ba(t),a={requestType:"PASSWORD_RESET",email:n},r&&FT(i,a,r),e.next=5,AS(i,a);case 5:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function VT(){return VT=ra(aa().mark((function e(t,n,r){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kS(Ba(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function zT(){return zT=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xS(Ba(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),zT.apply(this,arguments)}function qT(e,t){return BT.apply(this,arguments)}function BT(){return BT=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ba(t),e.next=3,kS(r,{oobCode:n});case 3:i=e.sent,tx(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return tx(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:tx(i.mfaInfo,r,"internal-error");case 13:tx(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=LT._fromServerResponse(dS(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),BT.apply(this,arguments)}function WT(){return WT=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qT(Ba(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function HT(e,t,n){return YT.apply(this,arguments)}function YT(){return YT=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dS(t),e.next=3,cT(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,fT._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function GT(){return GT=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ba(t),a={requestType:"EMAIL_SIGNIN",email:n},tx(r.handleCodeInApp,i,"argument-error"),r&&FT(i,a,r),e.next=6,PS(i,a);case 6:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function KT(){return KT=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ba(t),tx((a=ZS.credentialWithLink(n,r||ox()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",IT(i,a));case 4:case"end":return e.stop()}}),e)}))),KT.apply(this,arguments)}function QT(e,t){return $T.apply(this,arguments)}function $T(){return $T=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:createAuthUri",px(t,n)));case 1:case"end":return e.stop()}}),e)}))),$T.apply(this,arguments)}function JT(){return JT=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sx()?ox():"http://localhost",i={identifier:n,continueUri:r},e.next=4,QT(Ba(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),JT.apply(this,arguments)}function XT(){return(XT=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ba(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&FT(r.auth,a,n),e.next=8,NS(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZT(){return(ZT=ra(aa().mark((function e(t,n,r){var i,a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ba(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&FT(i.auth,o,r),e.next=8,MS(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vx(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(){return(nE=ra(aa().mark((function e(t,n){var r,i,a,o,s,u,c;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ba(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Dx(a,eE(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rE(e,t,n){return iE.apply(this,arguments)}function iE(){return iE=ra(aa().mark((function e(t,n,r){var i,a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Dx(t,bS(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}var aE=Fe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};oa(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),oE=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a){var o;return oa(this,n),(o=t.call(this,e,r,i)).username=a,o}return Fe(n)}(aE),sE=function(e){ua(n,e);var t=ha(n);function n(e,r){return oa(this,n),t.call(this,e,"facebook.com",r)}return Fe(n)}(aE),uE=function(e){ua(n,e);var t=ha(n);function n(e,r){return oa(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Fe(n)}(oE),cE=function(e){ua(n,e);var t=ha(n);function n(e,r){return oa(this,n),t.call(this,e,"google.com",r)}return Fe(n)}(aE),lE=function(e){ua(n,e);var t=ha(n);function n(e,r,i){return oa(this,n),t.call(this,e,"twitter.com",r,i)}return Fe(n)}(oE);function fE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Px(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new aE(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new sE(a,i);case"github.com":return new uE(a,i);case"google.com":return new cE(a,i);case"twitter.com":return new lE(a,i,e.screenName||null);case"custom":case"anonymous":return new aE(a,null);default:return new aE(a,r,i)}}(n)}var hE=function(){function e(t,n){oa(this,e),this.type=t,this.credential=n}return Fe(e,[{key:"toJSON",value:function(){return{multiFactorSession:i({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),dE=function(){function e(t,n,r){oa(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Fe(e,[{key:"resolveSignIn",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=dS(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return LT._fromServerResponse(r,e)}));tx(i.mfaPendingCredential,r,"internal-error");var o=hE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ra(aa().mark((function e(t){var a,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,fT._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return tx(n.user,r,"internal-error"),e.abrupt("return",fT._forOperation(n.user,n.operationType,s));case 17:$_(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function pE(e,t){return vx(e,"POST","/v2/accounts/mfaEnrollment:start",px(e,t))}function vE(e,t){return vx(e,"POST","/v2/accounts/mfaEnrollment:withdraw",px(e,t))}var mE=function(){function e(t){var n=this;oa(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return LT._fromServerResponse(t.auth,e)})))}))}return Fe(e,[{key:"getSession",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=hE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ra(aa().mark((function e(t,n){var r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Dx(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ra(aa().mark((function e(t){var n,r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Dx(this.user,vE(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),yE=new WeakMap;var gE="__sak",kE=function(){function e(t,n){oa(this,e),this.storageRetriever=t,this.type=n}return Fe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(gE,"1"),this.storage.removeItem(gE),Promise.resolve(!0)):Promise.resolve(!1)}catch(ak){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var wE=function(e){ua(n,e);var t=ha(n);function n(){var e;return oa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=xa();return tS(e)||sS(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=lS(),e._shouldAllowMigration=!0,e}return Fe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);cS()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ra(aa().mark((function e(t,r){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(ca(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ra(aa().mark((function e(t){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(ca(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(ca(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(kE);wE.type="LOCAL";var bE=wE,_E=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Fe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(kE);_E.type="SESSION";var xE=_E;function SE(e){return Promise.all(e.map(function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var TE=function(){function e(t){oa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Fe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ra(aa().mark((function e(t){var n,r,i,a,o,s,u,c;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,SE(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function EE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}TE.receivers=[];var IE=function(){function e(t){oa(this,e),this.target=t,this.handlers=new Set}return Fe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ra(aa().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=EE("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function CE(){return window}function NE(){return"undefined"!==typeof CE().WorkerGlobalScope&&"function"===typeof CE().importScripts}function RE(){return AE.apply(this,arguments)}function AE(){return(AE=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function OE(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var PE="firebaseLocalStorageDb",DE="firebaseLocalStorage",ME="fbase_key",LE=function(){function e(t){oa(this,e),this.request=t}return Fe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function UE(e,t){return e.transaction([DE],t?"readwrite":"readonly").objectStore(DE)}function FE(){var e=indexedDB.deleteDatabase(PE);return new LE(e).toPromise()}function jE(){var e=indexedDB.open(PE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(DE,{keyPath:ME})}catch(r){n(r)}})),e.addEventListener("success",ra(aa().mark((function n(){var r;return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(DE)){n.next=12;break}return r.close(),n.next=5,FE();case 5:return n.t0=t,n.next=8,jE();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function VE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=ra(aa().mark((function e(t,n,r){var a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=UE(t,!0).put((i(a={},ME,n),i(a,"value",r),a)),e.abrupt("return",new LE(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function qE(e,t){return BE.apply(this,arguments)}function BE(){return BE=ra(aa().mark((function e(t,n){var r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=UE(t,!1).get(n),e.next=3,new LE(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function WE(e,t){var n=UE(e,!0).delete(t);return new LE(n).toPromise()}var HE=function(){function e(){oa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Fe(e,[{key:"_openDb",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,jE();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",NE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ra(aa().mark((function e(){var t=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=TE._getInstance(NE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ra(aa().mark((function e(n,r){var i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ra(aa().mark((function e(){var t,n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RE();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new IE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&OE()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,jE();case 5:return t=e.sent,e.next=8,VE(t,gE,"1");case 8:return e.next=10,WE(t,gE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ra(aa().mark((function e(t,n){var r=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return VE(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return qE(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ra(aa().mark((function e(t){var n=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return WE(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ra(aa().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=UE(e,!1).getAll();return new LE(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=sa(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ra(aa().mark((function t(){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();HE.type="LOCAL";var YE=HE;function GE(e,t){return vx(e,"POST","/v2/accounts/mfaSignIn:start",px(e,t))}function KE(e){return QE.apply(this,arguments)}function QE(){return QE=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vx(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function $E(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=J_("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function JE(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var XE=1e12,ZE=function(){function e(t){oa(this,e),this.auth=t,this.counter=XE,this._widgets=new Map}return Fe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new eI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||XE;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||XE;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||XE,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),eI=function(){function e(t,n,r){var i=this;oa(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;tx(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Fe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var tI=JE("rcb"),nI=new cx(3e4,6e4),rI="https://www.google.com/recaptcha/api.js?",iI=function(){function e(){oa(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!CE().grecaptcha}return Fe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return tx(aI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(CE().grecaptcha):new Promise((function(r,i){var a=CE().setTimeout((function(){i(J_(e,"network-request-failed"))}),nI.get());CE()[tI]=function(){CE().clearTimeout(a),delete CE()[tI];var o=CE().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(J_(e,"internal-error"))},$E("".concat(rI,"?").concat(Ua({onload:tI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(J_(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!CE().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function aI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var oI=function(){function e(){oa(this,e)}return Fe(e,[{key:"load",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ZE(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),sI="recaptcha",uI={theme:"light",type:"image"},cI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},uI),r=arguments.length>2?arguments[2]:void 0;oa(this,e),this.parameters=n,this.type=sI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dS(r),this.isInvisible="invisible"===this.parameters.size,tx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;tx(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new oI:new iI,this.validateStartingState()}return Fe(e,[{key:"verify",value:function(){var e=ra(aa().mark((function e(){var t,n,r,i=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){tx(!this.parameters.sitekey,this.auth,"argument-error"),tx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),tx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=CE()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){tx(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ra(aa().mark((function e(){var t,n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tx(sx()&&!NE(),this.auth,"internal-error"),e.next=3,lI();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,KE(this.auth);case 8:tx(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return tx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function lI(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var fI=function(){function e(t,n){oa(this,e),this.verificationId=t,this.onConfirmation=n}return Fe(e,[{key:"confirm",value:function(e){var t=JS._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function hI(){return hI=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dS(t),e.next=3,mI(i,n,Ba(r));case 3:return a=e.sent,e.abrupt("return",new fI(a,(function(e){return IT(i,e)})));case 5:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t,n){return pI.apply(this,arguments)}function pI(){return(pI=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ba(t),e.next=3,bT(!1,i,"phone");case 3:return e.next=5,mI(i.auth,n,Ba(r));case 5:return a=e.sent,e.abrupt("return",new fI(a,(function(e){return NT(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vI(){return(vI=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ba(t),e.next=3,mI(i.auth,n,Ba(r));case 3:return a=e.sent,e.abrupt("return",new fI(a,(function(e){return AT(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mI(e,t,n){return yI.apply(this,arguments)}function yI(){return yI=ra(aa().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,tx("string"===typeof a,t,"argument-error"),tx(r.type===sI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return tx("enroll"===s.type,t,"internal-error"),e.next=13,pE(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return tx("signin"===s.type,t,"internal-error"),tx(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,GE(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,HS(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),yI.apply(this,arguments)}function gI(){return(gI=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kT(Ba(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kI=function(){function e(t){oa(this,e),this.providerId=e.PROVIDER_ID,this.auth=dS(t)}return Fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return mI(this.auth,e,Ba(t))}}],[{key:"credential",value:function(e,t){return JS._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?JS._fromTokenResponse(n,r):null}}]),e}();function wI(e,t){return t?ax(t):(tx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}kI.PROVIDER_ID="phone",kI.PHONE_SIGN_IN_METHOD="phone";var bI=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Fe(n,[{key:"_getIdTokenResponse",value:function(e){return qS(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return qS(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return qS(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(gS);function _I(e){return TT(e.auth,new bI(e),e.bypassAuthState)}function xI(e){var t=e.auth,n=e.user;return tx(n,t,"internal-error"),xT(n,new bI(e),e.bypassAuthState)}function SI(e){return TI.apply(this,arguments)}function TI(){return TI=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,tx(r=t.user,n,"internal-error"),e.abrupt("return",kT(r,new bI(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),TI.apply(this,arguments)}var EI=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];oa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Fe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ra(aa().mark((function t(n,r){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ra(aa().mark((function e(t){var n,r,i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return SI;case"reauthViaPopup":case"reauthViaRedirect":return xI;default:$_(this.auth,"internal-error")}}},{key:"resolve",value:function(e){rx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){rx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),II=new cx(2e3,1e4);function CI(e,t,n){return NI.apply(this,arguments)}function NI(){return NI=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dS(t),Z_(t,n,eT),a=wI(i,r),o=new PI(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),NI.apply(this,arguments)}function RI(){return(RI=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z_((i=Ba(t)).auth,n,eT),a=wI(i.auth,r),o=new PI(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AI(e,t,n){return OI.apply(this,arguments)}function OI(){return(OI=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z_((i=Ba(t)).auth,n,eT),a=wI(i.auth,r),o=new PI(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var PI=function(e){ua(n,e);var t=ha(n);function n(e,r,i,a,o){var s;return oa(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ze(s),s}return Fe(n,[{key:"executeNotNull",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return tx(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ra(aa().mark((function e(){var t,n=this;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rx(1===this.filter.length,"Popup operations only handle one event"),t=EE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(J_(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(J_(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(J_(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,II.get())}()}}]),n}(EI);PI.currentPopupAction=null;var DI=new Map,MI=function(e){ua(n,e);var t=ha(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return oa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Fe(n,[{key:"execute",value:function(){var e=ra(aa().mark((function e(){var t,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=DI.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,LI(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,zo(ca(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:DI.set(this.auth._key(),t);case 21:return this.bypassAuthState||DI.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ra(aa().mark((function e(t){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",zo(ca(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",zo(ca(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(EI);function LI(e,t){return UI.apply(this,arguments)}function UI(){return UI=ra(aa().mark((function e(t,n){var r,i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zI(n),i=VI(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function FI(e,t){return jI.apply(this,arguments)}function jI(){return jI=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",VI(t)._set(zI(n),"true"));case 1:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function VI(e){return ax(e._redirectPersistence)}function zI(e){return Jx("pendingRedirect",e.config.apiKey,e.name)}function qI(e,t,n){return function(e,t,n){return BI.apply(this,arguments)}(e,t,n)}function BI(){return BI=ra(aa().mark((function e(t,n,r){var i,a;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dS(t),Z_(t,n,eT),a=wI(i,r),e.next=5,FI(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function WI(e,t,n){return function(e,t,n){return HI.apply(this,arguments)}(e,t,n)}function HI(){return(HI=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z_((i=Ba(t)).auth,n,eT),a=wI(i.auth,r),e.next=5,FI(a,i.auth);case 5:return e.next=7,XI(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YI(e,t,n){return function(e,t,n){return GI.apply(this,arguments)}(e,t,n)}function GI(){return(GI=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z_((i=Ba(t)).auth,n,eT),a=wI(i.auth,r),e.next=5,bT(!1,i,n.providerId);case 5:return e.next=7,FI(a,i.auth);case 7:return e.next=9,XI(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KI(e,t){return QI.apply(this,arguments)}function QI(){return QI=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dS(t)._initializationPromise;case 2:return e.abrupt("return",$I(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function $I(e,t){return JI.apply(this,arguments)}function JI(){return JI=ra(aa().mark((function e(t,n){var r,i,a,o,s,u=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=dS(t),a=wI(i,n),o=new MI(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),JI.apply(this,arguments)}function XI(e){return ZI.apply(this,arguments)}function ZI(){return(ZI=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=EE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var eC=function(){function e(t){oa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Fe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nC(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!nC(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(J_(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tC(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(tC(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function tC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function nC(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function rC(e){return iC.apply(this,arguments)}function iC(){return iC=ra(aa().mark((function e(t){var n,r=arguments;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",vx(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}var aC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oC=/^https?/;function sC(){return sC=ra(aa().mark((function e(t){var n,r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,rC(t);case 4:n=e.sent,r=n.authorizedDomains,i=sa(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!uC(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:$_(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),sC.apply(this,arguments)}function uC(e){var t=ox(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!oC.test(r))return!1;if(aC.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var cC=new cx(3e4,6e4);function lC(){var e=CE().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Un(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var fC=null;function hC(e){return fC=fC||function(e){return new Promise((function(t,n){var r,i,a;function o(){lC(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){lC(),n(J_(e,"network-request-failed"))},timeout:cC.get()})}if(null===(i=null===(r=CE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=CE().gapi)||void 0===a?void 0:a.load)){var s=JE("iframefcb");return CE()[s]=function(){gapi.load?o():n(J_(e,"network-request-failed"))},$E("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw fC=null,e}))}(e),fC}var dC=new cx(5e3,15e3),pC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mC(e){var t=e.config;tx(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?lx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:So},i=vC.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ua(r).slice(1))}function yC(e){return gC.apply(this,arguments)}function gC(){return gC=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hC(t);case 2:return n=e.sent,tx(r=CE().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:mC(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pC,dontclear:!0},(function(e){return new Promise(function(){var n=ra(aa().mark((function n(r,i){var a,o,s;return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){CE().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=J_(t,"network-request-failed"),o=CE().setTimeout((function(){i(a)}),dC.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}var kC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC="_blank",bC="http://localhost",_C=function(){function e(t){oa(this,e),this.window=t,this.associatedEvent=null}return Fe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function xC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},kC),{width:r.toString(),height:i.toString(),top:a,left:o}),c=xa().toLowerCase();n&&(s=nS(c)?wC:n),eS(c)&&(t=t||bC,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=j(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(uS(c)&&"_self"!==s)return SC(t||"",s),new _C(null);var f=window.open(t||"",s,l);tx(f,e,"popup-blocked");try{f.focus()}catch(h){}return new _C(f)}function SC(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var TC="__/auth/handler",EC="emulator/auth/handler";function IC(e,t,n,r,i,a){tx(e.config.authDomain,e,"auth-domain-config-required"),tx(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:So,eventId:i};if(t instanceof eT){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=j(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof tT){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(TC);return lx(t,EC)}(e),"?").concat(Ua(d).slice(1))}var CC="webStorageSupport",NC=function(){function e(){oa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xE,this._completeRedirectFn=$I}return Fe(e,[{key:"_openPopup",value:function(){var e=ra(aa().mark((function e(t,n,r,i){var a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rx(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=IC(t,n,r,ox(),i),e.abrupt("return",xC(t,o,EE()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ra(aa().mark((function e(t,n,r,i){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=IC(t,n,r,ox(),i),CE().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(rx(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yC(t);case 2:return n=e.sent,r=new eC(t),n.register("authEvent",(function(e){return tx(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(CC,{type:CC},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),$_(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return sC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return lS()||tS()||sS()}}]),e}(),RC=NC,AC=function(){function e(t){oa(this,e),this.factorId=t}return Fe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return nx("unexpected MultiFactorSessionType")}}}]),e}(),OC=function(e){ua(n,e);var t=ha(n);function n(e){var r;return oa(this,n),(r=t.call(this,"phone")).credential=e,r}return Fe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return vx(e,"POST","/v2/accounts/mfaEnrollment:finalize",px(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return vx(e,"POST","/v2/accounts/mfaSignIn:finalize",px(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(AC),PC=function(){function e(){oa(this,e)}return Fe(e,null,[{key:"assertion",value:function(e){return OC._fromCredential(e)}}]),e}();PC.FACTOR_ID="phone";var DC,MC="@firebase/auth",LC="0.19.4",UC=function(){function e(t){oa(this,e),this.auth=t,this.internalListeners=new Map}return Fe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){tx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function FC(){return window}DC="Browser",vo(new Wa("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){tx(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),tx(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:DC,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(DC)},r=new hS(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ax);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),vo(new Wa("auth-internal",(function(e){return function(e){return new UC(e)}(dS(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ro(MC,LC,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(DC)),Ro(MC,LC,"esm2017");function jC(e,t,n){return VC.apply(this,arguments)}function VC(){return VC=ra(aa().mark((function e(t,n,r){var i,a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=FC(),o=a.BuildInfo,rx(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,YC(n.sessionId);case 4:return s=e.sent,u={},sS()?u.ibi=o.packageName:iS()?u.apn=o.packageName:$_(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",IC(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function zC(){return zC=ra(aa().mark((function e(t){var n,r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=FC(),r=n.BuildInfo,i={},sS()?i.iosBundleId=r.packageName:iS()?i.androidPackageName=r.packageName:$_(t,"operation-not-supported-in-this-environment"),e.next=5,rC(t,i);case 5:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function qC(e){var t=FC().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function BC(e,t,n){return WC.apply(this,arguments)}function WC(){return WC=ra(aa().mark((function e(t,n,r){var i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=FC(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(J_(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),iS()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),WC.apply(this,arguments)}function HC(e){var t,n,r,i,a,o,s,u,c,l,f=FC();tx("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),tx("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),tx("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tx("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),tx("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function YC(e){return GC.apply(this,arguments)}function GC(){return(GC=ra(aa().mark((function e(t){var n,r,i;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=KC(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KC(e){if(rx(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var QC=function(e){ua(n,e);var t=ha(n);function n(){var e;return oa(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Fe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),zo(ca(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(eC);function $C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:tN(),postBody:null,tenantId:e.tenantId,error:J_(e,"no-auth-event")}}function JC(e,t){return nN()._set(rN(e),t)}function XC(e){return ZC.apply(this,arguments)}function ZC(){return ZC=ra(aa().mark((function e(t){var n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nN()._get(rN(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,nN()._remove(rN(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),ZC.apply(this,arguments)}function eN(e,t){var n,r,i=function(e){var t=iN(e),n=t.link?decodeURIComponent(t.link):void 0,r=iN(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return iN(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=iN(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?J_(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function tN(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function nN(){return ax(bE)}function rN(e){return Jx("authEvent",e.config.apiKey,e.name)}function iN(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=M(t=n)||Ln(t)||U(t)||F();r[0];return Fa(r.slice(1).join("?"))}var aN=function(){function e(){oa(this,e),this._redirectPersistence=xE,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$I}return Fe(e,[{key:"_initialize",value:function(){var e=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new QC(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){$_(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ra(aa().mark((function e(t,n,r,i){var a,o,s,u;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HC(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),DI.clear(),e.next=10,this._originValidation(t);case 10:return o=$C(t,r,i),e.next=13,JC(t,o);case 13:return e.next=15,jC(t,o,n);case 15:return s=e.sent,e.next=18,qC(s);case 18:return u=e.sent,e.abrupt("return",BC(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return zC.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=FC(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ra(aa().mark((function n(){return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,XC(e);case 2:t.onEvent(sN());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=ra(aa().mark((function n(r){var i,a;return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,XC(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=eN(i,r.url)),t.onEvent(a||sN());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");FC().handleOpenURL=function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),oN=aN;function sN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:J_("no-auth-event")}}function uN(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function cN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return!("file:"!==uN()&&"ionic:"!==uN()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function lN(){return Ca()&&11===(null===document||void 0===document?void 0:document.documentMode)}function fN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return/Edge\/\d+/.test(e)}function hN(){try{var e=self.localStorage,t=EE();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa();return lN()||fN(e)}()||Na()}catch(n){return dN()&&Na()}return!1}function dN(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function pN(){return("http:"===uN()||"https:"===uN()||Ea()||cN())&&!(Ia()||Ta())&&hN()&&!dN()}function vN(){return cN()&&"undefined"!==typeof document}function mN(){return yN.apply(this,arguments)}function yN(){return(yN=ra(aa().mark((function e(){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vN()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gN={LOCAL:"local",NONE:"none",SESSION:"session"},kN=tx,wN="persistence";function bN(e,t){kN(Object.values(gN).includes(t),e,"invalid-persistence-type"),Ia()?kN(t!==gN.SESSION,e,"unsupported-persistence-type"):Ta()?kN(t===gN.NONE,e,"unsupported-persistence-type"):dN()?kN(t===gN.NONE||t===gN.LOCAL&&Na(),e,"unsupported-persistence-type"):kN(t===gN.NONE||hN(),e,"unsupported-persistence-type")}function _N(e){return xN.apply(this,arguments)}function xN(){return xN=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=SN(),r=Jx(wN,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function SN(){return"undefined"!==typeof window?window:null}var TN=tx,EN=function(){function e(){oa(this,e),this.browserResolver=ax(RC),this.cordovaResolver=ax(oN),this.underlyingResolver=null,this._redirectPersistence=xE,this._completeRedirectFn=$I}return Fe(e,[{key:"_initialize",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ra(aa().mark((function e(t,n,r,i){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ra(aa().mark((function e(t,n,r,i){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return vN()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return TN(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,mN();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function IN(e){return e.unwrap()}function CN(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new PN(e,function(e,t){var n,r=Ba(e),i=t;return tx(t.customData.operationType,r,"argument-error"),tx(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),dE._fromError(r,i)}(e,t));else if(r){var i=NN(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function NN(e){var t=(e instanceof Ra?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ra)&&"temporaryProof"in t&&"phoneNumber"in t)return kI.credentialFromResult(e);var n,r=t.providerId;if(!r||r===L_)return null;switch(r){case M_:n=iT;break;case P_:n=rT;break;case D_:n=aT;break;case U_:n=uT;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?oT._create(r,s):WS._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new nT(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ra?n.credentialFromError(e):n.credentialFromResult(e)}function RN(e,t){return t.catch((function(t){throw t instanceof Ra&&CN(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,NN(t)),additionalUserInfo:fE(e),user:DN.getOrCreate(r)}}))}function AN(e,t){return ON.apply(this,arguments)}function ON(){return ON=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return RN(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}var PN=function(){function e(t,n){oa(this,e),this.resolver=n,this.auth=t.wrapped()}return Fe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return RN(IN(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),DN=function(){function e(t){oa(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ba(e);return yE.has(t)||yE.set(t,mE._fromUser(t)),yE.get(t)}(t)}return Fe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RN(this.auth,NT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AN(this.auth,dI(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RN(this.auth,AI(this._delegate,t,EN)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_N(dS(this.auth));case 2:return e.abrupt("return",YI(this._delegate,t,EN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RN(this.auth,AT(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return AN(this.auth,function(e,t,n){return vI.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return RN(this.auth,function(e,t,n){return RI.apply(this,arguments)}(this._delegate,e,EN))}},{key:"reauthenticateWithRedirect",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_N(dS(this.auth));case 2:return e.abrupt("return",WI(this._delegate,t,EN));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return XT.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yT(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return rE(Ba(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return rE(Ba(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return gI.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return nE.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ZT.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();DN.USER_MAP=new WeakMap;var MN=tx,LN=function(){function e(t,n){if(oa(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;MN(r,"invalid-api-key",{appName:t.name});var i=[$x];if("undefined"!==typeof window){i=function(e,t){var n=SN();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=Jx(wN,e,t);switch(n.sessionStorage.getItem(r)){case gN.NONE:return[$x];case gN.LOCAL:return[YE,xE];case gN.SESSION:return[xE];default:return[]}}(r,t.name);for(var a=0,o=[YE,bE,xE];a<o.length;a++){var s=o[a];i.includes(s)||i.push(s)}}MN(r,"invalid-api-key",{appName:t.name});var u="undefined"!==typeof window?EN:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:u}}),this._delegate._updateErrorMap(H_),this.linkUnderlyingAuth()}return Fe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?DN.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){vS(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return zT.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return qT(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return VT.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",RN(this._delegate,HT(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return JT.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=XS.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ra(aa().mark((function e(){var t;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MN(pN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,KI(this._delegate,EN);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",RN(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){dS(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=UN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=UN(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return GT.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return jT.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ra(aa().mark((function e(t){var n,r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bN(this._delegate,t),e.t0=t,e.next=e.t0===gN.SESSION?4:e.t0===gN.LOCAL?6:e.t0===gN.NONE?11:13;break;case 4:return n=xE,e.abrupt("break",14);case 6:return e.next=8,ax(YE)._isAvailable();case 8:return r=e.sent,n=r?YE:bE,e.abrupt("break",14);case 11:return n=$x,e.abrupt("break",14);case 13:return e.abrupt("return",$_("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return RN(this._delegate,function(e){return dT.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return RN(this._delegate,IT(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return RN(this._delegate,function(e,t){return MT.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return RN(this._delegate,function(e,t,n){return IT(Ba(e),ZS.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return RN(this._delegate,function(e,t,n){return KT.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return AN(this._delegate,function(e,t,n){return hI.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MN(pN(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",RN(this._delegate,CI(this._delegate,t,EN)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ra(aa().mark((function e(t){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return MN(pN(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,_N(this._delegate);case 3:return e.abrupt("return",qI(this._delegate,t,EN));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return WT.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function UN(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&DN.getOrCreate(e))},error:t,complete:n}}LN.Persistence=gN;var FN=function(){function e(){oa(this,e),this.providerId="phone",this._delegate=new kI(IN(jo.auth()))}return Fe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return kI.credential(e,t)}}]),e}();FN.PHONE_SIGN_IN_METHOD=kI.PHONE_SIGN_IN_METHOD,FN.PROVIDER_ID=kI.PROVIDER_ID;var jN=tx,VN=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jo.app();oa(this,e),jN(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new cI(t,n,i.auth()),this.type=this._delegate.type}return Fe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Wa("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new LN(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F_,PASSWORD_RESET:j_,RECOVER_EMAIL:V_,REVERT_SECOND_FACTOR_ADDITION:z_,VERIFY_AND_CHANGE_EMAIL:q_,VERIFY_EMAIL:B_}},EmailAuthProvider:ZS,FacebookAuthProvider:rT,GithubAuthProvider:aT,GoogleAuthProvider:iT,OAuthProvider:nT,SAMLAuthProvider:sT,PhoneAuthProvider:FN,PhoneMultiFactorGenerator:PC,RecaptchaVerifier:VN,TwitterAuthProvider:uT,Auth:LN,AuthCredential:gS,Error:Ra}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.4")}(jo);var zN="firebasestorage.googleapis.com",qN=function(e){ua(n,e);var t=ha(n);function n(e,r){var i;return oa(this,n),(i=t.call(this,BN(e),"Firebase Storage: ".concat(r," (").concat(BN(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ze(i),n.prototype),i}return Fe(n,[{key:"_codeEquals",value:function(e){return BN(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ra);function BN(e){return"storage/"+e}function WN(){return new qN("unknown","An unknown error occurred, please check the error payload for server response.")}function HN(){return new qN("canceled","User canceled the upload/download.")}function YN(){return new qN("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function GN(e){return new qN("invalid-argument",e)}function KN(){return new qN("app-deleted","The Firebase app was deleted.")}function QN(e){return new qN("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $N(e,t){return new qN("invalid-format","String does not match format '"+e+"': "+t)}function JN(e){throw new qN("internal-error","Internal error: "+e)}var XN,ZN=function(){function e(t,n){oa(this,e),this.bucket=t,this.path_=n}return Fe(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new qN("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===zN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new qN("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),eR=function(){function e(t){oa(this,e),this.promise_=Promise.reject(t)}return Fe(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function tR(e){return"string"===typeof e||e instanceof String}function nR(e){return rR()&&e instanceof Blob}function rR(){return"undefined"!==typeof Blob}function iR(e,t,n,r){if(r<t)throw GN("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw GN("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function aR(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function oR(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(XN||(XN={}));var sR=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;oa(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Fe(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=WN();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?KN():HN());else i(new qN("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new uR(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new uR(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===XN.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new uR(o,r))}else{var s=r.getErrorCode()===XN.ABORT;t(!1,new uR(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),uR=Fe((function e(t,n,r){oa(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function cR(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function lR(){for(var e=cR(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(rR())return new Blob(n);throw new qN("unsupported-environment","This browser doesn't seem to support creating Blobs")}var fR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hR=Fe((function e(t,n){oa(this,e),this.data=t,this.contentType=n||null}));function dR(e,t){switch(e){case fR.RAW:return new hR(pR(t));case fR.BASE64:case fR.BASE64URL:return new hR(vR(e,t));case fR.DATA_URL:return new hR(function(e){var t=new mR(e);return t.base64?vR(fR.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw $N(fR.DATA_URL,"Malformed data URL.")}return pR(t)}(t.rest)}(t),new mR(t).contentType)}throw WN()}function pR(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vR(e,t){switch(e){case fR.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw $N(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case fR.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw $N(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw $N(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var mR=Fe((function e(t){oa(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw $N(fR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var yR=function(){function e(t,n){oa(this,e);var r=0,i="";nR(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Fe(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(nR(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(rR()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(lR.apply(null,i))}var a=n.map((function(e){return tR(e)?dR(fR.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function gR(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function kR(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function wR(e,t){return t}var bR=Fe((function e(t,n,r,i){oa(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||wR})),_R=null;function xR(){if(_R)return _R;var e=[];e.push(new bR("bucket")),e.push(new bR("generation")),e.push(new bR("metageneration")),e.push(new bR("name","fullPath",!0));var t=new bR("name");t.xform=function(e,t){return function(e){return!tR(e)||e.length<2?e:kR(e)}(t)},e.push(t);var n=new bR("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new bR("timeCreated")),e.push(new bR("updated")),e.push(new bR("md5Hash",null,!0)),e.push(new bR("cacheControl",null,!0)),e.push(new bR("contentDisposition",null,!0)),e.push(new bR("contentEncoding",null,!0)),e.push(new bR("contentLanguage",null,!0)),e.push(new bR("contentType",null,!0)),e.push(new bR("metadata","customMetadata",!0)),_R=e}function SR(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ZN(n,r);return t._makeStorageReference(i)}})}(r,e),r}function TR(e,t,n){var r=gR(t);return null===r?null:SR(e,r,n)}function ER(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function IR(e,t,n){var r=gR(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=sa(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new ZN(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=sa(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new ZN(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var CR=Fe((function e(t,n,r,i){oa(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function NR(e){if(!e)throw WN()}function RR(e,t){return function(n,r){var i=TR(e,r,t);return NR(null!==i),i}}function AR(e,t){return function(n,r){var i=TR(e,r,t);return NR(null!==i),function(e,t,n,r){var i=gR(t);if(null===i)return null;if(!tR(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return aR("/b/"+o(i)+"/o/"+o(a),n,r)+oR({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function OR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new qN("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new qN("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new qN("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new qN("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function PR(e){var t=OR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new qN("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function DR(e,t,n){var r=aR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new CR(r,"GET",RR(e,n),i);return a.errorHandler=PR(t),a}function MR(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=aR(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new CR(o,"GET",function(e,t){return function(n,r){var i=IR(e,t,r);return NR(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=OR(t),u}function LR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function UR(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=LR(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ER(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=yR.getBlob(c,r,l);if(null===f)throw YN();var h={name:u.fullPath},d=aR(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new CR(d,"POST",RR(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=OR(t),v}var FR=Fe((function e(t,n,r,i){oa(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function jR(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){NR(!1)}return NR(!!n&&-1!==(t||["active"]).indexOf(n)),n}var VR=262144;function zR(e,t,n,r,i,a,o,s){var u=new FR(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new qN("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw YN();var v=t.maxUploadRetryTime,m=new CR(n,"POST",(function(e,n){var i,o=jR(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?RR(t,a)(e,n):null,new FR(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=OR(e),m}var qR={STATE_CHANGED:"state_changed"},BR={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function WR(e){switch(e){case"running":case"pausing":case"canceling":return BR.RUNNING;case"paused":return BR.PAUSED;case"success":return BR.SUCCESS;case"canceled":return BR.CANCELED;default:return BR.ERROR}}var HR=Fe((function e(t,n,r){oa(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function YR(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var GR=function(){function e(){var t=this;oa(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=XN.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=XN.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=XN.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Fe(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw JN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw JN("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw JN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw JN("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw JN("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),KR=function(e){ua(n,e);var t=ha(n);function n(){return oa(this,n),t.apply(this,arguments)}return Fe(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(GR);function QR(){return new KR}var $R=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;oa(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=xR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Fe(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=j(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=LR(t,r,i),s={name:o.fullPath},u=aR(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=ER(o,n),f=e.maxUploadRetryTime,h=new CR(u,"POST",(function(e){var t;jR(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){NR(!1)}return NR(tR(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=OR(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,QR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new CR(n,"POST",(function(e){var t=jR(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){NR(!1)}n||NR(!1);var i=Number(n);return NR(!isNaN(i)),new FR(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=OR(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,QR,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=VR*this._chunkMultiplier,n=new FR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=zR(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,QR,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){VR*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=DR(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,QR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=UR(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,QR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=HN(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=WR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new HR(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(WR(this._state)){case BR.SUCCESS:YR(this._resolve.bind(null,this.snapshot))();break;case BR.CANCELED:case BR.ERROR:YR(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(WR(this._state)){case BR.RUNNING:case BR.PAUSED:e.next&&YR(e.next.bind(e,this.snapshot))();break;case BR.SUCCESS:e.complete&&YR(e.complete.bind(e))();break;default:e.error&&YR(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),JR=function(){function e(t,n){oa(this,e),this._service=t,this._location=n instanceof ZN?n:ZN.makeFromUrl(n,t.host)}return Fe(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new ZN(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return kR(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ZN(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw QN(e)}}]),e}();function XR(e,t,n){e._throwIfRoot("uploadBytes");var r=UR(e.storage,e._location,xR(),new yR(t,!0),n);return e.storage.makeRequestWithTokens(r,QR).then((function(t){return{metadata:t,ref:e}}))}function ZR(e,t,n){return eA.apply(this,arguments)}function eA(){return(eA=ra(aa().mark((function e(t,n,r){var i,a,o,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,tA(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Un(s.prefixes)),(a=n.items).push.apply(a,Un(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,ZR(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tA(e,t){null!=t&&"number"===typeof t.maxResults&&iR("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=MR(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,QR)}function nA(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=aR(t.fullServerUrl(),e.host,e._protocol),a=ER(n,r),o=e.maxOperationRetryTime,s=new CR(i,"PATCH",RR(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=PR(t),s}(e.storage,e._location,t,xR());return e.storage.makeRequestWithTokens(n,QR)}function rA(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=aR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new CR(r,"GET",AR(e,n),i);return a.errorHandler=PR(t),a}(e.storage,e._location,xR());return e.storage.makeRequestWithTokens(t,QR).then((function(e){if(null===e)throw new qN("no-download-url","The given file does not have any download URLs.");return e}))}function iA(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=aR(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new CR(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=PR(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,QR)}function aA(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ZN(e._location.bucket,n);return new JR(e.storage,r)}function oA(e,t){if(e instanceof lA){var n=e;if(null==n._bucket)throw new qN("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new JR(n,n._bucket);return null!=t?oA(r,t):r}return void 0!==t?aA(e,t):e}function sA(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof lA)return new JR(e,t);throw GN("To use ref(service, url), the first argument must be a Storage instance.")}return oA(e,t)}function uA(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:ZN.makeFromBucketSpec(n,e)}function cA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:_a(i,e.app.options.projectId))}var lA=function(){function e(t,n,r,i,a){oa(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=zN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ZN.makeFromBucketSpec(i,this._host):uA(this._host,this.app.options)}return Fe(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ZN.makeFromBucketSpec(this._url,e):this._bucket=uA(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){iR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){iR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ra(aa().mark((function e(){var t,n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ra(aa().mark((function e(){var t,n;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new JR(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new eR(KN());var a=function(e,t,n,r,i,a){var o=oR(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new sR(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ra(aa().mark((function e(t,n){var r,i,a,o;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=j(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),fA="@firebase/storage",hA="0.9.0",dA="storage";function pA(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new $R(e,new yR(t),n)}(e=Ba(e),t,n)}function vA(e){return function(e){e._throwIfRoot("getMetadata");var t=DR(e.storage,e._location,xR());return e.storage.makeRequestWithTokens(t,QR)}(e=Ba(e))}function mA(e){return function(e){var t={prefixes:[],items:[]};return ZR(e,t).then((function(){return t}))}(e=Ba(e))}function yA(e){return rA(e=Ba(e))}function gA(e,t){return sA(e=Ba(e),t)}function kA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Eo(),t=arguments.length>1?arguments[1]:void 0,n=mo(e=Ba(e),dA),r=n.getImmediate({identifier:t});return r}function wA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};cA(e,t,n,r)}function bA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new lA(r,i,a,n,So)}vo(new Wa(dA,bA,"PUBLIC").setMultipleInstances(!0)),Ro(fA,hA,""),Ro(fA,hA,"esm2017");var _A=function(){function e(t,n,r){oa(this,e),this._delegate=t,this.task=n,this.ref=r}return Fe(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),xA=function(){function e(t,n){oa(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Fe(e,[{key:"snapshot",get:function(){return new _A(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new _A(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new _A(e,i,i._ref))}:{next:t.next?function(e){return t.next(new _A(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),SA=function(){function e(t,n){oa(this,e),this._delegate=t,this._service=n}return Fe(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new TA(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new TA(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),TA=function(){function e(t,n){oa(this,e),this._delegate=t,this.storage=n}return Fe(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return aA(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new xA(pA(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fR.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=dR(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new xA(new $R(this._delegate,new yR(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return mA(this._delegate).then((function(t){return new SA(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return tA(e=Ba(e),t)}(this._delegate,e||void 0).then((function(e){return new SA(e,t.storage)}))}},{key:"getMetadata",value:function(){return vA(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return nA(e=Ba(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return yA(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),iA(Ba(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw QN(e)}}]),e}(),EA=function(){function e(t,n){oa(this,e),this.app=t,this._delegate=n}return Fe(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(IA(e))throw GN("ref() expected a child path but got a URL, use refFromURL instead.");return new TA(gA(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!IA(e))throw GN("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ZN.makeFromUrl(e,this._delegate.host)}catch(t){throw GN("refFromUrl() expected a valid full URL but got an invalid one.")}return new TA(gA(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};wA(this._delegate,e,t,n)}}]),e}();function IA(e){return/^[A-Za-z]+:\/\//.test(e)}function CA(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new EA(r,i)}!function(e){var t={TaskState:BR,TaskEvent:qR,StringFormat:fR,Storage:EA,Reference:TA};e.INTERNAL.registerComponent(new Wa("storage-compat",CA,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.8")}(jo);var NA=jo.initializeApp({apiKey:"AIzaSyBWLw4P9wqtcejvwQwiFTXkPxZrWXsXeNU",authDomain:"twitter-85307.firebaseapp.com",projectId:"twitter-85307",storageBucket:"twitter-85307.appspot.com",messagingSenderId:"709386510644",appId:"1:709386510644:web:c8f1d5c7398d1f1838c561"}),RA=NA.auth(),AA=NA.firestore(),OA=(NA.storage(),function(e,t){return function(){var n=ra(aa().mark((function n(r,i){var a;return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,RA.signInWithEmailAndPassword(e.email,e.password);case 3:a=n.sent,r({type:"SIGN_IN",data:a.user}),i().auth.error=null,t("/"),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),i().auth.error="Invalid Credentials",t("/login");case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()}),PA=function(e,t){return function(){var n=ra(aa().mark((function n(r,i){var a,o;return aa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,RA.createUserWithEmailAndPassword(e.email,e.password);case 3:return a=n.sent,o=a.user,n.next=7,AA.collection("users").add({uid:o.uid,name:e.username,email:e.email,photoURL:"https://firebasestorage.googleapis.com/v0/b/twitter-85307.appspot.com/o/profileImages%2FPngItem_1468479.png?alt=media&token=8e4a002a-432f-43b6-a663-ed29cc5bd5a2",followers:[],following:[]});case 7:i().user.push({uid:o.uid,name:e.username,email:e.email,photoURL:"https://firebasestorage.googleapis.com/v0/b/twitter-85307.appspot.com/o/profileImages%2FPngItem_1468479.png?alt=media&token=8e4a002a-432f-43b6-a663-ed29cc5bd5a2",followers:[],following:[]}),r({type:"SIGN_UP",data:o}),i().auth.error=null,t("/"),n.next=18;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0),i().auth.error="Sign Up Failed! Try Again",t("/signup");case 18:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,t){return n.apply(this,arguments)}}()},DA=function(e,t){return function(){var t=ra(aa().mark((function t(n,r){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"SET_USER",data:e})}catch(r){console.log(r)}case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},MA=function(){return function(){var e=ra(aa().mark((function e(t,n){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CLEAR_ERROR"})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},LA=n(184),UA=function(){var e=I(),n=oe(),r=A((function(e){return e.auth.error})),a=j((0,t.useState)({username:"",email:"",password:""}),2),s=a[0],u=a[1],c=function(){var t=ra(aa().mark((function t(r){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),e(PA(s,n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(t){r&&e(MA()),u(o(o({},s),{},i({},t.target.name,t.target.value)))};return(0,t.useEffect)((function(){e(MA())}),[]),(0,LA.jsx)("div",{className:"signup",children:(0,LA.jsxs)("form",{onSubmit:c,children:[(0,LA.jsx)("h3",{children:"Sign up"}),r&&(0,LA.jsx)("p",{className:"error-line",children:r}),(0,LA.jsx)("label",{children:"Username"}),(0,LA.jsx)("input",{autoComplete:"off",required:!0,type:"text",value:s.username,name:"username",placeholder:"Username",onChange:l,spellCheck:"false"}),(0,LA.jsx)("label",{children:"Email"}),(0,LA.jsx)("input",{autoComplete:"off",required:!0,type:"email",value:s.email,name:"email",placeholder:"Email",onChange:l,spellCheck:"false"}),(0,LA.jsx)("label",{children:"Password"}),(0,LA.jsx)("input",{autoComplete:"off",required:!0,type:"password",value:s.password,name:"password",placeholder:"Password",onChange:l,spellCheck:"false"}),(0,LA.jsx)("button",{type:"submit",children:"Sign up"}),(0,LA.jsxs)("p",{className:"links",children:["Already Have An Account? ",(0,LA.jsx)(Ne,{to:"/login",children:"Click Here"})]})]})})},FA=function(){var e=oe(),n=I(),r=A((function(e){return e.auth.error})),a=j((0,t.useState)({email:"",password:""}),2),s=a[0],u=a[1],c=function(){var t=ra(aa().mark((function t(r){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),n(OA(s,e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(e){r&&n(MA()),u(o(o({},s),{},i({},e.target.name,e.target.value)))};return(0,t.useEffect)((function(){n(MA())}),[]),(0,LA.jsx)("div",{className:"login",children:(0,LA.jsxs)("form",{onSubmit:c,children:[(0,LA.jsx)("h3",{children:"Login"}),r&&(0,LA.jsx)("p",{className:"error-line",children:r}),(0,LA.jsx)("label",{children:"Email"}),(0,LA.jsx)("input",{autoComplete:"off",required:!0,type:"email",value:s.email,name:"email",placeholder:"Email",onChange:l,spellCheck:"false"}),(0,LA.jsx)("label",{children:"Password"}),(0,LA.jsx)("input",{autoComplete:"off",required:!0,type:"password",value:s.password,name:"password",placeholder:"Password",onChange:l,spellCheck:"false"}),(0,LA.jsx)("button",{type:"submit",children:"Login"}),(0,LA.jsxs)("p",{className:"links",children:["Don't Have An Account? ",(0,LA.jsx)(Ne,{to:"/signup",children:"Click Here"})]})]})})},jA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VA=t.createContext&&t.createContext(jA),zA=function(){return zA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zA.apply(this,arguments)},qA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function BA(e){return e&&e.map((function(e,n){return t.createElement(e.tag,zA({key:n},e.attr),BA(e.child))}))}function WA(e){return function(n){return t.createElement(HA,zA({attr:zA({},e.attr)},n),BA(e.child))}}function HA(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=qA(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",zA({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:zA(zA({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==VA?t.createElement(VA.Consumer,null,(function(e){return n(e)})):n(jA)}function YA(e){return WA({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]})(e)}function GA(e){return WA({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M3 3H9V5H6.46173L11.3047 9.84298L9.8905 11.2572L5 6.3667V9H3V3Z",fill:"currentColor"}},{tag:"path",attr:{d:"M3 21H9V19H6.3764L11.3046 14.0718L9.89038 12.6576L5 17.548V15H3V21Z",fill:"currentColor"}},{tag:"path",attr:{d:"M15 21H21V15H19V17.5244L14.1332 12.6576L12.719 14.0718L17.6472 19H15V21Z",fill:"currentColor"}},{tag:"path",attr:{d:"M21 3H15V5H17.5619L12.7189 9.84301L14.1331 11.2572L19 6.39032V9H21V3Z",fill:"currentColor"}}]})(e)}function KA(e){return WA({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 4V2h10v2h5v2h-2v15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V6H2V4h5zM6 6v14h12V6H6zm3 3h2v8H9V9zm4 0h2v8h-2V9z"}}]}]})(e)}function QA(e){return WA({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M2 9h3v12H2a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1zm5.293-1.293l6.4-6.4a.5.5 0 0 1 .654-.047l.853.64a1.5 1.5 0 0 1 .553 1.57L14.6 8H21a2 2 0 0 1 2 2v2.104a2 2 0 0 1-.15.762l-3.095 7.515a1 1 0 0 1-.925.619H8a1 1 0 0 1-1-1V8.414a1 1 0 0 1 .293-.707z"}}]}]})(e)}function $A(e){return WA({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14.6 8H21a2 2 0 0 1 2 2v2.104a2 2 0 0 1-.15.762l-3.095 7.515a1 1 0 0 1-.925.619H2a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1h3.482a1 1 0 0 0 .817-.423L11.752.85a.5.5 0 0 1 .632-.159l1.814.907a2.5 2.5 0 0 1 1.305 2.853L14.6 8zM7 10.588V19h11.16L21 12.104V10h-6.4a2 2 0 0 1-1.938-2.493l.903-3.548a.5.5 0 0 0-.261-.571l-.661-.33-4.71 6.672c-.25.354-.57.644-.933.858zM5 11H3v8h2v-8z"}}]}]})(e)}function JA(e){return WA({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18z"}}]})(e)}function XA(e){return WA({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19.35 10.04A7.49 7.49 0 0012 4C9.11 4 6.6 5.64 5.35 8.04A5.994 5.994 0 000 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}}]})(e)}var ZA=n(426),eO=n.n(ZA),tO=(n(950),function(e){var t=e.setOpenModal,n=e.deleteId,r=e.setDeleteId,i=I();return(0,LA.jsx)("div",{className:"modal-window",children:(0,LA.jsxs)("div",{className:"modal-container",children:[(0,LA.jsx)("p",{children:"Are you sure you want to delete this tweet??"}),(0,LA.jsxs)("div",{className:"modal-btn-div",children:[(0,LA.jsx)("button",{className:"modal-btn",onClick:function(){var e;i((e=n,function(){var t=ra(aa().mark((function t(n,r){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,AA.collection("Tweets").doc(e).delete();case 3:n({type:"DELETE_TWEETS",data:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}())),r(null),t(!1)},children:"YES"}),(0,LA.jsx)("button",{className:"modal-btn",onClick:function(){return t(!1)},children:"NO"})]})]})})}),nO=function(e){var n,r=e.tweet,i=I(),a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(null===r||void 0===r?void 0:r.createdAt),o=null===r||void 0===r?void 0:r.createdAt;a=eO()(o).format("MMM Do YYYY, h:mm:ss a");var s=A((function(e){return e.auth.userInfo})),u=A((function(e){return e.user.find((function(e){return(null===e||void 0===e?void 0:e.uid)===(null===r||void 0===r?void 0:r.uid)}))})),c=j((0,t.useState)(!1),2),l=c[0],f=c[1],h=j((0,t.useState)(null),2),d=h[0],p=h[1],v=function(){return null!==r&&void 0!==r&&r.likes.find((function(e){return e===(null===s||void 0===s?void 0:s.uid)}))?(0,LA.jsx)(QA,{className:"like-btn",fontSize:28}):(0,LA.jsx)($A,{className:"like-btn",fontSize:28})},m="/tweet/"+(null===r||void 0===r?void 0:r.tweetId),y="/profile/"+(null===r||void 0===r?void 0:r.uid),g="/edit/"+(null===r||void 0===r?void 0:r.tweetId);return(0,LA.jsxs)(LA.Fragment,{children:[l&&(0,LA.jsx)(tO,{setOpenModal:f,deleteId:d,setDeleteId:p}),(0,LA.jsxs)("div",{className:"tweet",children:[(0,LA.jsxs)("div",{className:"content-title",children:[(0,LA.jsxs)("div",{className:"profile-container",children:[(0,LA.jsx)("img",{className:"profile-image",src:null===u||void 0===u?void 0:u.photoURL,alt:"profile"}),(0,LA.jsxs)(Ne,{to:y,children:["@",null===u||void 0===u?void 0:u.name]})]}),(0,LA.jsx)("div",{children:(null===s||void 0===s?void 0:s.uid)===(null===r||void 0===r?void 0:r.uid)&&(0,LA.jsxs)(LA.Fragment,{children:[(0,LA.jsx)(Ne,{to:m,children:(0,LA.jsx)(GA,{className:"admin-btn"})}),(0,LA.jsx)(Ne,{to:g,children:(0,LA.jsx)(YA,{className:"admin-btn admin-edit-btn"})}),(0,LA.jsx)(KA,{className:"admin-btn admin-delete-btn",onClick:function(){f(!0),p(r.tweetId)}})]})})]}),(0,LA.jsxs)("div",{className:"content-container",children:[(0,LA.jsx)("p",{className:"content",children:null===r||void 0===r?void 0:r.tweetBody}),(0,LA.jsx)("p",{className:"content-date",children:a})]}),s&&(0,LA.jsxs)("div",{className:"likes-comments",children:[(0,LA.jsxs)("div",{className:"likes-container",children:[(0,LA.jsx)("button",{onClick:function(){return i((e=r.tweetId,function(){var t=ra(aa().mark((function t(n,r){var i,a,o,s,u;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=r().auth.userInfo,a=i.uid,t.next=5,AA.collection("Tweets").doc(e).get();case 5:return o=t.sent.data(),s=o.likes,u=s.findIndex((function(e){return e===a})),-1===u?s.push(a):s=s.filter((function(e){return e!==a})),t.next=11,AA.collection("Tweets").doc(e).update({likes:s});case 11:n({type:"LIKE_TWEETS",data:{likes:s,tweetId:e}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}()));var e},children:(0,LA.jsx)(v,{})}),(null===r||void 0===r?void 0:r.likes.length)>0?(0,LA.jsxs)("p",{className:"likes-number",children:[null===r||void 0===r?void 0:r.likes.length," ",1===(null===r||void 0===r?void 0:r.likes.length)?"Like":"Likes"]}):(0,LA.jsx)("p",{className:"likes-number",children:"Like"})]}),(0,LA.jsxs)("div",{className:"comments-container",children:[(0,LA.jsx)(Ne,{to:m,children:(0,LA.jsx)(JA,{className:"comment-btn",fontSize:28})}),(0,LA.jsx)("p",{className:"comments-number",children:null===(n=r.comments)||void 0===n?void 0:n.length})]})]})]})]})},rO=function(){var e=A((function(e){return e.post}));return(0,LA.jsx)("div",{className:"tweets-container",children:e.length<=1?(0,LA.jsx)("div",{className:"load-container",children:(0,LA.jsx)(ta,{color:"secondary",size:60})}):e.map((function(e,t){return(0,LA.jsx)("div",{children:(0,LA.jsx)(nO,{tweet:e},t)},t)}))})},iO=function(e){return function(){var t=ra(aa().mark((function t(n,r){var i,a,o,s,u,c,l;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i=r().auth.userInfo,a=i.uid,t.next=5,AA.collection("users").where("uid","==",a).limit(1).get();case 5:return t.sent.forEach((function(e){o=e.data(),s=e.id})),t.next=9,AA.collection("users").where("uid","==",e).limit(1).get();case 9:t.sent.forEach((function(e){u=e.data(),c=e.id})),l=o.following.findIndex((function(t){return t===e})),-1===l?(o.following.push(e),u.followers.push(a)):(o.following=o.following.filter((function(t){return t!==e})),u.followers=u.followers.filter((function(e){return e!==a}))),AA.collection("users").doc(s).update({following:0===o.following.length?[]:o.following}),AA.collection("users").doc(c).update({followers:0===u.followers.length?[]:u.followers}),n({type:"FOLLOWUNFOLLOW",data:{id1:a,following:o.following,id2:e,followers:u.followers}}),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(e,n){return t.apply(this,arguments)}}()},aO=function(){var e,t=I(),n=A((function(e){return e.auth.userInfo})),r=-1;n&&(r=null===n||void 0===n?void 0:n.uid);var i=A((function(e){return e.user.filter((function(e){return e.uid!==r}))})),a=A((function(e){return e.user.filter((function(e){return e.uid===r}))}));a=null===(e=a[0])||void 0===e?void 0:e.following;return(0,LA.jsxs)("div",{className:"userlist",children:[(0,LA.jsx)("h2",{children:"People You May Know"}),i.length?i.map((function(e,r){return(0,LA.jsxs)("div",{className:"profile-container",children:[(0,LA.jsx)("img",{className:"profile-image",src:e.photoURL,alt:"profile"}),(0,LA.jsxs)(Ne,{to:"/profile/".concat(e.uid),children:["@",e.name]}),n&&(0,LA.jsx)("button",{className:"follow-btn",onClick:function(){return n=e.uid,void t(iO(n));var n},children:a&&-1===a.findIndex((function(t){return t===e.uid}))?"Follow":"Following"})]},r)})):(0,LA.jsx)("div",{className:"userList-load-container",children:(0,LA.jsx)(ta,{color:"secondary",size:60})})]})},oO=function(){var e=I(),n=j((0,t.useState)(""),2),r=n[0],i=n[1],a=A((function(e){return e.auth.userInfo}));return(0,LA.jsxs)("div",{className:"home",children:[(0,LA.jsx)(aO,{}),(0,LA.jsx)(rO,{}),a?(0,LA.jsx)("div",{className:"input-tweet",children:(0,LA.jsxs)("form",{onSubmit:function(t){var n;t.preventDefault(),""!==r&&(e((n=r,function(){var e=ra(aa().mark((function e(t,r){var i,a,s;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=r().auth.userInfo,a={uid:i.uid,tweetBody:n,likes:[],comments:[],createdAt:Date.now()},e.next=5,AA.collection("Tweets").add(a);case 5:s=e.sent,t({type:"CREATE_TWEET",data:o(o({},a),{},{tweetId:s.id})}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}())),i(""))},children:[(0,LA.jsx)("textarea",{spellCheck:"false",value:r,rows:8,cols:26,onChange:function(e){return i(e.target.value)}}),(0,LA.jsxs)("div",{className:"input-tweet-btns",children:[(0,LA.jsx)("button",{type:"submit",children:"Tweet"}),(0,LA.jsx)("button",{className:"reset-btn",type:"reset",onClick:function(){i("")},children:"Reset"})]})]})}):(0,LA.jsx)("div",{className:"unAuth",children:"Please Login To Tweet"})]})};function sO(e){return WA({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"}}]})(e)}var uO=function(){var e=I(),n=oe(),r=ae(),i=A((function(e){return e.auth.userInfo})),a=j((0,t.useState)(!1),2),o=a[0],s=a[1];(0,t.useEffect)((function(){s(!1)}),[r]);var u="/profile/"+(null===i||void 0===i?void 0:i.uid);return(0,LA.jsx)(LA.Fragment,{children:(0,LA.jsx)("div",{className:"navbar",children:(0,LA.jsxs)("div",{className:"topnav",id:"myTopnav",children:[(0,LA.jsxs)(Re,{className:"logo-heading",to:"/",id:"active",children:[(0,LA.jsx)(sO,{className:"twitter-icon"}),(0,LA.jsx)("b",{children:"Twitter"})]}),(0,LA.jsxs)("div",{className:o?"menu-toggle is-mobile-active":"menu-toggle",id:"mobile-menu",onClick:function(){return s((function(e){return!e}))},children:[(0,LA.jsx)("span",{className:"bar"}),(0,LA.jsx)("span",{className:"bar"}),(0,LA.jsx)("span",{className:"bar"})]}),(0,LA.jsxs)("div",{className:o?"link-container mobile-active":"link-container",children:[(0,LA.jsx)(Re,{className:function(e){return e.isActive?"active nav-links":"nav-links"},to:"/",children:"Home"}),i?(0,LA.jsxs)(LA.Fragment,{children:[(0,LA.jsx)(Re,{className:"nav-links",to:u,children:"Profile"}),(0,LA.jsx)("button",{className:"nav-links logout-btn",onClick:function(){e(function(e){return function(){var t=ra(aa().mark((function t(n,r){return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,RA.signOut();case 3:n({type:"LOGOUT"}),e("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()}(n))},children:"Logout"})]}):(0,LA.jsxs)(LA.Fragment,{children:[(0,LA.jsx)(Re,{className:"nav-links",to:"/login",children:"Login"}),(0,LA.jsx)(Re,{className:"nav-links",to:"/signup",children:"Signup"})]})]})]})})})},cO=function(){var e,n=I(),r=ue().profileId,i=A((function(e){return e.post.filter((function(e){return(null===e||void 0===e?void 0:e.uid)===r}))})),a=A((function(e){return e.post})),o=A((function(e){return e.user.filter((function(e){return(null===e||void 0===e?void 0:e.uid)===r}))[0]})),s=A((function(e){return e.auth.userInfo})).uid,u=j((0,t.useState)(null),2),c=u[0],l=u[1],f=A((function(e){return e.user.filter((function(e){return e.uid===r}))})),h=null===(e=f=f[0])||void 0===e?void 0:e.followers.findIndex((function(e){return e===s}));return(0,LA.jsxs)("div",{className:"profile",children:[(0,LA.jsxs)("div",{className:"personal-info",children:[(0,LA.jsxs)("div",{className:"image-container",children:[(0,LA.jsx)("img",{className:"main-profile-image",src:null===o||void 0===o?void 0:o.photoURL,alt:"profile"}),s===r&&(0,LA.jsxs)("div",{className:"box",children:[(0,LA.jsxs)("label",{className:"file-label",children:[(0,LA.jsx)(XA,{className:"file-icon"}),(0,LA.jsx)("input",{id:"file-upload",type:"file",className:"profile-input-file",onChange:function(e){e.target.files[0]&&l(e.target.files[0])}})]}),(0,LA.jsx)("button",{onClick:function(){var e;c&&n((e=c,function(){var t=ra(aa().mark((function t(n,r){var i,a,o,s,u,c;return aa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=kA(),t.prev=1,a=r().auth.userInfo,o=a.uid,s=gA(i,"profileImages/"+o+"."+e.name.substring(e.name.lastIndexOf(".")+1)),t.next=7,l=e,f=void 0,XR(Ba(s),l,f);case 7:return t.sent,t.next=10,yA(s);case 10:return u=t.sent,t.next=13,AA.collection("users").where("uid","==",o).limit(1).get();case 13:t.sent.forEach((function(e){c=e.id})),AA.collection("users").doc(c).update({photoURL:u}),n({type:"UPLOAD_DP",data:{id:c,photoURL:u}}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),console.log(t.t0);case 22:case"end":return t.stop()}var l,f}),t,null,[[1,19]])})));return function(e,n){return t.apply(this,arguments)}}()))},children:"Update"})]})]}),(0,LA.jsx)("p",{className:"mt-p",children:null===o||void 0===o?void 0:o.email}),(0,LA.jsx)("p",{className:"mt-p mb-p",children:null===o||void 0===o?void 0:o.name}),s!==r&&(0,LA.jsx)("button",{className:"profile-follow-btn",onClick:function(){n(iO(r))},children:-1!==h?"Following":"Follow"}),(0,LA.jsxs)("div",{className:"tweets-follower-section",children:[(0,LA.jsxs)("div",{className:"tweets-follower-child-section",children:[(0,LA.jsx)("p",{className:"mt-p",children:"Tweets"}),(0,LA.jsx)("p",{className:"mt-p",children:i.length})]}),(0,LA.jsxs)("div",{className:"tweets-follower-child-section",children:[(0,LA.jsx)("p",{className:"mt-p",children:"Followers"}),(0,LA.jsx)("p",{className:"mt-p",children:null===o||void 0===o?void 0:o.followers.length})]}),(0,LA.jsxs)("div",{className:"tweets-follower-child-section",children:[(0,LA.jsx)("p",{className:"mt-p",children:"Following"}),(0,LA.jsx)("p",{className:"mt-p",children:null===o||void 0===o?void 0:o.following.length})]})]})]}),(0,LA.jsx)("div",{className:"tweets-container",children:a.length||i.length?a.length&&!i.length?(0,LA.jsx)("div",{className:"tweet no-tweet-div",children:(0,LA.jsx)("p",{children:"No Tweets"})}):i.map((function(e,t){return(0,LA.jsx)(nO,{tweet:e},t)})):(0,LA.jsx)("div",{className:"load-container",children:(0,LA.jsx)(ta,{color:"secondary",size:60})})})]})},lO=function(){var e=I(),n=oe(),r=ue().editId,i=A((function(e){return e.post.find((function(e){return e.tweetId===r}))})),a=j((0,t.useState)(null===i||void 0===i?void 0:i.tweetBody),2),o=a[0],s=a[1];(0,t.useEffect)((function(){s(null===i||void 0===i?void 0:i.tweetBody)}),[i]);return(0,LA.jsxs)("div",{className:"edit-section",children:[(0,LA.jsx)("textarea",{spellCheck:!1,cols:75,rows:10,value:o,onChange:function(e){return s(e.target.value)}}),(0,LA.jsx)("button",{onClick:function(){var t,i;""!==o&&(e((t=r,i=o,function(){var e=ra(aa().mark((function e(n,r){return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,AA.collection("Tweets").doc(t).update({tweetBody:i});case 3:n({type:"UPDATE_TWEETS",data:{tweetBody:i,tweetId:t}}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}())),n("/"))},children:"Update Tweet"})]})},fO=function(){return A((function(e){return e.auth.userInfo}))?(0,LA.jsx)(Z,{}):(0,LA.jsx)(X,{to:"/login"})},hO=function(){return A((function(e){return e.auth.userInfo}))?(0,LA.jsx)(X,{to:"/"}):(0,LA.jsx)(Z,{})},dO=(n(260),function(e){var t=e.data,n=A((function(e){return e.user.find((function(e){return e.uid===t.uid}))})),r="/profile/"+n.uid;return(0,LA.jsxs)("div",{className:"individual-comment",children:[(0,LA.jsxs)(Ne,{to:r,className:"comment-user",children:["@",null===n||void 0===n?void 0:n.name]}),(0,LA.jsx)("h1",{className:"comment-content",children:null===t||void 0===t?void 0:t.commentBody})]})}),pO=function(){var e=I(),n=ue().id,r=A((function(e){return e.post})).find((function(e){return(null===e||void 0===e?void 0:e.tweetId)===n})),i=A((function(e){return e.user.find((function(e){return(null===e||void 0===e?void 0:e.uid)===(null===r||void 0===r?void 0:r.uid)}))})),a="/profile/"+(null===r||void 0===r?void 0:r.uid),o=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(null===r||void 0===r?void 0:r.createdAt),s=null===r||void 0===r?void 0:r.createdAt;o=eO()(s).format("MMM Do YYYY, h:mm:ss a");var u=j((0,t.useState)(""),2),c=u[0],l=u[1];return(0,LA.jsx)(LA.Fragment,{children:(0,LA.jsxs)("div",{className:"single-tweet-section",children:[(0,LA.jsx)("div",{className:"full-tweet",children:(0,LA.jsxs)("div",{className:"tweet",children:[(0,LA.jsx)("div",{className:"content-title",children:(0,LA.jsxs)("div",{className:"profile-container",children:[(0,LA.jsx)("img",{className:"profile-image",src:null===i||void 0===i?void 0:i.photoURL,alt:"profile"}),(0,LA.jsxs)(Ne,{to:a,children:["@",null===i||void 0===i?void 0:i.name]})]})}),(0,LA.jsxs)("div",{className:"content-container",children:[(0,LA.jsx)("p",{className:"content",children:null===r||void 0===r?void 0:r.tweetBody}),(0,LA.jsx)("p",{className:"content-date",children:o})]})]})}),(0,LA.jsxs)("div",{className:"comment-input-div",children:[(0,LA.jsx)("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)}}),(0,LA.jsx)("button",{onClick:function(){var t,r;""!==c&&(e((t=n,r=c,function(){var e=ra(aa().mark((function e(n,i){var a,o,s,u,c;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=i().auth.userInfo,o=a.uid,s={uid:o,commentBody:r,createdAt:Date.now()},e.next=6,AA.collection("Tweets").doc(t).get();case 6:return u=e.sent.data(),(c=u.comments).push(s),e.next=11,AA.collection("Tweets").doc(t).update({comments:c});case 11:n({type:"CREATE_COMMENT",data:{postComments:c,tweetId:t}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}())),l(""))},children:"Comment"})]}),(0,LA.jsx)("div",{className:"display-comment-section",children:(null===r||void 0===r?void 0:r.comments)&&(null===r||void 0===r?void 0:r.comments.slice(0).reverse().map((function(e,t){return(0,LA.jsx)(dO,{data:e},t)})))})]})})},vO=function(){return(0,LA.jsx)("div",{className:"footer-container",children:"Made by Nevil Dalsania | React Project for WoC 4.0 - 2022 | Copyrights \xa9 Reserved"})},mO=function(){var e=I(),n=j((0,t.useState)(!1),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){RA.onAuthStateChanged((function(t){t?(e(DA(t)),i(!0)):(e(DA(null)),i(!0))})),e(function(){var e=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[],e.next=4,AA.collection("users").get();case 4:e.sent.forEach((function(e){r.push(o(o({},e.data()),{},{id:e.id}))})),t({type:"FETCH_USERS",data:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()),e(function(){var e=ra(aa().mark((function e(t,n){var r;return aa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=[],e.next=4,AA.collection("Tweets").orderBy("createdAt","desc").get();case 4:e.sent.forEach((function(e){r.push(o(o({},e.data()),{},{tweetId:e.id}))})),t({type:"FETCH_TWEETS",data:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}())}),[e]),r?(0,LA.jsx)(LA.Fragment,{children:(0,LA.jsxs)(Ce,{children:[(0,LA.jsx)(uO,{}),(0,LA.jsxs)(ne,{children:[(0,LA.jsx)(ee,{exact:!0,path:"/",element:(0,LA.jsx)(oO,{})}),(0,LA.jsxs)(ee,{exact:!0,path:"/",element:(0,LA.jsx)(fO,{}),children:[(0,LA.jsx)(ee,{exact:!0,path:"/edit/:editId",element:(0,LA.jsx)(lO,{})}),(0,LA.jsx)(ee,{exact:!0,path:"/tweet/:id",element:(0,LA.jsx)(pO,{})}),(0,LA.jsx)(ee,{exact:!0,path:"/profile/:profileId",element:(0,LA.jsx)(cO,{})})]}),(0,LA.jsxs)(ee,{exact:!0,path:"/",element:(0,LA.jsx)(hO,{}),children:[(0,LA.jsx)(ee,{exact:!0,path:"login",element:(0,LA.jsx)(FA,{})}),(0,LA.jsx)(ee,{exact:!0,path:"signup",element:(0,LA.jsx)(UA,{})})]})]}),(0,LA.jsx)(vO,{})]})}):(0,LA.jsx)("div",{className:"home-loading",children:(0,LA.jsx)(ta,{color:"secondary",size:80})})},yO={userInfo:null,error:null,loading:!1},gO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yO,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":case"SIGN_UP":return o(o({},e),{},{userInfo:t.data,loading:!1});case"LOGOUT":return o(o({},e),{},{userInfo:null});case"SET_USER":return o(o({},e),{},{userInfo:t.data});case"CLEAR_ERROR":return o(o({},e),{},{error:null});default:return e}},kO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_TWEET":return[t.data].concat(Un(e));case"FETCH_TWEETS":return t.data;case"DELETE_TWEETS":return e.filter((function(e){return e.tweetId!==t.data}));case"UPDATE_TWEETS":return e.map((function(e){return e.tweetId===t.data.tweetId?o(o({},e),{},{tweetBody:t.data.tweetBody}):e}));case"LIKE_TWEETS":return e.map((function(e){return e.tweetId===t.data.tweetId?o(o({},e),{},{likes:t.data.likes}):e}));case"CREATE_COMMENT":return e.map((function(e){return e.tweetId===t.data.tweetId?o(o({},e),{},{comments:t.data.postComments}):e}));default:return e}},wO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS":return t.data;case"UPLOAD_DP":return e.map((function(e){return e.id===t.data.id?o(o({},e),{},{photoURL:t.data.photoURL}):e}));case"FOLLOWUNFOLLOW":return e=e.map((function(e){return e.uid===t.data.id1?o(o({},e),{},{following:t.data.following}):e})),e=e.map((function(e){return e.uid===t.data.id2?o(o({},e),{},{followers:t.data.followers}):e})),e;default:return e}},bO=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:l.INIT}))throw new Error(s(12));if("undefined"===typeof n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var c=o[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(s(14))}i[c]=h,r=r||h!==f}return(r=r||o.length!==Object.keys(e).length)?i:e}}({auth:gO,post:kO,user:wO}),_O=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(s(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(s(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(s(2));var a=t,o=n,c=[],h=c,d=!1;function p(){h===c&&(h=c.slice())}function v(){if(d)throw new Error(s(3));return o}function m(e){if("function"!==typeof e)throw new Error(s(4));if(d)throw new Error(s(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(s(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),c=null}}}function y(e){if(!f(e))throw new Error(s(7));if("undefined"===typeof e.type)throw new Error(s(8));if(d)throw new Error(s(9));try{d=!0,o=a(o,e)}finally{d=!1}for(var t=c=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(s(10));a=e,y({type:l.REPLACE})}function k(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(s(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[u]=function(){return this},e}return y({type:l.INIT}),(i={dispatch:y,subscribe:m,getState:v,replaceReducer:g})[u]=k,i}(bO,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(s(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=h.apply(void 0,a)(n.dispatch),o(o({},n),{},{dispatch:r})}}}(D));r.render((0,LA.jsx)(k,{store:_O,children:(0,LA.jsx)(mO,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.6852b456.js.map